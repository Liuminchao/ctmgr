!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WIND=e():t.WIND=e()}(this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=15)}([function(t,e,r){t.exports=r(91)},function(t,e){function r(t,e,r,n,i,a,o){try{var s=t[a](o),h=s.value}catch(t){return void r(t)}s.done?e(h):Promise.resolve(h).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,h,"next",t)}function h(t){r(o,i,a,s,h,"throw",t)}s(void 0)})}}},,,,,,function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";var n=r(78),i=r(124),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"==typeof t}function h(t){return"[object Function]"===a.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:h,isStream:function(t){return s(t)&&h(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return e},extend:function(t,e,r){return u(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,function(t,e,r){var n=r(65),i=n.Buffer;function a(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=o),a(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(65).Buffer)},function(t,e,r){var n=r(140),i=r(141),a=r(142);t.exports=function(t,e){return n(t)||i(t,e)||a()}},,function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),a=r(1),o=r.n(a),s=r(87),h=r.n(s),u=r(31),c=r.n(u),g=function(t){this._serverIp=t.serverIp,this._appKey=t.appKey,this._appSecret=t.appSecret,this._token=void 0};g.retryCount=3,g.prototype={getToken:function(){var t=o()(i.a.mark(function t(){var e,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this._token){t.next=6;break}return t.next=3,c.a.post("".concat(this._serverIp,"/api/v1/token"),{appKey:this._appKey,appSecret:this._appSecret});case 3:e=t.sent,0===(r=e.data).code?this._token=r.data.token:(this._token=void 0,console.log("REQUEST ERROR: ",r.message));case 6:return t.abrupt("return",this._token);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getJsonRequest:function(){var t=o()(i.a.mark(function t(e){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:if(t.t0=t.sent,t.t1=void 0,t.t0!==t.t1){t.next=6;break}return t.abrupt("return",void 0);case 6:return t.next=8,c.a.get(e,{headers:{"x-access-token":this._token}});case 8:if(r=t.sent,56!==(n=r.data).code){t.next=17;break}return this._token=void 0,t.next=14,this.getJsonRequest(e);case 14:return t.abrupt("return",t.sent);case 17:if(0!==n.code){t.next=21;break}return t.abrupt("return",n.data);case 21:return console.log("REQUEST ERROR: ",n.message),t.abrupt("return",void 0);case 23:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllModelParameter:function(){var t=o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this._serverIp,"/api/v1/models"),t.next=3,this.getJsonRequest(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getModelParameter:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(this._serverIp,"/api/v1/models/").concat(e),t.next=3,this.getJsonRequest(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllStoreyParameter:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(this._serverIp,"/api/v1/models/").concat(e,"/storeys?version=").concat(r),t.next=3,this.getJsonRequest(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),getAllRelationParameter:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(this._serverIp,"/api/v1/models/").concat(e,"/relations?version=").concat(n,"&property=").concat(r),t.next=3,this.getJsonRequest(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getAllComponentParameter:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(this._serverIp,"/api/v1/models/").concat(e,"/components?version=").concat(n,"&property=").concat(r),t.next=3,this.getJsonRequest(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getParameterGroupNames:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(this._serverIp,"/api/v1/models/").concat(e,"/propertiesGroups?version=").concat(r),t.next=3,this.getJsonRequest(n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),getEntityParameter:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(this._serverIp,"/api/v1/entity/").concat(e,"?modelId=").concat(r,"&version=").concat(n),t.next=3,this.getJsonRequest(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getModelTypeCount:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(this._serverIp,"/api/v1/models/").concat(e,"/count?type=").concat(r,"&version=").concat(n),t.next=3,this.getJsonRequest(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),componentSearch:function(){},relationSearch:function(){},loadModelData:function(){var t=o()(i.a.mark(function t(e,r,n,a){var o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:if(t.t0=t.sent,t.t1=void 0,t.t0!==t.t1){t.next=6;break}return t.abrupt("return",void 0);case 6:return t.next=8,c.a.get("".concat(this._serverIp,"/api/v1/models/").concat(e,"/modeldata?type=").concat(n,"&skip=").concat(a,"&version=").concat(r),{responseType:"arraybuffer",headers:{"x-access-token":this._token}});case 8:if(o=t.sent,56!==(s=h()().decode(o.data)).code){t.next=17;break}return this._token=void 0,t.next=14,this.loadModelData();case 14:return t.abrupt("return",t.sent);case 17:if(0!==s.code){t.next=21;break}return t.abrupt("return",s.data);case 21:return console.log("REQUEST ERROR: ",s.message),t.abrupt("return",void 0);case 23:case"end":return t.stop()}},t,this)}));return function(e,r,n,i){return t.apply(this,arguments)}}(),deleteModelData:function(){var t=o()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getToken();case 2:if(t.t0=t.sent,t.t1=void 0,t.t0!==t.t1){t.next=6;break}return t.abrupt("return",void 0);case 6:return t.next=8,c.a.delete("".concat(this._serverIp,"/api/v1/models/").concat(e),{headers:{"x-access-token":this._token}});case 8:t.sent;case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()};var A=g,d={OBJECT_TYPE:0,ELEMENT_TYPE:1,PROJECT_TYPE:2,STOREY_TYPE:3,TEMPLATE_TYPE:37,ENTITY_TYPE:64,COMPONENT_TYPE:65,ASSISTANT_TYPE:66,RELATION_TYPE:112,MODELGROUP_TYPE:113,ASSEMBLY_TYPE:114,AXISGRID_TYPE:145,ROOMSPACE_TYPE:146,NODE_TYPE:513,GROUP_TYPE:514,CAMERA_TYPE:515,MATRIXTRANSFORM_TYPE:516,GEODE_TYPE:517,RENDERENTITY_TYPE:518,RENDERCOMPONENT_TYPE:519,RENDERAXISGRID_TYPE:520,RENDERRELATION_TYPE:521,BUILDING_TYPE:538,SWITCH_TYPE:539,BILLBOARD_TYPE:540,SCENEROOT_TYPE:544,GEOMETRY_TYPE:4353,PRIMITIVES_TYPE:4354,DRAWARRAYS_TYPE:4355,DRAWELEMENTS_TYPE:4356,TEXT_TYPE:4357,STATEATTRIBUTE_TYPE:4609,MATERIALCOLOR_TYPE:4610,MATERIALTEXTURE_TYPE:4611};Object.freeze(d);var p=d,_=function(){this._name=void 0,this._id=-1},C=0;_.getInstanceID=function(){return C+=1},_.prototype={reset:function(){this._name=void 0},setName:function(t){this._name=t},getName:function(){return this._name},setID:function(t){this._id=t},getID:function(){return-1===this._id&&(this._id=_.getInstanceID()),this._id},readBlob:function(t){}},_.typeID=_.prototype.typeID=p.OBJECT_TYPE;var I=_,m={BEGIN:"begin",PROJECT:"project",STOREY:"storey",RELATION:"relation",STATESET:"stateset",GEOMETRY:"geometry",BIG_GEOMETRY:"big_geometry",COMPONENT:"component",BIG_COMPONENT_GEOMETRY:"big_component_geometry",AXISGRID:"axisgrid",END:"end",BIND:1,OPEN:2,CLOSE:3,PROJECT_NAME:10,PROJECT_UNIQUEID:11,PROJECT_TYPE:12,PROJECT_INFO:13,MODEL_ID:14,MODEL_VERSION:15,STOREY_NAME:20,STOREY_UNIQUEID:21,STOREY_ELEVATION:22,STOREY_HEIGHT:23,TYPE_NAME:30,TYPE_UNIQUEID:31,TYPE_ORIGINID:32,DOMAIN_NAME:33,CATEGORY_NAME:34,COMPONENT_NAME:40,COMPONENT_UNIQUEID:41,COMPONENT_ORIGINID:42,COMPONENT_NAME_ORIGINID:43,RELATION_NAME:50,RELATION_UNIQUEID:51,RELATION_ORIGINID:52,AXISGRID_NAME:70,AXISGRID_UNIQUEID:71,AXISGRID_ORIGINID:72,ROOMSPACE_NAME:80,ROOMSPACE_UNIQUEID:81,ROOMSPACE_ORIGINID:82};Object.freeze(m);var v=m,y=function(){I.call(this),this._uniqueID=void 0,this._originID=-1,this._project=void 0};(y.prototype=Object.create(I.prototype)).constructor=y,Object.assign(y.prototype,{setUniqueID:function(t){this._uniqueID=t},getUniqueID:function(){return this._uniqueID},setOriginID:function(t){this._originID=t},getOriginID:function(){return this._originID},setProject:function(t){this._project=t},getProject:function(){return this._project},getKeyValue:function(t){switch(t){case v.PROJECT_NAME:return this._project.getName();case v.PROJECT_UNIQUEID:return this._project.getUniqueID();case v.MODEL_ID:return this._project.modelId();case v.MODEL_VERSION:return this._project.version();default:return""}},getParameter:function(){}}),y.typeID=y.prototype.typeID=p.ELEMENT_TYPE;var E=y,w=function(t,e){E.call(this),this._modelId=t,this._version=e,this._type=0,this._info=void 0,this._building=void 0};(w.prototype=Object.create(E.prototype)).constructor=w,Object.assign(w.prototype,{modelId:function(){return this._modelId},version:function(){return this._version},setType:function(t){this._type=t},getType:function(){return this._type},setInfo:function(t){this._info=t},getInfo:function(){return this._info},setBuilding:function(t){this._building=t},getBuilding:function(){return this._building},getParameter:function(){var t={};return t.name=this._name,t.modelId=this._modelId,t.version=this._version,t}}),w.typeID=w.prototype.typeID=p.PROJECT_TYPE;var S=w;function b(){E.call(this),this._elevation=0,this._height=0}b.prototype=Object.create(E.prototype),b.prototype.constructor=b,Object.assign(b.prototype,{setElevation:function(t){this._elevation=t},getElevation:function(){return this._elevation},setHeight:function(t){this._height=t},getHeight:function(){return this._height},getTopElevation:function(){return this._elevation+this._height},getKeyValue:function(t){switch(t){case v.STOREY_NAME:return this._name;case v.STOREY_ELEVATION:return this._elevation;case v.STOREY_HEIGHT:return this._height;default:return E.prototype.getKeyValue.call(this,t)}},getParameter:function(){var t={};return t.modelId=this.getKeyValue(v.MODEL_ID),t.version=this.getKeyValue(v.MODEL_VERSION),t.name=this.getKeyValue(v.STOREY_NAME),t.elevation=this.getKeyValue(v.STOREY_ELEVATION),t.height=this.getKeyValue(v.STOREY_HEIGHT),t.project=this.getKeyValue(v.PROJECT_NAME),t}}),b.typeID=b.prototype.typeID=p.STOREY_TYPE;var T=b,M={Chinese:0,English:1};Object.freeze(M);var P={CONTROL:1,ROAMING:2,SECTION:4,MEASURE:8};P.ALL=P.CONTROL|P.ROAMING|P.SECTION|P.MEASURE,Object.freeze(P);var R={UNKNOWN:0,DATALOAD_CHANGED:1,SINGLE_PICKED:20,DISPLAYTREE_CREATED:21,DISPLAYTREE_UPDATED:22,ROAMINGSTATE_CHANGED:25,SECTIONSTATE_CHANGED:50,MEASURESTATE_CHANGED:90,WEBGLCONTEXT_LOST:200};Object.freeze(R);var x={PROJECT_NAME:1,STOREY_NAME:2,TYPE_NAME:3,DOMAIN_NAME:4,CATEGORY_NAME:5,COMPONENT_NAME:6,COMPONENT_UNIQUEID:7,COMPONENT_ORIGINID:8,COMPONENT_NAME_ORIGINID:9};Object.freeze(x);var O={UNCHECKED:1,PARTIALLYCHECKED:2,CHECKED:3};Object.freeze(O);var N={PICK:1,ROTATE:2,PAN:3};Object.freeze(N);var L={VIEW:0,DOT:1,DISTANCE:2,ANGLE:4,LENGTH:5};Object.freeze(L);var D={EPSILON:1e-6};D.RANDOM=Math.random,D.PI=3.141592653589793,D.PI_2=1.5707963267948966,D.PI_4=.7853981633974483,D.PI_6=.5235987755982988,D.PI_12=.2617993877991494,D._2_PI=6.283185307179586,D.METER_PER_MILLIMETER=1e3,D.MILLIMETER_PER_METER=.001,D.CENTIMETER_PER_MILLIMETER=10,D.FOOT_PER_MILLIMETER=304.8,D.INCH_PER_MILLIMETER=25.4,D.YARD_PER_MILLIMETER=914.4,D.MICROMETER_PER_MILLIMETER=.001,D.MIL_PER_MILLIMETER=.0254,D.FOOT_PER_METER=.3048,D.METER_PER_FOOT=3.2808398950131,D.MILLIMETER_PER_FOOT=.0032808398950131,D.KILOMETER_PER_METER=1e3,D.MILE_PER_METER=1609.344,D.SECOND_PER_MILLISECOND=1e3,D.MILLISECOND_PER_SECOND=.001,D.INSIDE=1,D.INTERSECT=2,D.OUTSIDE=3,D.MAX_POLYTOPE_INTERSECTIUON_NUMBER=6,D.SHAPE_TESSELLATION_LEVEL=12,D.between=function(t,e,r){return Math.min(Math.max(t,e),r)},D.radian_to_degree=function(t){return 180*t/D.PI},D.degree_to_radian=function(t){return t*D.PI/180};var F=D,B=function(t){this._func=t,this._pool=[]};B.prototype={alloc:function(){return 0===this._pool.length?this._func.call(this):this._pool.pop()},free:function(t){this._pool.push(t)},collect:function(){this._pool=[]}};var U=B,G={};function k(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function V(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function H(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Y(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function j(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function X(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}function Q(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}G.new=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},G.MemoryPool=new U(G.new),G.alloc=G.MemoryPool.alloc,G.free=G.MemoryPool.free,G.new_d=function(){var t=new Float64Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},G.MemoryPool_d=new U(G.new_d),G.alloc_d=G.MemoryPool_d.alloc,G.free_d=G.MemoryPool_d.free,G.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},G.clone_d=function(t){var e=new Float64Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},G.create=function(t,e,r,n){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},G.create_d=function(t,e,r,n){var i=new Float64Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},G.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},G.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},G.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},G.subtract=k,G.sub=k,G.multiply=V,G.mul=V,G.divide=H,G.div=H,G.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},G.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},G.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},G.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},G.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},G.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},G.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},G.distance=Y,G.dist=Y,G.squaredDistance=j,G.sqrDist=j,G.length=X,G.len=X,G.squaredLength=Q,G.sqrLen=Q,G.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},G.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},G.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;o>0&&(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o);return t},G.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},G.lerp=function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t},G.random=function(t,e){return e=e||1,t[0]=glMatrix.RANDOM(),t[1]=glMatrix.RANDOM(),t[2]=glMatrix.RANDOM(),t[3]=glMatrix.RANDOM(),G.normalize(t,t),G.scale(t,t,e),t},G.transformMat4=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t},G.transformQuat=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],h=r[2],u=r[3],c=u*n+s*a-h*i,l=u*i+h*n-o*a,g=u*a+o*i-s*n,f=-o*n-s*i-h*a;return t[0]=c*u+f*-o+l*-h-g*-s,t[1]=l*u+f*-s+g*-o-c*-h,t[2]=g*u+f*-h+c*-s-l*-o,t[3]=e[3],t},G.str=function(t){return"Vec4."+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},G.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},G.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],h=e[2],u=e[3];return Math.abs(r-o)<=F.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-h)<=F.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-u)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))};var W=G,z={};z.new=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t},z.MemoryPool=new U(z.new),z.new_d=function(){var t=new Float64Array(3);return t[0]=0,t[1]=0,t[2]=0,t},z.MemoryPool_d=new U(z.new_d),z.alloc_d=z.MemoryPool_d.alloc,z.free_d=z.MemoryPool_d.free,z.clone=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},z.clone_d=function(t){var e=new Float64Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},z.create=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n},z.create_d=function(t,e,r){var n=new Float64Array(3);return n[0]=t,n[1]=e,n[2]=r,n},z.POSITIVE_INFINITY=z.create(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),z.NEGATIVE_INFINITY=z.create(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),z.POSITIVE_INFINITY_D=z.create_d(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),z.NEGATIVE_INFINITY_D=z.create_d(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),z.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},z.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},z.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},z.addValue=function(t,e,r,n,i){return t[0]=e[0]+r,t[1]=e[1]+n,t[2]=e[2]+i,t},z.subtract=z.sub=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},z.multiply=z.mul=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},z.divide=z.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},z.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},z.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},z.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},z.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},z.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},z.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},z.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},z.distance=z.dist=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)},z.squaredDistance=z.sqrDist=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i},z.length=z.len=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},z.squaredLength=z.sqrLen=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},z.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;if(a>F.EPSILON){var o=1/(a=Math.sqrt(a));return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,a}return t[0]=0,t[1]=0,t[2]=0,0},z.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},z.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},z.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},z.cross=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],h=r[2];return t[0]=i*h-a*s,t[1]=a*o-n*h,t[2]=n*s-i*o,t},z.lerp=function(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t},z.hermite=function(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,h=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+r[0]*h+n[0]*u+i[0]*c,t[1]=e[1]*s+r[1]*h+n[1]*u+i[1]*c,t[2]=e[2]*s+r[2]*h+n[2]*u+i[2]*c,t},z.bezier=function(t,e,r,n,i,a){var o=1-a,s=o*o,h=a*a,u=s*o,c=3*a*s,l=3*h*o,g=h*a;return t[0]=e[0]*u+r[0]*c+n[0]*l+i[0]*g,t[1]=e[1]*u+r[1]*c+n[1]*l+i[1]*g,t[2]=e[2]*u+r[2]*c+n[2]*l+i[2]*g,t},z.random=function(t,e){e=e||1;var r=2*F.RANDOM()*Math.PI,n=2*F.RANDOM()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t},z.transformMat4=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t},z.transformMat3=function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t},z.transformQuat=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],h=r[2],u=r[3],c=u*n+s*a-h*i,l=u*i+h*n-o*a,g=u*a+o*i-s*n,f=-o*n-s*i-h*a;return t[0]=c*u+f*-o+l*-h-g*-s,t[1]=l*u+f*-s+g*-o-c*-h,t[2]=g*u+f*-h+c*-s-l*-o,t},z.rotateX=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},z.rotateY=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},z.rotateZ=function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},z.forEach=function(t,e,r,n,i,a){var o,s;e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length;var h=z.create();for(o=r;o<s;o+=e)h[0]=t[o],h[1]=t[o+1],h[2]=t[o+2],i(h,h,a),t[o]=h[0],t[o+1]=h[1],t[o+2]=h[2];return t},z.angle=function(t,e){var r=z.dot(t,e);return r>1?0:Math.acos(r)},z.str=function(t){return"Vec3("+t[0]+", "+t[1]+", "+t[2]+")"},z.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},z.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(r-a)<=F.EPSILON&&Math.abs(n-o)<=F.EPSILON&&Math.abs(i-s)<=F.EPSILON};var J=z,K={LANGUAGE_TYPE:M.Chinese,BackgroundColor:W.create(.76,.75,.85,1),HighlightColor:W.create(1,0,0,1),TransparentColor:W.create(.8,.8,.8,.1),CAMERA_PERSPECTIVE_FOV:30,TEXT_SIZE:500,NAVIGATE_RIGHT_MARGIN:0,NAVIGATE_TOP_MARGIN:0,NAVIGATE_WIDTH_SIZE:120,LEFT_MOUSE_OPERATION:N.PICK,HOME_EYE_POSITION:J.create(.5773502588272095,-.5773502588272095,.5773502588272095),HOME_UP_DIRECTION:J.create(-.5773502588272095,.5773502588272095,.5773502588272095),CHARACTER_SPEED:4e3,CHARACTER_FOV:30,CHARACTER_MIN_FOV:30,CHARACTER_MAX_FOV:75,CHARACTER_CLIMB_HEIGHT:500,CHARACTER_JUMP_HEIGHT:800,CHARACTER_GRAVITY_SPEED:9800,CHARACTER_COLLISION_TIME:6,CHARACTER_HORIZONTAL_SENSITIVITY:F.PI_4,CHARACTER_VERTICAL_SENSITIVITY:F.PI_6,CHARACTER_CAMERA_DISTANCE:5e3,CHARACTER_CAMERA_MIN_DISTANCE:1e3,CHARACTER_CAMERA_MAX_DISTANCE:1e4,CHARACTER_CAMERA_MIN_PITCH:-F.PI_2,CHARACTER_CAMERA_MAX_PITCH:F.PI_6,CHARACTER_HEIGHT:1700,CHARACTER_WIDTH:400,FRAME_FIX_TIME:60,MEASURE_TYPE:L.DOT};Object.freeze(K);var Z=K,$={LanguageType:Z.LANGUAGE_TYPE,setLanguageType:function(t){if($.LanguageType!==t)switch(t){case M.English:$.LanguageType=t;break;default:$.LanguageType=M.Chinese}}},tt=$,et={Unknown:0,Other:1,Architecture:2,Structure:3,WSD:4,HVAC:5,Electricity:6,FireProtection:7,CurtainWall:8,SteelStructure:9,Fabrication:10};et.getDomainName=function(t){switch(tt.LanguageType){case M.Chinese:return function(t){switch(t){case et.Other:return"其他";case et.Architecture:return"建筑";case et.Structure:return"结构";case et.WSD:return"给排水";case et.HVAC:return"暖通";case et.Electricity:return"电气";case et.FireProtection:return"消防";case et.CurtainWall:return"幕墙";case et.SteelStructure:return"钢结构";case et.Fabrication:return"预制";default:return void console.log("unsupport domain type:"+t)}}(t);case M.English:return function(t){switch(t){case et.Other:return"Other";case et.Architecture:return"Architecture";case et.Structure:return"Structure";case et.WSD:return"WSD";case et.HVAC:return"HVAC";case et.Electricity:return"Electricity";case et.FireProtection:return"FireProtection";case et.CurtainWall:return"CurtainWall";case et.SteelStructure:return"SteelStructure";case et._Fabrication:return"Fabrication";default:return void console.log("unsupport domain type:"+t)}}(t);default:return void console.log("unsupport language:"+t)}},Object.freeze(et);var rt=et,nt={Unknown:0,ModelGroup:1,Assembly:2,AxisGrid:50,Rooms:51,Wall:100,Column:101,Beam:102,Door:103,Window:104,Roof:105,Cutter:106,Fascia:107,EdgeSlab:108,RoofSoffit:109,StairsRailing:110,Floor:111,Stair:112,SpecialityEquipment:113,Mass:114,Parking:115,Topography:116,Site:117,Ramp:118,Ceiling:119,Furniture:120,FurnitureSystem:121,GenericModel:122,Casework:123,CurtainWallMullion:124,CurtainWallPanel:125,CurtaSystem:126,Planting:127,Entourage:128,ShaftOpening:129,Roads:130,Chimney:131,BuildingPad:132,Cornices:133,RailingTopRail:134,Parts:135,StructuralFoundation:200,StructuralColumn:201,StructuralTrus:202,StructuralFraming:203,StructuralFramingSystem:204,StructConnection:205,Rebar:206,Plate:207,Fastener:208,StructuralWall:209,StructuralStiffener:210,StructuralFloor:211,Pipe:300,FlexPipeCurve:301,PipeFitting:302,PipeAccessory:303,Duct:304,FlexDuctCurve:305,DuctFitting:306,DuctAccessory:307,DuctTerminal:308,CableTray:309,CableTrayFitting:310,Conduit:311,ConduitFitting:312,Wire:313,PlumbingFixture:314,Sprinkler:315,SecurityDevice:316,NurseCallDevice:317,DataDevice:318,MechanicalEquipment:319,FireAlarmDevice:320,LightingDevice:321,LightingFixture:322,ElectricalEquipment:323,ElectricalFixture:324,TelephoneDevice:325,CommunicationDevice:326,HVACDevice:327,WSDDevice:328,FireProtectionDevice:329,AirCondition:330,AirTerminalBox:331,Boiler:332,Burner:333,Chiller:334,Coil:335,Compressor:336,Condenser:337,CooledBeam:338,CoolingTower:339,Damper:340,DuctSilencer:341,Engine:342,Evaporator:343,EvaporativeCooler:344,Fan:345,Filter:346,Flowmeter:347,HeatExchanger:348,Humidifier:349,Pump:350,SpaceHeater:351,Tank:352,TubeBundle:353,UnitaryEquipment:354,Valve:355,VibrationIsolator:356,ElectricGenerator:357,ElectricMotor:358,JunctionBox:359,Outlet:360,SwitchingDevice:361,ProtectiveDevice:362,Transformer:363,PipeInsulation:364,DuctInsulation:365,FabricationParts:366,FabricationPipework:367,FabricationContainment:368,FabricationHangers:369,FabricationDuctwork:370};nt.getCategoryName=function(t){switch(tt.LanguageType){case M.Chinese:return function(t){switch(t){case nt.ModelGroup:return"模型组";case nt.Assembly:return"部件";case nt.AxisGrid:return"轴网";case nt.Rooms:return"房间";case nt.Wall:return"墙";case nt.Column:return"柱";case nt.Beam:return"梁";case nt.Door:return"门";case nt.Window:return"窗";case nt.Roof:return"屋顶";case nt.Cutter:return"檐沟";case nt.Fascia:return"封檐带";case nt.EdgeSlab:return"楼板边缘";case nt.RoofSoffit:return"屋檐底板";case nt.StairsRailing:return"栏杆扶手";case nt.RailingTopRail:return"顶部扶栏";case nt.Floor:return"楼板";case nt.Stair:return"楼梯";case nt.SpecialityEquipment:return"专用设备";case nt.Mass:return"体量";case nt.Parking:return"停车场";case nt.Topography:return"地形";case nt.BuildingPad:return"建筑地坪";case nt.Site:return"场地";case nt.Ramp:return"坡道";case nt.Ceiling:return"天花板";case nt.Furniture:return"家具";case nt.FurnitureSystem:return"家具系统";case nt.GenericModel:return"常规模型";case nt.Casework:return"橱柜";case nt.CurtainWallMullion:return"幕墙竖梃";case nt.CurtainWallPanel:return"幕墙嵌板";case nt.CurtaSystem:return"幕墙系统";case nt.Planting:return"植物";case nt.Entourage:return"环境";case nt.ShaftOpening:return"竖井洞口";case nt.Roads:return"道路";case nt.Chimney:return"烟囱";case nt.Cornices:return"墙饰条";case nt.Parts:return"组成部分";case nt.StructuralFoundation:return"结构基础";case nt.StructuralColumn:return"结构柱";case nt.StructuralTrus:return"结构桁架";case nt.StructuralFraming:return"结构框架";case nt.StructuralFramingSystem:return"结构梁系统";case nt.StructConnection:return"结构连接";case nt.Rebar:return"结构钢筋";case nt.Plate:return"钢板";case nt.Fastener:return"螺栓";case nt.StructuralWall:return"结构墙";case nt.StructuralStiffener:return"结构加强板";case nt.StructuralFloor:return"结构楼板";case nt.Pipe:return"管道";case nt.FlexPipeCurve:return"软管";case nt.PipeFitting:return"管件";case nt.PipeAccessory:return"管路附件";case nt.Duct:return"风管";case nt.FlexDuctCurve:return"软风管";case nt.DuctFitting:return"风管管件";case nt.DuctAccessory:return"风管附件";case nt.DuctTerminal:return"风道末端";case nt.CableTray:return"电缆桥架";case nt.CableTrayFitting:return"电缆桥架配件";case nt.Conduit:return"线管";case nt.ConduitFitting:return"线管配件";case nt.Wire:return"导线";case nt.PlumbingFixture:return"卫浴装置";case nt.Sprinkler:return"喷头";case nt.SecurityDevice:return"安全设备";case nt.NurseCallDevice:return"护理呼叫设备";case nt.DataDevice:return"数据设备";case nt.MechanicalEquipment:return"机械设备";case nt.FireAlarmDevice:return"火警设备";case nt.LightingDevice:return"灯具";case nt.LightingFixture:return"照明设备";case nt.ElectricalEquipment:return"电气设备";case nt.ElectricalFixture:return"电气装置";case nt.TelephoneDevice:return"电话设备";case nt.CommunicationDevice:return"通讯设备";case nt.HVACDevice:return"暖通设备";case nt.WSDDevice:return"给排水设备";case nt.FireProtectionDevice:return"消防设备";case nt.AirCondition:return"空调机组";case nt.AirTerminalBox:return"空气盒";case nt.Boiler:return"锅炉";case nt.Burner:return"燃烧器";case nt.Chiller:return"冷水机组";case nt.Coil:return"盘管";case nt.Compressor:return"压缩机";case nt.Condenser:return"冷凝器";case nt.CooledBeam:return"冷梁";case nt.CoolingTower:return"冷却塔";case nt.Damper:return"风阀";case nt.DuctSilencer:return"消声器";case nt.Engine:return"发动机";case nt.Evaporator:return"蒸发器";case nt.EvaporativeCooler:return"蒸发式冷凝器";case nt.Fan:return"通风机";case nt.Filter:return"过滤器";case nt.Flowmeter:return"流量计";case nt.HeatExchanger:return"换热器";case nt.Humidifier:return"加湿器";case nt.Pump:return"水泵";case nt.SpaceHeater:return"散热器";case nt.Tank:return"水箱";case nt.TubeBundle:return"管束";case nt.UnitaryEquipment:return"单元设备";case nt.Valve:return"水阀";case nt.VibrationIsolator:return"隔振器";case nt.ElectricGenerator:return"发电机";case nt.ElectricMotor:return"电动机";case nt.Cateogry_JunctionBox:return"接线盒";case nt.Outlet:return"插座";case nt.SwitchingDevice:return"开关";case nt.ProtectiveDevice:return"防护设备";case nt.Transformer:return"变压器";case nt.PipeInsulation:return"管道隔热层";case nt.DuctInsulation:return"风管隔热层";case nt.FabricationParts:return"预制构件";case nt.FabricationPipework:return"预制管道";case nt.FabricationContainment:return"预制保护层";case nt.FabricationHangers:return"预制支架";case nt.FabricationDuctwork:return"预制管网";default:return void console.log("unsupport category type:"+t)}}(t);case M.English:return function(t){switch(t){case nt.ModelGroup:return"ModelGroup";case nt.Assembly:return"Assembly";case nt.AxisGrid:return"AxisGrid";case nt.Rooms:return"Rooms";case nt.Wall:return"Wall";case nt.Column:return"Column";case nt.Beam:return"Beam";case nt.Door:return"Door";case nt.Window:return"Window";case nt.Roof:return"Roof";case nt.Cutter:return"Cutter";case nt.Fascia:return"Fascia";case nt.EdgeSlab:return"EdgeSlab";case nt.RoofSoffit:return"RoofSoffit";case nt.StairsRailing:return"StairsRailing";case nt.RailingTopRail:return"RailingTopRail";case nt.Floor:return"Floor";case nt.Stair:return"Stair";case nt.SpecialityEquipment:return"SpecialityEquipment";case nt.Mass:return"Mass";case nt.Parking:return"Parking";case nt.Topography:return"Topography";case nt.BuildingPad:return"BuildingPad";case nt.Site:return"Site";case nt.Ramp:return"Ramp";case nt.Ceiling:return"Ceiling";case nt.Furniture:return"Furniture";case nt.FurnitureSystem:return"FurnitureSystem";case nt.GenericModel:return"GenericModel";case nt.Casework:return"Casework";case nt.CurtainWallMullion:return"CurtainWallMullion";case nt.CurtainWallPanel:return"CurtainWallPanel";case nt.CurtaSystem:return"CurtaSystem";case nt.Planting:return"Planting";case nt.Entourage:return"Entourage";case nt.ShaftOpening:return"ShaftOpening";case nt.Roads:return"Roads";case nt.Chimney:return"Chimney";case nt.Cornices:return"Cornices";case nt.Parts:return"Parts";case nt.StructuralFoundation:return"StructuralFoundation";case nt.StructuralColumn:return"StructuralColumn";case nt.StructuralTrus:return"StructuralTrus";case nt.StructuralFraming:return"StructuralFraming";case nt.StructuralFramingSystem:return"StructuralFramingSystem";case nt.StructConnection:return"StructConnection";case nt.Rebar:return"Rebar";case nt.Plate:return"Plate";case nt.Fastener:return"Fastener";case nt.StructuralWall:return"StructuralWall";case nt.StructuralStiffener:return"StructuralStiffener";case nt.StructuralFloor:return"StructuralFloor";case nt.Pipe:return"Pipe";case nt.FlexPipeCurve:return"FlexPipeCurve";case nt.PipeFitting:return"PipeFitting";case nt.PipeAccessory:return"PipeAccessory";case nt.Duct:return"Duct";case nt.FlexDuctCurve:return"FlexDuctCurve";case nt.DuctFitting:return"DuctFitting";case nt.DuctAccessory:return"DuctAccessor";case nt.DuctTerminal:return"DuctTermina";case nt.CableTray:return"CableTray";case nt.CableTrayFitting:return"CableTrayFitting";case nt.Conduit:return"Conduit";case nt.ConduitFitting:return"ConduitFitting";case nt.Wire:return"Wire";case nt.PlumbingFixture:return"PlumbingFixture";case nt.Sprinkler:return"Sprinkler";case nt.SecurityDevice:return"SecurityDevice";case nt.NurseCallDevice:return"NurseCallDevice";case nt.DataDevice:return"DataDevice";case nt.MechanicalEquipment:return"MechanicalEquipment";case nt.FireAlarmDevice:return"FireAlarmDevice";case nt.LightingDevice:return"LightingDevice";case nt.LightingFixture:return"LightingFixture";case nt.ElectricalEquipment:return"ElectricalEquipment";case nt.ElectricalFixture:return"ElectricalFixture";case nt.TelephoneDevice:return"TelephoneDevice";case nt.CommunicationDevice:return"CommunicationDevice";case nt.HVACDevice:return"HVACDevice";case nt.WSDDevice:return"WSDDevice";case nt.FireProtectionDevice:return"FireProtectionDevice";case nt.AirCondition:return"AirCondition";case nt.AirTerminalBox:return"AirTerminalBox";case nt.Boiler:return"Boiler";case nt.Burner:return"Burner";case nt.Chiller:return"Chiller";case nt.Coil:return"Coil";case nt.Compressor:return"Compressor";case nt.Condenser:return"Condenser";case nt.CooledBeam:return"CooledBeam";case nt.CoolingTower:return"CoolingTower";case nt.Damper:return"Damper";case nt.DuctSilencer:return"DuctSilencer";case nt.Engine:return"Engine";case nt.Evaporator:return"Evaporator";case nt.EvaporativeCooler:return"EvaporativeCooler";case nt.Fan:return"Fan";case nt.Filter:return"Filter";case nt.Flowmeter:return"Flowmeter";case nt.HeatExchanger:return"HeatExchanger";case nt.Humidifier:return"Humidifier";case nt.Pump:return"Pump";case nt.SpaceHeater:return"SpaceHeater";case nt.Tank:return"Tank";case nt.TubeBundle:return"TubeBundle";case nt.UnitaryEquipment:return"UnitaryEquipment";case nt.Valve:return"Valve";case nt.VibrationIsolator:return"VibrationIsolator";case nt.ElectricGenerator:return"ElectricGenerator";case nt.ElectricMotor:return"ElectricMotor";case nt.Cateogry_JunctionBox:return"JunctionBox";case nt.Outlet:return"Outlet";case nt.SwitchingDevice:return"SwitchingDevice";case nt.ProtectiveDevice:return"ProtectiveDevice";case nt.Transformer:return"Transformer";case nt.PipeInsulation:return"PipeInsulation";case nt.DuctInsulation:return"DuctInsulation";case nt.FabricationParts:return"FabricationParts";case nt.FabricationPipework:return"FabricationPipework";case nt.FabricationContainment:return"FabricationContainment";case nt.FabricationHangers:return"FabricationHangers";case nt.FabricationDuctwork:return"FabricationDuctwork";default:return void console.log("unsupport category type:"+t)}}(t);default:return void console.log("unsupport language:"+t)}},Object.freeze(nt);var it=nt,at=function(){E.call(this),this._category=0,this._domain=0,this._typename=void 0,this._relation=void 0};(at.prototype=Object.create(E.prototype)).constructor=at,Object.assign(at.prototype,{setCategory:function(t){this._category=t},getCategory:function(){return this._category},setDomain:function(t){this._domain=t},getDomain:function(){return this._domain},setTypeName:function(t){this._typename=t},getTypeName:function(){return this._typename},setRelation:function(t){this._relation=t,t&&t.addRelation(this)},getRelation:function(){return this._relation},getOutmostRelation:function(){var t=this._relation;if(t)for(;;){var e=t.getRelation();if(!e)return t;t=e}return t},getKeyValue:function(t){switch(t){case v.DOMAIN_NAME:return rt.getDomainName(this._domain);case v.CATEGORY_NAME:return it.getCategoryName(this._category);case v.TYPE_NAME:return this._typename;default:return E.prototype.getKeyValue.call(this,t)}}}),at.typeID=at.prototype.typeID=p.ENTITY_TYPE;var ot=at,st=function(){ot.call(this),this._relations=[]};(st.prototype=Object.create(ot.prototype)).constructor=st,Object.assign(st.prototype,{addRelation:function(t){this._relations.push(t)},getRelComponents:function(t){for(var e=this._relations.length,r=0;r<e;r++){var n=this._relations[r];n.typeID===p.RELATION_TYPE?n.getRelComponents(t):n.typeID===p.COMPONENT_TYPE&&t.push(n)}},getRelStoreys:function(t){for(var e=this._relations.length,r=0;r<e;r++){var n=this._relations[r];if(n.typeID===p.RELATION_TYPE)n.getRelStoreys(t);else if(n.typeID===p.COMPONENT_TYPE){var i=n.getStorey();i&&t.add(i)}}},getKeyValue:function(t){switch(t){case v.RELATION_ORIGINID:return this._originID;case v.RELATION_UNIQUEID:return this._uniqueID;case v.RELATION_NAME:return this._name;case v.STOREY_NAME:var e="",r=new Set;this.getRelStoreys(r);var n=1,i=r.size;return r.forEach(function(t){e+=t.getName(),n<i&&(e+=","),n++}),e;default:return ot.prototype.getKeyValue.call(this,t)}},getParameter:function(){var t={};return t.uniqueid=this.getKeyValue(v.RELATION_UNIQUEID),t.modelId=this.getKeyValue(v.MODEL_ID),t.version=this.getKeyValue(v.MODEL_VERSION),t.originid=this.getKeyValue(v.RELATION_ORIGINID),t.name=this.getKeyValue(v.RELATION_NAME),t.domain=this.getKeyValue(v.DOMAIN_NAME),t.category=this.getKeyValue(v.CATEGORY_NAME),t.type=this.getKeyValue(v.TYPE_NAME),t.floor=this.getKeyValue(v.STOREY_NAME),t.project=this.getKeyValue(v.PROJECT_NAME),t}}),st.typeID=st.prototype.typeID=p.RELATION_TYPE;var ht=st,ut=function(){ot.call(this),this._geometry=void 0,this._storey=void 0};(ut.prototype=Object.create(ot.prototype)).constructor=ut,Object.assign(ut.prototype,{setGeometry:function(t){this._geometry=t},getGeometry:function(){return this._geometry},setStorey:function(t){this._storey=t},getStorey:function(){return this._storey},getKeyValue:function(t){switch(t){case v.COMPONENT_ORIGINID:return this._originID;case v.COMPONENT_UNIQUEID:return this._uniqueID;case v.COMPONENT_NAME:return this._name;case v.COMPONENT_NAME_ORIGINID:return this._name.concat("[",this._originID,"]");case v.STOREY_NAME:return this._storey?this._storey.getName():"";case v.STOREY_UNIQUEID:return this._storey?this._storey.getUniqueID():"";default:return ot.prototype.getKeyValue.call(this,t)}},getParameter:function(){var t={};return t.uniqueid=this.getKeyValue(v.COMPONENT_UNIQUEID),t.modelId=this.getKeyValue(v.MODEL_ID),t.version=this.getKeyValue(v.MODEL_VERSION),t.name=this.getKeyValue(v.COMPONENT_NAME),t.originid=this.getKeyValue(v.COMPONENT_ORIGINID),t.domain=this.getKeyValue(v.DOMAIN_NAME),t.category=this.getKeyValue(v.CATEGORY_NAME),t.type=this.getKeyValue(v.TYPE_NAME),t.storey=this.getKeyValue(v.STOREY_NAME),t.project=this.getKeyValue(v.PROJECT_NAME),t}}),ut.typeID=ut.prototype.typeID=p.COMPONENT_TYPE;var ct=ut,lt=function t(e){this._traverseMode=t.TRAVERSE_CHILDREN,void 0!==e&&(this._traverseMode=e),this._traverseMask=-1,this._nodeMaskOverride=0,this.traverse=t.traverseFunctions[this._traverseMode]};lt.TRAVERSE_NONE=0,lt.TRAVERSE_PARENTS=1,lt.TRAVERSE_CHILDREN=2,lt.traverseFunctions=[void 0,function(t){t.traverseParents(this)},function(t){t.traverseChildren(this)}],lt.prototype={reset:function(){},setNodeMaskOverride:function(t){this._nodeMaskOverride=t},getNodeMaskOverride:function(){return this._nodeMaskOverride},setTraverseMask:function(t){this._traverseMask=t},getTraverseMask:function(){return this._traverseMask},validNode:function(t){var e=t.getMask();return 0!=(this._traverseMask&(e|this._nodeMaskOverride))},apply:function(t){this.traverse(t)}};var gt=lt,ft=function(){gt.call(this)};(ft.prototype=Object.create(gt.prototype)).constructor=ft,Object.assign(ft.prototype,{reset:function(){},apply:function(t){t.acceptGLReleaseVisitor(this)}});var At=ft,dt=function(t,e){this._modelId=t,this._version=e,this._project=new S(t,e),this._storeys=new Map,this._statesets=new Map,this._geometrys=new Map,this._relations=new Map,this._components=new Map,this._axisgrids=new Map};Object.assign(dt.prototype,{modelId:function(){return this._modelId},version:function(){return this._version},clear:function(){this.clearStoreys(),this.clearStateSets(),this.clearGeometrys(),this.clearRelations(),this.clearComponents(),this.clearAxisGrids()},getProject:function(){return this._project},createStorey:function(t){var e=new T;return e.setName(t),e.setProject(this._project),this._storeys.set(t,e),e},addStorey:function(t,e){e&&this._storeys.set(t,e)},getAllStorey:function(){return this._storeys},getStoreyByName:function(t){if(void 0!==t&&0!==this._storeys.size)return this._storeys.get(t)},removeStorey:function(t){return void 0!==t&&0!==this._storeys.size&&this._storeys.delete(t)},clearStoreys:function(){this._storeys.clear()},addStateSet:function(t,e){(t||e)&&this._statesets.set(t,e)},getStateSets:function(){return this._statesets},getStateSet:function(t){return this._statesets.get(t)},removeStateSet:function(t){var e=this.getStateSetByID(t);return!!e&&(e.releaseGLObjects(),this._statesets.delete(t))},clearStateSets:function(){this._statesets.forEach(function(t){t.releaseGLObjects()}),this._statesets.clear()},addGeometry:function(t,e){(t||e)&&this._geometrys.set(t,e)},getGeometrys:function(){return this._geometrys},getGeometry:function(t){return this._geometrys.get(t)},removeGeometry:function(t){var e=new At;e.setNodeMaskOverride(-1),e.reset();var r=this.getGeometry(t);return!!r&&(e.apply(r),this._geometrys.delete(t))},clearGeometrys:function(){var t=new At;t.setNodeMaskOverride(-1),t.reset(),this._geometrys.forEach(function(e){t.apply(e)}),this._geometrys.clear()},getEntityByUniqueId:function(t){var e=this.getComponentByUniqueId(t);return e||((e=this.getRelationByUniqueId(t))?e:(e=this.getAxisGridByUniqueId(t))||void 0)},createRelation:function(t){var e=new ht;return e.setUniqueID(t),e.setProject(this._project),this._relations.set(t,e),e},addRelation:function(t,e){(t||e)&&this._relations.set(t,e)},getAllRelation:function(){return this._relations},getRelationByUniqueId:function(t){return this._relations.get(t)},removeRelation:function(t){return this._relations.delete(t)},clearRelations:function(){this._relations.clear()},createComponent:function(t){var e=new ct;return e.setUniqueID(t),e.setProject(this._project),this._components.set(t,e),e},addComponent:function(t,e){(t||e)&&this._components.set(t,e)},getAllComponent:function(){return this._components},getComponentByUniqueId:function(t){return this._components.get(t)},removeComponent:function(t){var e=new At;e.reset(),e.setNodeMaskOverride(-1);var r=this.getComponentByUniqueId(t);if(r){var n=r.getGeometry();return n&&e.apply(n),this._components.delete(t)}return!1},clearComponents:function(){var t=new At;t.reset(),t.setNodeMaskOverride(-1),this._components.forEach(function(e){var r=e.getGeometry();r&&t.apply(r)}),this._components.clear()},addAxisGrid:function(t,e){(t||e)&&this._axisgrids.set(t,e)},getAllAxisGrid:function(){return this._axisgrids},getAxisGridByUniqueId:function(t){return this._axisgrids.get(t)},removeAxisGrid:function(t){var e=new At;e.reset(),e.setNodeMaskOverride(-1);var r=this.getAxisGridByUniqueId(t);return!!r&&(e.apply(r),this._axisgrids.delete(t))},clearAxisGrids:function(){var t=new At;t.reset(),t.setNodeMaskOverride(-1),this._axisgrids.forEach(function(e){t.apply(e)}),this._axisgrids.clear()}});var pt=dt,_t=function(t){this._network=new A(t),this._modelers=[],this._viewCores=new Set,this._pendingModelers=[],this._callbacks=new Map};Object.assign(_t.prototype,{network:function(){return this._network},createModeler:function(t,e){var r=new pt(t,e);return this._modelers.push(r),this._pendingModelers.push(r),r},modelers:function(){return this._modelers},hasModeler:function(t,e){for(var r=this._modelers.length,n=0;n<r;n++){var i=this._modelers[n];if(i.modelId()===t&&i.version()===e)return!0}return!1},getModeler:function(t,e){for(var r=this._modelers.length,n=0;n<r;n++){var i=this._modelers[n];if(i.modelId()===t&&i.version()===e)return i}},removeModeler:function(t,e){for(var r=this._modelers.length,n=0;n<r;n++){var i=this._modelers[n];if(i.modelId()===t&&i.version()===e)return i.clear(),this._pendingModelers.push(i),this._modelers.splice(n,1),!0}return!1},clearModelers:function(){for(var t=this._modelers.length,e=0;e<t;e++){var r=this._modelers[e];r.clear(),this._pendingModelers.push(r)}this._modelers.length=0},attachViewCore:function(t){this._viewCores.add(t)},detachViewCore:function(t){this._viewCores.delete(t)},updateViewCores:function(t){var e=this;this._viewCores.forEach(function(r){r.update(e._pendingModelers,t)}),this._pendingModelers.length=0},clearViewCores:function(){this._viewCores.clear()},addCallback:function(t,e){return void 0===this._callbacks.get(t)&&(this._callbacks.set(t,e),!0)},removeCallback:function(t){return this._callbacks.delete(t)},clearCallback:function(){this._callbacks.clear()},getCallbacks:function(){return this._callbacks}});var Ct=_t,It={CHAR:1,UCHAR:1,SHORT:2,USHORT:2,INT:4,UINT:4,FLOAT:4,DOUBLE:8,BIG_ENDIAN_TYPE:16909060,LITTLE_ENDIAN_TYPE:67305985,VERIFY_FLAG:428347430},mt=It,vt=function(){this._buffer=void 0,this._offset=0,this._littleEndian=!0};vt.prototype={setArrayBuffer:function(t){this._buffer=t,this._offset=0,this._littleEndian=!0},readEndianFlag:function(){var t=new DataView(this._buffer,this._offset,mt.UINT);this._offset+=mt.UINT;var e=t.getUint32(0,!1);this._littleEndian=e!==mt.BIG_ENDIAN_TYPE},readChar:function(){var t=new DataView(this._buffer,this._offset,mt.CHAR);return this._offset+=mt.CHAR,t.getInt8(0)},readUChar:function(){var t=new DataView(this._buffer,this._offset,mt.UCHAR);return this._offset+=mt.UCHAR,t.getUint8(0)},readShort:function(){var t=new DataView(this._buffer,this._offset,mt.SHORT);return this._offset+=mt.SHORT,t.getInt16(0,this._littleEndian)},readUShort:function(){var t=new DataView(this._buffer,this._offset,mt.USHORT);return this._offset+=mt.USHORT,t.getUint16(0,this._littleEndian)},readInt:function(){var t=new DataView(this._buffer,this._offset,mt.INT);return this._offset+=mt.INT,t.getInt32(0,this._littleEndian)},readUInt:function(){var t=new DataView(this._buffer,this._offset,mt.UINT);return this._offset+=mt.UINT,t.getUint32(0,this._littleEndian)},readFloat:function(){var t=new DataView(this._buffer,this._offset,mt.FLOAT);return this._offset+=mt.FLOAT,t.getFloat32(0,this._littleEndian)},readDouble:function(){var t=new DataView(this._buffer,this._offset,mt.DOUBLE);return this._offset+=mt.DOUBLE,t.getFloat64(0,this._littleEndian)},readCharArray:function(t){var e=t,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int8Array(t),i=0;i<t;i++)n[i]=r.getInt8(i,this._littleEndian);return n},readUCharArray:function(t){var e=t,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint8Array(t),i=0;i<t;i++)n[i]=r.getUint8(i,this._littleEndian);return n},readShortArray:function(t){var e=t*mt.SHORT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int16Array(t),i=0;i<t;i++)n[i]=r.getInt16(i*mt.SHORT,this._littleEndian);return n},readUShortArray:function(t){var e=t*mt.USHORT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint16Array(t),i=0;i<t;i++)n[i]=r.getUint16(i*mt.USHORT,this._littleEndian);return n},readIntArray:function(t){var e=t*mt.INT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int32Array(t),i=0;i<t;i++)n[i]=r.getInt32(i*mt.INT,this._littleEndian);return n},readUIntArray:function(t){var e=t*mt.UINT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint32Array(t),i=0;i<t;i++)n[i]=r.getUint32(i*mt.UINT,this._littleEndian);return n},readFloatArray:function(t){var e=t*mt.FLOAT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Float32Array(t),i=0;i<t;i++)n[i]=r.getFloat32(i*mt.FLOAT,this._littleEndian);return n},readDoubleArray:function(t){var e=t*mt.DOUBLE,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Float64Array(t),i=0;i<t;i++)n[i]=r.getFloat64(i*mt.DOUBLE,this._littleEndian);return n}};var yt=vt,Et=function(){this._detaillevel=4,this._translation=void 0,this._rotation=void 0};Et.typeID=(Et.prototype={getDetailLevel:function(){return this._detaillevel},getTranslation:function(){return this._translation},getRotation:function(){return this._rotation},readBlob:function(t){this._detaillevel=t.readInt(),this._translation=t.readDoubleArray(3),this._rotation=t.readFloatArray(4)}}).typeID=p.BUILDING_TYPE;var wt=Et,St=function(){I.call(this),this._glcontexts=[]};(St.prototype=Object.create(I.prototype)).constructor=St,Object.assign(St.prototype,{exist:function(t){return!!this._glcontexts[t]},releaseGLObject:function(t){},releaseGLObjects:function(){},readBlob:function(t){I.prototype.readBlob.call(this,t)}});var bt=St,Tt=function(){bt.call(this)};(Tt.prototype=Object.create(bt.prototype)).constructor=Tt,Object.assign(Tt.prototype,{getTypeName:function(){return this.typename},readBlob:function(t){bt.prototype.readBlob.call(this,t)}}),Tt.OFF=0,Tt.ON=1,Tt.OVERRIDE=2,Tt.PROTECTED=4,Tt.INHERIT=8;var Mt=Tt,Pt=function(){Mt.call(this)};(Pt.prototype=Object.create(Mt.prototype)).constructor=Pt,Object.assign(Pt.prototype,{readBlob:function(t){Mt.prototype.readBlob.call(this,t)}});var Rt=Pt,xt=function(t){this._name=t,this._data=void 0,this._glfunc="",this._type=void 0,this._ismatrix=!1,this._transpose=!1};(xt.prototype={getName:function(){return this._name},getData:function(){return this._data},setArray:function(t){Array.isArray(t)||void 0!==t.byteLength?this._data=t:this._data[0]=t},setData:function(t){this._data[0]=t},setData1:function(t){this._data[0]=t[0]},setData2:function(t){this._data[0]=t[0],this._data[1]=t[1]},setData3:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]},setData4:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3]},setData9:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3],this._data[4]=t[4],this._data[5]=t[5],this._data[6]=t[6],this._data[7]=t[7],this._data[8]=t[8]},setData16:function(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2],this._data[3]=t[3],this._data[4]=t[4],this._data[5]=t[5],this._data[6]=t[6],this._data[7]=t[7],this._data[8]=t[8],this._data[9]=t[9],this._data[10]=t[10],this._data[11]=t[11],this._data[12]=t[12],this._data[13]=t[13],this._data[14]=t[14],this._data[15]=t[15]},valid:function(t){return!!t.getLastProgramApplied().getGLUniformsCache()[this._name]},apply:function(t){var e=t.getLastProgramApplied().getGLUniformsCache()[this._name];if(void 0!==e){var r=t.getWebGLContext(),n=r[this._glfunc];this._ismatrix?n.call(r,e,this._transpose,this._data):n.call(r,e,this._data)}}}).setFloat=xt.prototype.setData,xt.prototype.setInt=xt.prototype.setData,xt.prototype.setVec1=xt.prototype.setData1,xt.prototype.setVec2=xt.prototype.setData2,xt.prototype.setVec3=xt.prototype.setData3,xt.prototype.setVec4=xt.prototype.setData4,xt.prototype.setMatrix3=xt.prototype.setData9,xt.prototype.setMatrix4=xt.prototype.setData16;var Ot=function(){return new Float32Array(1)},Nt=function(){return new Float32Array(2)},Lt=function(){return new Float32Array(3)},Dt=function(){return new Float32Array(4)},Ft=function(){return new Int32Array(1)},Bt=function(){return new Int32Array(2)},Ut=function(){return new Int32Array(3)},Gt=function(){return new Int32Array(4)},kt=function(){var t=new Float32Array(4);return t[0]=t[3]=1,t},Vt=function(){var t=new Float32Array(9);return t[0]=t[4]=t[8]=1,t},Ht=function(){var t=new Float32Array(16);return t[0]=t[5]=t[10]=t[15]=1,t},Yt=function(t,e,r,n,i){var a=new xt(t);return a._data=e(),a._glfunc=r,a._type=n,a._ismatrix=!!i,a};xt.createFloat=function(t){return Yt(t,Ot,"uniform1fv","float")},xt.createInt=function(t){return Yt(t,Ft,"uniform1iv","int")},xt.createFloat2=function(t){return Yt(t,Nt,"uniform2fv","vec2")},xt.createInt2=function(t){return Yt(t,Bt,"uniform2iv","vec2i")},xt.createFloat3=function(t){return Yt(t,Lt,"uniform3fv","vec3")},xt.createInt3=function(t){return Yt(t,Ut,"uniform3iv","vec3i")},xt.createFloat4=function(t){return Yt(t,Dt,"uniform4fv","vec4")},xt.createInt4=function(t){return Yt(t,Gt,"uniform4iv","vec4i")},xt.createMatrix2=function(t){return Yt(t,kt,"uniformMatrix2fv","mat2",!0)},xt.createMatrix3=function(t){return Yt(t,Vt,"uniformMatrix3fv","mat3",!0)},xt.createMatrix4=function(t){return Yt(t,Ht,"uniformMatrix4fv","mat4",!0)},xt.float=xt.createFloat,xt.int=xt.createInt;var jt=xt,Xt=function(t){Rt.call(this),this._ambient=jt.createFloat4("Ambient"),t?this._ambient.setData4(t):this._ambient.setData4([.7,.7,.7,1])};(Xt.prototype=Object.create(Rt.prototype)).constructor=Xt,Object.assign(Xt.prototype,{typename:"MaterialColor",isTransparent:function(){return Math.abs(1-this._ambient.getData()[3])>F.EPSILON},setAmbient:function(t){this._ambient.setData4(t)},getAmbient:function(){return this._ambient},apply:function(t){this._ambient.apply(t)},readBlob:function(t){Rt.prototype.readBlob.call(this,t),this.setAmbient(t.readFloatArray(4))}});var Qt=Xt,Wt=function(){Object.defineProperty(this,"_dirty",{configurable:!0,enumerable:!1,writable:!0,value:!0}),Object.defineProperty(this,"_keys",{configurable:!0,enumerable:!1,writable:!0,value:void 0})};Wt.prototype={getKeys:function(){return this._dirty&&(this._keys=Object.keys(this),this._dirty=!1),this._keys},dirty:function(){this._dirty=!0},remove:function(t){delete this[t],this.dirty(),this.getKeys()},setMap:function(t){var e=Object.keys(this),r=e.length;if(r>0)for(var n=0;n<r;n++)delete this[this._keys[n]];if((r=(e=Object.keys(t)).length)>0)for(var i=0;i<r;i++){var a=e[i];this[a]=t[a]}this.dirty()}};var zt=Wt,qt={isStringType:function(t){return"string"==typeof t},isNumberType:function(t){return"number"==typeof t},isBooleanType:function(t){return"boolean"==typeof t},isArrayType:function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},unicodeToUtf8:function(t,e){var r=0;if(!t)return r;for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);0<=i&&i<=127?(r+=1,e.push(i)):128<=i&&i<=2047?(r+=2,e.push(192|31&i>>6),e.push(128|63&i)):(2048<=i&&i<=55295||57344<=i&&i<=65535)&&(r+=3,e.push(224|15&i>>12),e.push(128|63&i>>6),e.push(128|63&i))}return r},utf8ToUnicode:function(t){for(var e="",r=t.length,n=0;n<r;){var i=t[n].toString(2),a=i.match(/^1+?(?=0)/);if(a&&8===i.length){for(var o=a[0].length,s=t[n].toString(2).slice(7-o),h=1;h<o;h++)s+=t[h+n].toString(2).slice(2);e+=String.fromCharCode(parseInt(s,2)),n+=o}}return e},compareArray:function(t,e){if(!t||!e)return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0},combineBuffers:function(t){var e=0,r=t.map(function(t){return e+=t.byteLength,t.byteLength}),n=new Uint8Array(e);return r.reduce(function(e,r,i){return n.set(new Uint8Array(t[i]),e),e+r},0),n.buffer}};Object.freeze(qt);var Jt=qt,Kt=function(){I.call(this),this._attributes=new zt,this._autoReleased=!0};(Kt.Pair=function(t,e){this._key=t,this._mode=e}).prototype={getAttribute:function(){return this._key},getUniform:function(){return this._key},getShader:function(){return this._key},getMode:function(){return this._mode}},(Kt.prototype=Object.create(I.prototype)).constructor=I,Object.assign(Kt.prototype,{isAutoReleased:function(t){return Jt.isBooleanType(t)&&(this._autoReleased=t),this._autoReleased},createPair:function(t,e){return new Kt.Pair(t,e)},addAttribute:function(t,e){var r=void 0!==e?e:Mt.ON;this._attributes[t.getTypeName()]=this.createPair(t,r),this._attributes.dirty()},getAttributes:function(){return this._attributes},getAttributeArray:function(){for(var t=this._attributes.getKeys(),e=t.length,r=[],n=0;n<e;n++)r.push(this._attributes[t[n]]);return r},getAttribute:function(t){var e=this._attributes[t];if(e)return e.getAttribute()},removeAttribute:function(t){this._attributes.remove(t)},isAttributeEmpty:function(){return 0===Object.keys(this._attributes).length},isMaterialAttribute:function(){return void 0!==this._attributes.MaterialColor},hasMaterialAttribute:function(){return!!this._attributes.MaterialColor},getMaterialAttribute:function(){return this._attributes.MaterialColor.getAttribute()},releaseGLObjects:function(){for(var t=this.getAttributeArray(),e=t.length,r=0;r<e;r++)t[r]._key.releaseGLObjects();this._attributes=new zt}}),(Kt.DefaultMaterial=new Kt).addAttribute(new Qt);var Zt=Kt,$t={new:function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}};$t.MemoryPool=new U($t.new),$t.alloc=$t.MemoryPool.alloc,$t.free=$t.MemoryPool.free,$t.new_d=function(){var t=new Float64Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.MemoryPool_d=new U($t.new_d),$t.alloc_d=$t.MemoryPool_d.alloc,$t.free_d=$t.MemoryPool_d.free,$t.clone=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},$t.clone_d=function(t){var e=new Float64Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},$t.create=function(t,e,r,n,i,a,o,s,h,u,c,l,g,f,A,d){var p=new Float32Array(16);return p[0]=t,p[1]=e,p[2]=r,p[3]=n,p[4]=i,p[5]=a,p[6]=o,p[7]=s,p[8]=h,p[9]=u,p[10]=c,p[11]=l,p[12]=g,p[13]=f,p[14]=A,p[15]=d,p},$t.create_d=function(t,e,r,n,i,a,o,s,h,u,c,l,g,f,A,d){var p=new Float64Array(16);return p[0]=t,p[1]=e,p[2]=r,p[3]=n,p[4]=i,p[5]=a,p[6]=o,p[7]=s,p[8]=h,p[9]=u,p[10]=c,p[11]=l,p[12]=g,p[13]=f,p[14]=A,p[15]=d,p},$t.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},$t.set=function(t,e,r,n,i,a,o,s,h,u,c,l,g,f,A,d,p){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=h,t[8]=u,t[9]=c,t[10]=l,t[11]=g,t[12]=f,t[13]=A,t[14]=d,t[15]=p,t},$t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.transpose=function(t,e){return t===e?(t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11]):(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]),t},$t.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],u=e[7],c=e[8],l=e[9],g=e[10],f=e[11],A=e[12],d=e[13],p=e[14],_=e[15],C=r*s-n*o,I=r*h-i*o,m=r*u-a*o,v=n*h-i*s,y=n*u-a*s,E=i*u-a*h,w=c*d-l*A,S=c*p-g*A,b=c*_-f*A,T=l*p-g*d,M=l*_-f*d,P=g*_-f*p,R=C*P-I*M+m*T+v*b-y*S+E*w;return R?(R=1/R,t[0]=(s*P-h*M+u*T)*R,t[1]=(i*M-n*P-a*T)*R,t[2]=(d*E-p*y+_*v)*R,t[3]=(g*y-l*E-f*v)*R,t[4]=(h*b-o*P-u*S)*R,t[5]=(r*P-i*b+a*S)*R,t[6]=(p*m-A*E-_*I)*R,t[7]=(c*E-g*m+f*I)*R,t[8]=(o*M-s*b+u*w)*R,t[9]=(n*b-r*M-a*w)*R,t[10]=(A*y-d*m+_*C)*R,t[11]=(l*m-c*y-f*C)*R,t[12]=(s*S-o*T-h*w)*R,t[13]=(r*T-n*S+i*w)*R,t[14]=(d*I-A*v-p*C)*R,t[15]=(c*v-l*I+g*C)*R,t):null},$t.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],h=e[6],u=e[7],c=e[8],l=e[9],g=e[10],f=e[11],A=e[12],d=e[13],p=e[14],_=e[15];return t[0]=s*(g*_-f*p)-l*(h*_-u*p)+d*(h*f-u*g),t[1]=-(n*(g*_-f*p)-l*(i*_-a*p)+d*(i*f-a*g)),t[2]=n*(h*_-u*p)-s*(i*_-a*p)+d*(i*u-a*h),t[3]=-(n*(h*f-u*g)-s*(i*f-a*g)+l*(i*u-a*h)),t[4]=-(o*(g*_-f*p)-c*(h*_-u*p)+A*(h*f-u*g)),t[5]=r*(g*_-f*p)-c*(i*_-a*p)+A*(i*f-a*g),t[6]=-(r*(h*_-u*p)-o*(i*_-a*p)+A*(i*u-a*h)),t[7]=r*(h*f-u*g)-o*(i*f-a*g)+c*(i*u-a*h),t[8]=o*(l*_-f*d)-c*(s*_-u*d)+A*(s*f-u*l),t[9]=-(r*(l*_-f*d)-c*(n*_-a*d)+A*(n*f-a*l)),t[10]=r*(s*_-u*d)-o*(n*_-a*d)+A*(n*u-a*s),t[11]=-(r*(s*f-u*l)-o*(n*f-a*l)+c*(n*u-a*s)),t[12]=-(o*(l*p-g*d)-c*(s*p-h*d)+A*(s*g-h*l)),t[13]=r*(l*p-g*d)-c*(n*p-i*d)+A*(n*g-i*l),t[14]=-(r*(s*p-h*d)-o*(n*p-i*d)+A*(n*h-i*s)),t[15]=r*(s*g-h*l)-o*(n*g-i*l)+c*(n*h-i*s),t},$t.determinant=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],h=t[7],u=t[8],c=t[9],l=t[10],g=t[11],f=t[12],A=t[13],d=t[14],p=t[15];return(e*o-r*a)*(l*p-g*d)-(e*s-n*a)*(c*p-g*A)+(e*h-i*a)*(c*d-l*A)+(r*s-n*o)*(u*p-g*f)-(r*h-i*o)*(u*d-l*f)+(n*h-i*s)*(u*A-c*f)},$t.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},$t.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t},$t.sub=$t.subtract,$t.multiply=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],h=e[5],u=e[6],c=e[7],l=e[8],g=e[9],f=e[10],A=e[11],d=e[12],p=e[13],_=e[14],C=e[15],I=r[0],m=r[1],v=r[2],y=r[3];return t[0]=I*n+m*s+v*l+y*d,t[1]=I*i+m*h+v*g+y*p,t[2]=I*a+m*u+v*f+y*_,t[3]=I*o+m*c+v*A+y*C,I=r[4],m=r[5],v=r[6],y=r[7],t[4]=I*n+m*s+v*l+y*d,t[5]=I*i+m*h+v*g+y*p,t[6]=I*a+m*u+v*f+y*_,t[7]=I*o+m*c+v*A+y*C,I=r[8],m=r[9],v=r[10],y=r[11],t[8]=I*n+m*s+v*l+y*d,t[9]=I*i+m*h+v*g+y*p,t[10]=I*a+m*u+v*f+y*_,t[11]=I*o+m*c+v*A+y*C,I=r[12],m=r[13],v=r[14],y=r[15],t[12]=I*n+m*s+v*l+y*d,t[13]=I*i+m*h+v*g+y*p,t[14]=I*a+m*u+v*f+y*_,t[15]=I*o+m*c+v*A+y*C,t},$t.mul=$t.multiply,$t.translate=function(t,e,r){var n=r[0],i=r[1],a=r[2];return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]):(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]),t},$t.scalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},$t.scalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},$t.scale=function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},$t.rotate=function(t,e,r,n){var i,a,o,s,h,u,c,l,g,f,A,d,p,_,C,I,m,v,y,E,w,S,b,T,M=n[0],P=n[1],R=n[2],x=Math.sqrt(M*M+P*P+R*R);return Math.abs(x)<F.EPSILON?null:(M*=x=1/x,P*=x,R*=x,i=Math.sin(r),o=1-(a=Math.cos(r)),s=e[0],h=e[1],u=e[2],c=e[3],l=e[4],g=e[5],f=e[6],A=e[7],d=e[8],p=e[9],_=e[10],C=e[11],I=M*M*o+a,m=P*M*o+R*i,v=R*M*o-P*i,y=M*P*o-R*i,E=P*P*o+a,w=R*P*o+M*i,S=M*R*o+P*i,b=P*R*o-M*i,T=R*R*o+a,t[0]=s*I+l*m+d*v,t[1]=h*I+g*m+p*v,t[2]=u*I+f*m+_*v,t[3]=c*I+A*m+C*v,t[4]=s*y+l*E+d*w,t[5]=h*y+g*E+p*w,t[6]=u*y+f*E+_*w,t[7]=c*y+A*E+C*w,t[8]=s*S+l*b+d*T,t[9]=h*S+g*b+p*T,t[10]=u*S+f*b+_*T,t[11]=c*S+A*b+C*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},$t.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],h=e[7],u=e[8],c=e[9],l=e[10],g=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+u*n,t[5]=o*i+c*n,t[6]=s*i+l*n,t[7]=h*i+g*n,t[8]=u*i-a*n,t[9]=c*i-o*n,t[10]=l*i-s*n,t[11]=g*i-h*n,t},$t.rotateY=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],h=e[3],u=e[8],c=e[9],l=e[10],g=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-u*n,t[1]=o*i-c*n,t[2]=s*i-l*n,t[3]=h*i-g*n,t[8]=a*n+u*i,t[9]=o*n+c*i,t[10]=s*n+l*i,t[11]=h*n+g*i,t},$t.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],h=e[3],u=e[4],c=e[5],l=e[6],g=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+u*n,t[1]=o*i+c*n,t[2]=s*i+l*n,t[3]=h*i+g*n,t[4]=u*i-a*n,t[5]=c*i-o*n,t[6]=l*i-s*n,t[7]=g*i-h*n,t},$t.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},$t.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.fromRotation=function(t,e,r){var n,i,a,o=r[0],s=r[1],h=r[2],u=Math.sqrt(o*o+s*s+h*h);return Math.abs(u)<F.EPSILON?null:(o*=u=1/u,s*=u,h*=u,n=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=s*o*a+h*n,t[2]=h*o*a-s*n,t[3]=0,t[4]=o*s*a-h*n,t[5]=s*s*a+i,t[6]=h*s*a+o*n,t[7]=0,t[8]=o*h*a+s*n,t[9]=s*h*a-o*n,t[10]=h*h*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},$t.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.fromRotationTranslation=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,h=i+i,u=a+a,c=n*s,l=n*h,g=n*u,f=i*h,A=i*u,d=a*u,p=o*s,_=o*h,C=o*u;return t[0]=1-(f+d),t[1]=l+C,t[2]=g-_,t[3]=0,t[4]=l-C,t[5]=1-(c+d),t[6]=A+p,t[7]=0,t[8]=g+_,t[9]=A-p,t[10]=1-(c+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},$t.fromRotationTranslationScale=function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],h=i+i,u=a+a,c=o+o,l=i*h,g=i*u,f=i*c,A=a*u,d=a*c,p=o*c,_=s*h,C=s*u,I=s*c,m=n[0],v=n[1],y=n[2];return t[0]=(1-(A+p))*m,t[1]=(g+I)*m,t[2]=(f-C)*m,t[3]=0,t[4]=(g-I)*v,t[5]=(1-(l+p))*v,t[6]=(d+_)*v,t[7]=0,t[8]=(f+C)*y,t[9]=(d-_)*y,t[10]=(1-(l+A))*y,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},$t.fromRotationTranslationScaleOrigin=function(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],h=e[3],u=a+a,c=o+o,l=s+s,g=a*u,f=a*c,A=a*l,d=o*c,p=o*l,_=s*l,C=h*u,I=h*c,m=h*l,v=n[0],y=n[1],E=n[2],w=i[0],S=i[1],b=i[2];return t[0]=(1-(d+_))*v,t[1]=(f+m)*v,t[2]=(A-I)*v,t[3]=0,t[4]=(f-m)*y,t[5]=(1-(g+_))*y,t[6]=(p+C)*y,t[7]=0,t[8]=(A+I)*E,t[9]=(p-C)*E,t[10]=(1-(g+d))*E,t[11]=0,t[12]=r[0]+w-(t[0]*w+t[4]*S+t[8]*b),t[13]=r[1]+S-(t[1]*w+t[5]*S+t[9]*b),t[14]=r[2]+b-(t[2]*w+t[6]*S+t[10]*b),t[15]=1,t},$t.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,h=i+i,u=r*o,c=n*o,l=n*s,g=i*o,f=i*s,A=i*h,d=a*o,p=a*s,_=a*h;return t[0]=1-l-A,t[1]=c+_,t[2]=g-p,t[3]=0,t[4]=c-_,t[5]=1-u-A,t[6]=f+d,t[7]=0,t[8]=g+p,t[9]=f-d,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},$t.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},$t.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},$t.getScale=function(t,e){t[0]=e[0],t[1]=e[4],t[2]=e[8];var r=J.len(t);t[0]=e[1],t[1]=e[5],t[2]=e[9];var n=J.len(t);t[0]=e[2],t[1]=e[6],t[2]=e[10];var i=J.len(t);return J.set(t,r,n,i),t},$t.getSqrScale=function(t,e){var r=J.MemoryPool.alloc();return r[0]=e[0],r[1]=e[4],r[2]=e[8],t[0]=J.sqrLen(r),r[0]=e[1],r[1]=e[5],r[2]=e[9],t[1]=J.sqrLen(r),r[0]=e[2],r[1]=e[6],r[2]=e[10],t[2]=J.sqrLen(r),J.MemoryPool.free(r),t},$t.setTranslation=function(t,e){t[12]=e[0],t[13]=e[1],t[14]=e[2]},$t.setRotation=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,h=i+i,u=r*o,c=n*o,l=n*s,g=i*o,f=i*s,A=i*h,d=a*o,p=a*s,_=a*h;t[0]=1-l-A,t[1]=c+_,t[2]=g-p,t[4]=c-_,t[5]=1-u-A,t[6]=f+d,t[8]=g+p,t[9]=f-d,t[10]=1-u-l},$t.fromFrustum=function(t,e,r,n,i,a,o){var s=1/(r-e),h=1/(i-n),u=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*h,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*h,t[10]=(o+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*u,t[15]=0,t},$t.fromPerspective=function(t,e,r,n,i){var a=1/Math.tan(.5*e),o=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t},$t.fromOrthogonal=function(t,e,r,n,i,a,o){var s=1/(e-r),h=1/(n-i),u=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*h,t[14]=(o+a)*u,t[15]=1,t},$t.fromLookAt=function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],h=n[1],u=n[2],c=r[0],l=r[1],g=r[2];if(Math.abs(i-c)<F.EPSILON&&Math.abs(a-l)<F.EPSILON&&Math.abs(o-g)<F.EPSILON)return $t.identity(t);var f=i-c,A=a-l,d=o-g,p=1/Math.sqrt(f*f+A*A+d*d),_=h*(d*=p)-u*(A*=p),C=u*(f*=p)-s*d,I=s*A-h*f,m=A*(I*=p=1/Math.sqrt(_*_+C*C+I*I))-d*(C*=p),v=d*(_*=p)-f*I,y=f*C-A*_;return m*=p=1/Math.sqrt(m*m+v*v+y*y),v*=p,y*=p,t[0]=_,t[1]=m,t[2]=f,t[3]=0,t[4]=C,t[5]=v,t[6]=A,t[7]=0,t[8]=I,t[9]=y,t[10]=d,t[11]=0,t[12]=-(_*i+C*a+I*o),t[13]=-(m*i+v*a+y*o),t[14]=-(f*i+A*a+d*o),t[15]=1,t},$t.getFrustum=function(t,e){return 0===e[3]&&0===e[7]&&-1===e[11]&&0===e[15]&&(t.near=e[14]/(e[10]-1),t.far=e[14]/(1+e[10]),t.left=t.near*(e[8]-1)/e[0],t.right=t.near*(1+e[8])/e[0],t.top=t.near*(1+e[9])/e[5],t.bottom=t.near*(e[9]-1)/e[5],!0)},$t.getPerspective=function(t,e){var r={};if($t.getFrustum(r,e)){var n=Math.atan(r.top/r.near),i=Math.atan(r.bottom/r.near);return t.fovy=n-i,t.aspect=(r.right-r.left)/(r.top-r.bottom),t.near=r.near,t.far=r.far,!0}return!1},$t.getOrthogonal=function(t,e){return 0===e[3]&&0===e[7]&&0===e[11]&&1===e[15]&&(t.near=(e[14]+1)/e[10],t.far=(e[14]-1)/e[10],t.left=-(1+e[12])/e[0],t.right=(1-e[12])/e[0],t.top=(1-e[13])/e[5],t.bottom=-(1+e[13])/e[5],!0)},$t.getNormalMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=0,t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,$t.invert(t,t),$t.transpose(t,t),t},$t.str=function(t){return"Mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},$t.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},$t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},$t.equals=function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=t[6],u=t[7],c=t[8],l=t[9],g=t[10],f=t[11],A=t[12],d=t[13],p=t[14],_=t[15],C=e[0],I=e[1],m=e[2],v=e[3],y=e[4],E=e[5],w=e[6],S=e[7],b=e[8],T=e[9],M=e[10],P=e[11],R=e[12],x=e[13],O=e[14],N=e[15];return Math.abs(r-C)<=F.EPSILON*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(n-I)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(I))&&Math.abs(i-m)<=F.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(a-v)<=F.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-y)<=F.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(s-E)<=F.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(h-w)<=F.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(u-S)<=F.EPSILON*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-b)<=F.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(l-T)<=F.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(g-M)<=F.EPSILON*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(f-P)<=F.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(A-R)<=F.EPSILON*Math.max(1,Math.abs(A),Math.abs(R))&&Math.abs(d-x)<=F.EPSILON*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(p-O)<=F.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(_-N)<=F.EPSILON*Math.max(1,Math.abs(_),Math.abs(N))};var te=$t,ee={};Object.assign(ee,W),ee.distanceToVertex=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]},ee.relationToBoundingSphere=function(t,e){if(!e.valid())return F.OUTSIDE;var r=e.getCenter(),n=e.getRadius(),i=ee.distanceToVertex(t,r);return i<-n?F.OUTSIDE:i<=n?F.INTERSECT:F.INSIDE},ee.relationToBoundingBox=function(t,e){if(!e.valid())return F.OUTSIDE;var r=(t[0]>=0?1:0)|(t[1]>=0?2:0)|(t[2]>=0?4:0),n=7&~r,i=J.MemoryPool.alloc(),a=F.OUTSIDE;return a=ee.distanceToVertex(t,e.getCorner(n,i))>0?F.INSIDE:ee.distanceToVertex(t,e.getCorner(r,i))<0?F.OUTSIDE:F.INTERSECT,J.MemoryPool.free(i),a},ee.relationToVertices=function(t,e){for(var r=0,n=e.length,i=0;i<n;i++){var a=ee.distanceToVertex(t,e[i]);if(a<0){if(1===r)return F.INTERSECT;r=-1}else{if(!(a>0))return F.INTERSECT;if(-1===r)return F.INTERSECT;r=1}}return r>0?F.INSIDE:F.OUTSIDE},ee.transformMat4=function(t,e,r){r&&te.invert(e,e);var n=t[0],i=t[1],a=t[2],o=t[3];return t[0]=e[0]*n+e[1]*i+e[2]*a+e[3]*o,t[1]=e[4]*n+e[5]*i+e[6]*a+e[7]*o,t[2]=e[8]*n+e[9]*i+e[10]*a+e[11]*o,t[3]=e[12]*n+e[13]*i+e[14]*a+e[15]*o,ee.normalize(t,t),t},ee.normalize=function(t,e){var r=1/Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r,t},ee.intersectLine=function(t,e,r,n){var i=J.MemoryPool.alloc();J.sub(i,r,e);var a=J.dot(n,i);if(Math.abs(a)<F.EPSILON)return J.MemoryPool.free(i),!1;var o=-(n[3]+J.dot(n,e))/a;return J.add(t,e,J.scale(i,i,o)),J.MemoryPool.free(i),!0};var re=ee,ne=function(t,e){this._min=J.new(),this._max=J.new(),t?J.copy(this._min,t):J.copy(this._min,J.POSITIVE_INFINITY),e?J.copy(this._max,e):J.copy(this._max,J.NEGATIVE_INFINITY)};ne.new=function(){return new ne},ne.MemoryPool=new U(ne.new),ne.prototype={reset:function(){J.copy(this._min,J.POSITIVE_INFINITY),J.copy(this._max,J.NEGATIVE_INFINITY)},copy:function(t){this._min[0]=t._min[0],this._min[1]=t._min[1],this._min[2]=t._min[2],this._max[0]=t._max[0],this._max[1]=t._max[1],this._max[2]=t._max[2]},valid:function(){return this._max[0]>=this._min[0]&&this._max[1]>=this._min[1]&&this._max[2]>=this._min[2]},getCenter:function(t){return this.valid()?(t[0]=.5*(this._min[0]+this._max[0]),t[1]=.5*(this._min[1]+this._max[1]),t[2]=.5*(this._min[2]+this._max[2])):(t[0]=0,t[1]=0,t[2]=0),t},getRadius:function(){if(this.valid()){var t=this._max[0]-this._min[0],e=this._max[1]-this._min[1],r=this._max[2]-this._min[2];return.5*Math.sqrt(t*t+e*e+r*r)}return 0},getMin:function(){return this._min},getMax:function(){return this._max},set:function(t,e){J.copy(this._min,t),J.copy(this._max,e)},setMin:function(t){J.copy(this._min,t)},setMinValue:function(t,e,r){J.set(this._min,t,e,r)},setMax:function(t){J.copy(this._max,t)},setMaxValue:function(t,e,r){J.set(this._max,t,e,r)},getXMax:function(){return this._max[0]},getYMax:function(){return this._max[1]},getZMax:function(){return this._max[2]},getXMin:function(){return this._min[0]},getYMin:function(){return this._min[1]},getZMin:function(){return this._min[2]},getCorner:function(t,e){return e[0]=1&t?this._max[0]:this._min[0],e[1]=2&t?this._max[1]:this._min[1],e[2]=4&t?this._max[2]:this._min[2],e},expandByVec3:function(t){this._min[0]=Math.min(this._min[0],t[0]),this._min[1]=Math.min(this._min[1],t[1]),this._min[2]=Math.min(this._min[2],t[2]),this._max[0]=Math.max(this._max[0],t[0]),this._max[1]=Math.max(this._max[1],t[1]),this._max[2]=Math.max(this._max[2],t[2])},expandByBoundingBox:function(t){t.valid()&&(t._min[0]<this._min[0]&&(this._min[0]=t._min[0]),t._max[0]>this._max[0]&&(this._max[0]=t._max[0]),t._min[1]<this._min[1]&&(this._min[1]=t._min[1]),t._max[1]>this._max[1]&&(this._max[1]=t._max[1]),t._min[2]<this._min[2]&&(this._min[2]=t._min[2]),t._max[2]>this._max[2]&&(this._max[2]=t._max[2]))},expandByBoundingSphere:function(t){if(t.valid()){var e=t.getCenter(),r=t.getRadius();this._min[0]=Math.min(this._min[0],e[0]-r),this._min[1]=Math.min(this._min[1],e[1]-r),this._min[2]=Math.min(this._min[2],e[2]-r),this._max[0]=Math.max(this._max[0],e[0]+r),this._max[1]=Math.max(this._max[1],e[1]+r),this._max[2]=Math.max(this._max[2],e[2]+r)}},transformMat4:function(t){var e=J.MemoryPool.alloc(),r=J.MemoryPool.alloc();te.getTranslation(e,t),J.copy(r,e);for(var n=0;n<3;++n)for(var i=4*n,a=this._min[n],o=this._max[n],s=0;s<3;++s){var h=t[i+s],u=h*o,c=h*a;u<c?(e[s]+=u,r[s]+=c):(e[s]+=c,r[s]+=u)}J.copy(this._min,e),J.copy(this._max,r),J.MemoryPool.free(e),J.MemoryPool.free(r)},containsVertex:function(t){return t[0]>=this._min[0]&&t[0]<=this._max[0]&&t[1]>=this._min[1]&&t[1]<=this._max[1]&&t[2]>=this._min[2]&&t[2]<=this._max[2]},containsBoundingBox:function(t){return this.containsVertex(t.getMin())&&this.containsVertex(t.getMax())},intersectLineSegment:function(t,e){var r=J.clone(t),n=J.clone(e),i=J.new();if(r[0]<=n[0]){if(r[0]>this._max[0])return!1;if(n[0]<this._min[0])return!1;if(r[0]<this._min[0]){var a=(this._min[0]-r[0])/(n[0]-r[0]);a-F.EPSILON>0&&(J.sub(i,n,r),J.scaleAndAdd(r,r,i,a))}if(n[0]>this._max[0]){var o=(this._max[0]-r[0])/(n[0]-r[0]);o+F.EPSILON<1&&(J.sub(i,n,r),J.scaleAndAdd(n,r,i,o))}}else{if(n[0]>this._max[0])return!1;if(r[0]<this._min[0])return!1;if(n[0]<this._min[0]){var s=(this._min[0]-n[0])/(r[0]-n[0]);s-F.EPSILON>0&&(J.sub(i,r,n),J.scaleAndAdd(n,n,i,s))}if(r[0]>this._max[0]){var h=(this._max[0]-n[0])/(r[0]-n[0]);h+F.EPSILON<1&&(J.sub(i,r,n),J.scaleAndAdd(r,n,i,h))}}if(r[1]<=n[1]){if(r[1]>this._max[1])return!1;if(n[1]<this._min[1])return!1;if(r[1]<this._min[1]){var u=(this._min[1]-r[1])/(n[1]-r[1]);u-F.EPSILON>0&&(J.sub(i,n,r),J.scaleAndAdd(r,r,i,u))}if(n[1]>this._max[1]){var c=(this._max[1]-r[1])/(n[1]-r[1]);c+F.EPSILON<1&&(J.sub(i,n,r),J.scaleAndAdd(n,r,i,c))}}else{if(n[1]>this._max[1])return!1;if(r[1]<this._min[1])return!1;if(n[1]<this._min[1]){var l=(this._min[1]-n[1])/(r[1]-n[1]);l-F.EPSILON>0&&(J.sub(i,r,n),J.scaleAndAdd(n,n,i,l))}if(r[1]>this._max[1]){var g=(this._max[1]-n[1])/(r[1]-n[1]);g+F.EPSILON<1&&(J.sub(i,r,n),J.scaleAndAdd(r,n,i,g))}}if(r[2]<=n[2]){if(r[2]>this._max[2])return!1;if(n[2]<this._min[2])return!1;if(r[2]<this._min[2]){var f=(this._min[2]-r[2])/(n[2]-r[2]);f-F.EPSILON>0&&(J.sub(i,n,r),J.scaleAndAdd(r,r,i,f))}if(n[2]>this._max[2]){var A=(this._max[2]-r[2])/(n[2]-r[2]);A+F.EPSILON<1&&(J.sub(i,n,r),J.scaleAndAdd(n,r,i,A))}}else{if(n[2]>this._max[2])return!1;if(r[2]<this._min[2])return!1}return!0},intersectBoundingBox:function(t){return Math.max(this._min[0],t._min[0])<=Math.min(this._max[0],t._max[0])&&Math.max(this._min[1],t._min[1])<=Math.min(this._max[1],t._max[1])&&Math.max(this._min[2],t._min[2])<=Math.min(this._max[2],t._max[2])},intersectPlanes:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];if(re.relationToBoundingBox(n,this)===F.OUTSIDE)return!1}return!0}};var ie=ne,ae=function(){this._center=J.new(),this._radius=0};ae.new=function(){return new ae},ae.MemoryPool=new U(ae.new),ae.prototype={reset:function(){J.set(this._center,0,0,0),this._radius=0},valid:function(){return this._radius>0},getCenter:function(){return this._center},getRadius:function(){return this._radius},set:function(t,e){this._center=t,this._radius=e},containsVec3:function(t){return!!this.valid()&&J.sqrDist(this._center,t)<=this._radius*this._radius},intersectsBoundingSphere:function(t){if(this.valid()&&t.valid()){var e=this.getRadius()+t.getRadius();return J.sqrDist(t.getCenter(),this.getCenter())<=e*e}return!1},expandByVec3:function(t){if(this.valid()){var e=J.MemoryPool.alloc();J.sub(e,t,this._center);var r=J.length(e);if(r>this._radius){var n=.5*(r-this._radius);this._center[0]+=e[0]*(n/r),this._center[1]+=e[1]*(n/r),this._center[2]+=e[2]*(n/r),this._radius+=n}J.MemoryPool.free(e)}else this._center[0]=t[0],this._center[1]=t[1],this._center[2]=t[2],this._radius=0},expandByBoundingBox:function(t){if(t.valid())if(this.valid()){var e=ie.MemoryPool.alloc();e.setMax(t.getMax()),e.setMin(t.getMin());for(var r=J.MemoryPool.alloc(),n=0;n<8;n++)J.sub(r,t.getCorner(n,r),this._center),J.normalize(r,r),J.scaleAndAdd(r,this._center,r,-this._radius),e.expandByVec3(r);J.MemoryPool.free(r),e.getCenter(this._center),this._radius=e.getRadius(),ie.MemoryPool.free(e)}else t.getCenter(this._center),this._radius=t.getRadius()},expandByBoundingSphere:function(t){if(t.valid())if(this.valid()){var e=J.distance(this._center,t._center);if(e+t._radius<=this._radius)return;if(e+this.getRadius()<=t.getRadius())return J.copy(this._center,t._center),void(this._radius=t._radius);var r=.5*(this.getRadius()+e+t.getRadius()),n=(r-this.getRadius())/e;this._center[0]+=(t._center[0]-this._center[0])*n,this._center[1]+=(t._center[1]-this._center[1])*n,this._center[2]+=(t._center[2]-this._center[2])*n,this._radius=r}else J.copy(this._center,t._center),this._radius=t._radius},expandRadiusByBoundingSphere:function(t){if(t.valid())if(this._valid()){var e=J.distance(this._center,t._center)+t._radius;e>this._radius&&(this._radius=e)}else J.copy(this._center,t._center),this._radius=t._radius},transformMat4:function(t){if(this.valid()){var e=J.MemoryPool.alloc();te.getScale(e,t);var r=Math.max(Math.max(e[0],e[1]),e[2]);this._radius=this._radius*r,J.transformMat4(this._center,this._center,t),J.MemoryPool.free(e)}}};var oe=ae,se=function(t){gt.call(this,t),this._boundingBox=new ie,this._matrixStack=[]};(se.prototype=Object.create(gt.prototype)).constructor=se,Object.assign(se.prototype,{reset:function(){this._boundingBox.reset(),this._matrixStack.length=0},getBoundingBox:function(){return this._boundingBox},getMatrixStack:function(){return this._matrixStack},pushMatrix:function(t){this._matrixStack.push(t)},popMatrix:function(){this._matrixStack.pop()},apply:function(t){t.acceptBoundsVisitor(this)}});var he=se,ue=function(){I.call(this),this._parents=[],this._mask=-1,this._stateset=void 0,this._boundingBox=void 0,this._boundingSphere=void 0};(ue.prototype=Object.create(I.prototype)).constructor=ue,Object.assign(ue.prototype,{reset:function(){I.prototype.reset.call(this),this._parents.length=0,this._mask=-1,this._stateset=void 0,this._boundingBox&&this._boundingBox.reset(),this._boundingSphere&&this._boundingSphere.reset()},addParent:function(t){this._parents.push(t)},getParents:function(){return this._parents},removeParent:function(t){var e=this._parents.indexOf(t);-1!==e&&this._parents.splice(e,1)},setMask:function(t){this._mask=t},getMask:function(){return this._mask},getStateSet:function(t){return t&&(this._stateset||this.setStateSet(new Zt)),this._stateset},setStateSet:function(t){this._stateset!==t&&(this._stateset=t)},accept:function(t){t.validNode(this)&&t.apply(this)},traverseChildren:function(t){},traverseParents:function(t){for(var e=this._parents.length,r=0;r<e;r++){this._parents[r].accept(t)}},setBoundingBox:function(t){this._boundingBox=t},getBoundingBox:function(t){return void 0===this._boundingBox&&(this._boundingBox=new ie),t&&this.computeBoundingBox(this._boundingBox),this._boundingBox},computeBoundingBox:function(t){var e=new he;return e.setNodeMaskOverride(-1),e.reset(),e.apply(this),t.copy(e.getBoundingBox()),t},setBoundingSphere:function(t){this._boundingSphere=t},getBoundingSphere:function(t){return void 0===this._boundingSphere&&(this._boundingSphere=new oe),t&&this.computeBoundingSphere(this._boundingSphere),this._boundingSphere},computeBoundingSphere:function(t){return t.reset(),t.expandByBoundingBox(this.getBoundingBox()),t},readBlob:function(t){I.prototype.readBlob.call(this,t);var e=t.getModeler().getStateSet(t.readInt());e&&this.setStateSet(e)},acceptBoundsVisitor:function(t){t.traverse(this)},acceptGLReleaseVisitor:function(t){this._stateset&&this._stateset.isAutoReleased()&&(this._stateset.releaseGLObjects(),this._stateset=void 0),t.traverse(this)}}),ue.typeID=ue.prototype.typeID=p.NODE_TYPE;var ce=ue,le=function(){ce.call(this),this._children=[]};(le.prototype=Object.create(ce.prototype)).constructor=le,Object.assign(le.prototype,{reset:function(){ce.prototype.reset.call(this),this.clearChildren()},hasChild:function(t){for(var e=this._children.length,r=0;r<e;r++)if(this._children[r]===t)return!0;return!1},addChild:function(t,e){t&&(this._children.push(t),e&&t.addParent(this))},getChildren:function(){return this._children},getChildrenLength:function(){return this._children.length},getChild:function(t){return this._children[t]},clearChildren:function(){for(var t=this._children.length,e=0;e<t;e++)this._children[e].removeParent(this);this._children.length=0},removeChild:function(t){var e=this._children.indexOf(t);if(-1!==e)return t.removeParent(this),this._children.splice(e,1),e},traverseChildren:function(t){for(var e=this._children.length,r=0;r<e;r++){this._children[r].accept(t)}},readBlob:function(t){ce.prototype.readBlob.call(this,t);for(var e=t.readUInt(),r=0;r<e;r++)this.addChild(t.readNode())}}),le.typeID=le.prototype.typeID=p.GROUP_TYPE;var ge=le,fe=function(){ge.call(this)};(fe.prototype=Object.create(ge.prototype)).constructor=fe,Object.assign(fe.prototype,{readBlob:function(t){ge.prototype.readBlob.call(this,t)}}),fe.typeID=fe.prototype.typeID=p.GEODE_TYPE;var Ae=fe,de=function t(){ge.call(this),this._reference=t.RELATIVE_REFERENCE};(de.prototype=Object.create(ge.prototype)).constructor=de,Object.assign(de.prototype,{setReference:function(t){this._reference=t},getReference:function(){return this._reference},acceptBoundsVisitor:function(t){var e=Mat4.new(),r=t.getMatrixStack(),n=r.length;n&&Mat4.copy(e,r[n-1]),this.computeLocalToWorldMatrix(e),t.pushMatrix(e),t.traverse(this),t.popMatrix()},readBlob:function(t){ge.prototype.readBlob.call(this,t)}}),de.RELATIVE_REFERENCE=0,de.ABSOLUTE_REFERENCE=1;var pe=de,_e=function(t){pe.call(this),this._matrix=t?te.new():void 0};(_e.prototype=Object.create(pe.prototype)).constructor=_e,Object.assign(_e.prototype,{setMatrix:function(t){this._matrix=t},getMatrix:function(){return this._matrix},computeLocalToWorldMatrix:function(t){this._reference===pe.RELATIVE_REFERENCE?te.mul(t,t,this._matrix):te.copy(t,this._matrix)},computeWorldToLocalMatrix:function(t){var e=te.new();te.invert(e,this._matrix),this._reference===pe.RELATIVE_REFERENCE?te.mul(t,e,t):te.copy(t,e)},readBlob:function(t){pe.prototype.readBlob.call(this,t),this._matrix=t.readFloatArray(16);var e=t.getModeler().getGeometry(t.readInt());e&&this.addChild(e)}}),_e.typeID=_e.prototype.typeID=p.MATRIXTRANSFORM_TYPE;var Ce=_e,Ie=function(){this._values=[],this._back=void 0};Ie.prototype={empty:function(){return 0===this._values.length},values:function(){return this._values},back:function(){return this._back},push:function(t){this._values.push(t),this._back=t},pop:function(){var t=this._values.pop();return this._back=this._values[this._values.length-1],t}};var me=Ie,ve=function t(e){this._contextID=t.getInstanceID(),this._glcontext=e,this._glextVAO=void 0,this._glextVAO=void 0,e.getExtension?(this._glextVAO=e.getExtension("OES_vertex_array_object"),e.getExtension("OES_element_index_uint")):console.log("browser not support WebGL extensions"),t.gWebGLContexts.set(this._contextID,this._glcontext),this._attributes=new zt,this._statesets=new me,this._currentVAO=null,this._currentIndexVBO=null,this._vertexAttribs={},this._vertexAttribs._disable=[],this._vertexAttribs._keys=[],this._normalMatrixUniform=jt.createMatrix4("NormalMatrix"),this._transformMatrixUniform=jt.createMatrix4("TransformMatrix"),this._modelMatrixUniform=jt.createMatrix4("ModelMatrix"),this._lastModelViewMatrix=void 0,this._lastProjectionMatirx=void 0,this._lastTransformMatrix=void 0};ve.instanceID=0,ve.getInstanceID=function(){return ve.instanceID++},ve.gWebGLContexts=new Map,Object.assign(ve.prototype,{getWebGLContext:function(){return this._glcontext},getWebGLExtVAO:function(){return this._glextVAO},getContextID:function(){return this._contextID},getLastProgramApplied:function(){return this._attributes[0].lastApplied},resetCache:function(){this._lastModelViewMatrix=void 0,this._lastProjectionMatirx=void 0,this._lastTransformMatrix=void 0},applyTransformMatrix:function(t){if(this._lastTransformMatrix===t)return!1;var e=this.getLastProgramApplied().getGLUniformsCache(),r=this._transformMatrixUniform;return e[r.getName()]&&(r.setMatrix4(t),r.apply(this)),this._lastTransformMatrix=t,!0},applyModelMatrix:function(t,e,r){if(this._lastTransformMatrix===t&&this._lastModelViewMatrix===e&&this._lastProjectionMatirx===r)return!1;this._lastTransformMatrix!==t&&(this._transformMatrixUniform.setMatrix4(t),this._transformMatrixUniform.apply(this));var n=te.MemoryPool.alloc();if(te.copy(n,t),te.mul(n,e,n),(this._lastTransformMatrix!==t||this._lastModelViewMatrix!==e)&&this._normalMatrixUniform.valid(this)){var i=te.MemoryPool.alloc();te.getNormalMat4(i,n),this._normalMatrixUniform.setMatrix4(i),te.MemoryPool.free(i),this._normalMatrixUniform.apply(this)}return te.mul(n,r,n),this._modelMatrixUniform.setMatrix4(n),this._modelMatrixUniform.apply(this),this._lastTransformMatrix=t,this._lastModelViewMatrix=e,this._lastProjectionMatirx=r,te.MemoryPool.free(n),!0},applyStateSet:function(t){this.pushStateSet(t);var e=this.getLastProgramApplied();this.applyAttributes(),e!==this.getLastProgramApplied()&&this.resetCache(),this.popStateSet()},applyAttributes:function(){for(var t=this._attributes,e=t.getKeys(),r=e.length,n=0;n<r;n++){var i=t[e[n]];if(i&&i._isChanged){var a=void 0;0===i.values().length?(i.lastApplied=void 0,a=void 0):a=i.back().object,i.lastApplied!==a&&(a.apply&&a.apply(this),i.lastApplied=a),i._isChanged=!1}}},applyAttribute:function(t){var e=t.getTypeName(),r=this._attributes[e];r||(r=this.createStack(this._attributes,e,t)),r.lastApplied!==t&&(t.apply&&t.apply(this),r.lastApplied=t,r._isChanged=!0)},applyDefault:function(){this.popStateSets(),this.applyAttributes()},pushStateSet:function(t){this._statesets.push(t),t.getAttributes()&&this.pushAttributes(this._attributes,t.getAttributes())},pushAttributes:function(t,e){for(var r=e.getKeys(),n=r.length,i=0;i<n;i++){var a=r[i],o=e[a],s=o.getAttribute();void 0===t[a]&&this.createStack(t,a,s);var h=t[a];this.pushStack(h,o.getAttribute(),o.getMode()),h._isChanged=!0}},createStack:function(t,e,r){var n=new me;return t[e]=n,t.dirty(),n},pushStack:function(t,e,r){0!==t.values().length&&t.back().mask&Mt.OVERRIDE&&!(r&Mt.PROTECTED)?t.push(t.back()):t.push({object:e,mask:r})},popStateSet:function(){if(!this._statesets.empty()){var t=this._statesets.pop();t.getAttributes()&&this.popAttributeMap(this._attributes,t.getAttributes())}},popStateSets:function(){for(;this._statesets.values().length;)this.popStateSet()},popAttributeMap:function(t,e){for(var r=e.getKeys(),n=r.length,i=0;i<n;i++){var a=t[r[i]];a.pop(),a._isChanged=!0}},setVertexAttribArray:function(t,e){var r=this._vertexAttribs;r._disable[t]=!1;var n=this._glcontext;e.apply(this);var i=r[t];i!==e&&(i||(n.enableVertexAttribArray(t),void 0===i&&r._keys.push(t)),r[t]=e,n.vertexAttribPointer(t,e.getSize(),e.getType(),e.getNormalize(),0,0))},markDisableVertexAttribArray:function(){for(var t=this._vertexAttribs._keys,e=t.length,r=0;r<e;r++){var n=t[r];this._vertexAttribs[n]&&(this._vertexAttribs._disable[n]=!0)}},applyDisableVertexAttribArray:function(){for(var t=this._vertexAttribs._keys,e=t.length,r=0;r<e;r++){var n=t[r];!0===this._vertexAttribs._disable[n]&&(this._glcontext.disableVertexAttribArray(n),this._vertexAttribs._disable[n]=!1,this._vertexAttribs[n]=null)}},setIndexArray:function(t){t&&t.apply(this)},setVertexArrayObject:function(t){return this._currentVAO!==t&&(this._glextVAO.bindVertexArrayOES(t),this._currentVAO=t,t||this.clearVertexAttribCache(),!0)},clearVertexAttribCache:function(){for(var t=this._vertexAttribs._keys,e=t.length,r=0;r<e;r++){var n=t[r];this._vertexAttribs[n]=void 0,this._vertexAttribs._disable[n]=!1}this._vertexAttribs._disable.length=0,this._vertexAttribs._keys.length=0}});var ye=ve,Ee=function t(e,r,n){bt.call(this),this._changed=!0,this._target="string"==typeof e?t[e]:e,this._arraybuffer=void 0,this._type=void 0,void 0!==r&&this.setArrayBuffer(r),this._size=n,this._normalize=!1};Ee.ARRAY_BUFFER=34962,Ee.ELEMENT_ARRAY_BUFFER=34963,Ee._deletedGLBufferArrayCache=new Map,Ee.addDeletedGLBufferArray=function(t,e){Ee._deletedGLBufferArrayCache.has(t)?Ee._deletedGLBufferArrayCache.get(t).push(e):Ee._deletedGLBufferArrayCache.set(t,[e])},Ee.flushDeletedGLBufferArray=function(t){if(Ee._deletedGLBufferArrayCache.has(t))for(var e=Ee._deletedGLBufferArrayCache.get(t),r=e.length,n=0;n<r;n++)t.deleteBuffer(e.pop())},(Ee.prototype=Object.create(bt.prototype)).constructor=Ee,Object.assign(Ee.prototype,{setNormalize:function(t){this._normalize=t},getNormalize:function(){return this._normalize},getType:function(){return this._type},getSize:function(){return this._size},setArrayBuffer:function(t){var e;this._arraybuffer=t,this._type=(e=t)instanceof Int8Array?5120:e instanceof Uint8Array?5121:e instanceof Int16Array?5122:e instanceof Uint16Array?5123:e instanceof Int32Array?5124:e instanceof Uint32Array?5125:(Float32Array,5126),this._changed=!0},getArrayBuffer:function(){return this._arraybuffer},change:function(){this._changed=!0},apply:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];!n?(n=e.createBuffer(),this._glcontexts[r]=n,e.bindBuffer(this._target,n),e.bufferData(this._target,this._arraybuffer,e.STATIC_DRAW),this._changed=!1):(e.bindBuffer(this._target,n),this._changed&&(e.bufferData(this._target,this._arraybuffer,e.STATIC_DRAW),this._changed=!1))},releaseGLObject:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteBuffer(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;ye.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteBuffer(n),t._glcontexts[r]=void 0)})}});var we=Ee,Se=function(){ce.call(this),this._bufferArrays={},this._primitive=void 0,this._glextVAO=void 0,this._globjVAO=void 0,this._reference=void 0};Se.enableVAO=!1,(Se.prototype=Object.create(ce.prototype)).constructor=Se,Object.assign(Se.prototype,{setBufferArray:function(t,e){var r=this._bufferArrays[t];r!==e&&(r&&r.releaseGLObjects(),this._bufferArrays[t]=e,this.dirty())},getBufferArray:function(t){return this._bufferArrays[t]},getBufferArrays:function(){return this._bufferArrays},setPrimitive:function(t){if(this._primitive!==t){if(this._primitive){var e=this._primitive.getIndices();e&&e.releaseGLObjects()}this._primitive=t}},getPrimitive:function(){return this._primitive},setReference:function(t){this._reference=t},getReference:function(){return this._reference},dirty:function(){this.releaseVAO()},reset:function(){this._bufferArrays={},this._primitive=void 0,this._reference=void 0},draw:function(t){var e=t.getLastProgramApplied();if(this._primitive)if(this._glextVAO=t.getWebGLExtVAO(),Se.enableVAO&&this._glextVAO)if(this._globjVAO)t.setVertexArrayObject(this._globjVAO),this._primitive.draw(t);else{t.setVertexArrayObject(null);for(var r=[],n=[],i=e.getGLAttributesCache(),a=i.getKeys(),o=a.length,s=0;s<o;s++){var h=a[s],u=i[h];void 0!==this._bufferArrays[h]&&(r.push(h),n.push(u))}t.clearVertexAttribCache();var c,l=this._glextVAO.createVertexArrayOES();t.setVertexArrayObject(l),this._globjVAO=l,t.markDisableVertexAttribArray(),o=r.length;for(var g=0;g<o;g++){var f=r[g];c=this._bufferArrays[f],t.setVertexAttribArray(n[g],c)}t.applyDisableVertexAttribArray(),t.setIndexArray(this._primitive.getIndices()),this._primitive.draw(t)}else{for(var A=[],d=[],p=e.getGLAttributesCache(),_=p.getKeys(),C=_.length,I=0;I<C;I++){var m=_[I],v=p[m];void 0!==this._bufferArrays[m]&&(A.push(m),d.push(v))}t.markDisableVertexAttribArray(),C=A.length;for(var y=0;y<C;y++){var E=A[y],w=this._bufferArrays[E];t.setVertexAttribArray(d[y],w)}t.applyDisableVertexAttribArray(),t.setIndexArray(this._primitive.getIndices()),this._primitive.draw(t)}},computeBoundingBox:function(t){t.reset();var e=this._bufferArrays.Vertex;if(!e)return t;var r=e.getArrayBuffer(),n=e.getSize();if(r&&n>2)for(var i=t.getMin(),a=t.getMax(),o=r.length,s=0;s<o;s+=n){var h=r[s],u=r[s+1],c=r[s+2];h<i[0]&&(i[0]=h),h>a[0]&&(a[0]=h),u<i[1]&&(i[1]=u),u>a[1]&&(a[1]=u),c<i[2]&&(i[2]=c),c>a[2]&&(a[2]=c)}return t},acceptBoundsVisitor:function(t){var e=this.getBoundingBox();if(e.valid()){var r=t.getMatrixStack(),n=r.length;if(n){var i=ie.MemoryPool.alloc();i.copy(e),i.transformMat4(r[n-1]),t.getBoundingBox().expandByBoundingBox(i)}else t.getBoundingBox().expandByBoundingBox(e)}},acceptGLReleaseVisitor:function(t){this.releaseGLObjects()},releaseGLObjects:function(){this._stateset&&this._stateset.isAutoReleased()&&(this._stateset.releaseGLObjects(),this._stateset=void 0);for(var t=Object.keys(this._bufferArrays),e=t.length,r=0;r<e;r++)this._bufferArrays[t[r]].releaseGLObjects();if(this._primitive){var n=this._primitive.getIndices();n&&n.releaseGLObjects()}this._bufferArrays={},this._primitive=void 0,this._reference=void 0,this.releaseVAO()},releaseVAO:function(){this._globjVAO&&this._glextVAO&&(this._glextVAO.deleteVertexArrayOES(this._globjVAO),this._globjVAO=void 0,this._glextVAO=void 0)},readBlob:function(t){ce.prototype.readBlob.call(this,t),t.readChar()&&this.setPrimitive(t.readPrimitive());var e=new we(we.ARRAY_BUFFER,t.readVertexArray(),3);this.setBufferArray("Vertex",e);var r=new we(we.ARRAY_BUFFER,t.readVertexArray(),3);this.setBufferArray("Normal",r)}}),Se.typeID=Se.prototype.typeID=p.GEOMETRY_TYPE;var be=Se,Te=function t(e){this._mode=t.POINTS,void 0!==e&&("string"==typeof e&&(e=t[e]),this._mode=e)};Te.POINTS=0,Te.LINES=1,Te.LINE_LOOP=2,Te.LINE_STRIP=3,Te.TRIANGLES=4,Te.TRIANGLE_STRIP=5,Te.TRIANGLE_FAN=6,(Te.prototype={getMode:function(){return this._mode},readBlob:function(t){this._mode=t.readUChar()},getIndices:function(){},operate:function(t){var e=this[this._mode];e?e.call(this,t):console.log("Invalid Primitve TYPE operate.")}})[Te.TRIANGLES]=function(t){console.log("Invalid Primitve TRIANGLES operate.")},Te.prototype[Te.TRIANGLE_STRIP]=function(t){console.log("Invalid Primitve TRIANGLE_STRIP operate.")},Te.prototype[Te.TRIANGLE_FAN]=function(t){console.log("Invalid Primitve TRIANGLE_FAN operate.")},Te.prototype[Te.POINTS]=function(t){console.log("Invalid Primitve POINTS operate.")},Te.prototype[Te.LINES]=function(t){console.log("Invalid Primitve LINES operate.")},Te.prototype[Te.LINE_STRIP]=function(t){console.log("Invalid Primitve LINE_STRIP operate.")},Te.prototype[Te.LINE_LOOP]=function(t){console.log("Invalid Primitve LINE_LOOP operate.")},Te.typeID=Te.prototype.typeID=p.PRIMITIVES_TYPE;var Me=Te,Pe=function t(e,r){Me.call(this,e),this._count=0,this._type=t.UNSIGNED_SHORT,this._offset=0,this._indices=void 0,void 0!==r&&this.setIndices(r)};Pe.UNSIGNED_BYTE=5121,Pe.UNSIGNED_SHORT=5123,Pe.UNSIGNED_INT=5125,(Pe.prototype=Object.create(Me.prototype)).constructor=Pe,Object.assign(Pe.prototype,{setIndices:function(t){this._indices=t;var e=t.getArrayBuffer();this._count=e.length;var r=e.BYTES_PER_ELEMENT;1===r?this._type=Pe.UNSIGNED_BYTE:2===r?this._type=Pe.UNSIGNED_SHORT:4===r&&(this._type=Pe.UNSIGNED_INT)},getIndices:function(){return this._indices},getIndicesNumber:function(){return this._indices.getArrayBuffer().length},index:function(t){return this._indices.getArrayBuffer()[t]},setOffset:function(t){this._offset=t},getOffset:function(){return this._offset},draw:function(t){0!==this._count&&t.getWebGLContext().drawElements(this._mode,this._count,this._type,this._offset)},readBlob:function(t){Me.prototype.readBlob.call(this,t);var e=new we(we.ELEMENT_ARRAY_BUFFER,t.readIndexArray(),1);this.setIndices(e)}}),Pe.prototype[Me.TRIANGLES]=function(t){for(var e=this._offset+this._count,r=this._indices.getArrayBuffer(),n=this._offset;n<e;n+=3)t.operateTriangle(r[n],r[n+1],r[n+2])},Pe.prototype[Me.TRIANGLE_STRIP]=function(t){for(var e=this._indices.getArrayBuffer(),r=2,n=this._offset;r<this._count;++r,++n)r%2?t.operateTriangle(e[n],e[n+2],e[n+1]):t.operateTriangle(e[n],e[n+1],e[n+2])},Pe.prototype[Me.TRIANGLE_FAN]=function(t){for(var e=this._indices.getArrayBuffer(),r=e[this._offset],n=2,i=this._offset+1;n<this._count;++n,++i)t.operateTriangle(r,e[i],e[i+1])},Pe.prototype[Me.POINTS]=function(t){for(var e=this._indices.getArrayBuffer(),r=this._offset+this._count,n=this._offset;n<r;++n)t.operatePoint(e[n])},Pe.prototype[Me.LINES]=function(t){for(var e=this._indices.getArrayBuffer(),r=this._offset+this._count,n=this._offset;n<r;n+=2)t.operateLine(e[n],e[n+1])},Pe.prototype[Me.LINE_STRIP]=function(t){for(var e=this._indices.getArrayBuffer(),r=this._offset+this._count,n=this._offset;n<r;++n)t.operateLine(e[n],e[n+1])},Pe.prototype[Me.LINE_LOOP]=function(t){for(var e=this._indices.getArrayBuffer(),r=this._offset+this._count,n=this._offset;n<r;++n)t.operateLine(e[n],e[n+1]);t.operateLine(e[e.length-1],e[this._offset])},Pe.typeID=Pe.prototype.typeID=p.DRAWELEMENTS_TYPE;var Re=Pe,xe=function(t,e,r){Me.call(this,t),this._first=e,this._count=r};(xe.prototype=Object.create(Me.prototype)).constructor=xe,Object.assign(xe.prototype,{getFirst:function(){return this._first},getCount:function(){return this._count},index:function(t){return this._first+t},draw:function(t){0!==this._count&&t.getWebGLContext().drawArrays(this._mode,this._first,this._count)},readBlob:function(t){Me.prototype.readBlob.call(this,t),this._first=t.readUInt(),this._count=t.readUInt()}}),xe.prototype[Me.TRIANGLES]=function(t){for(var e=2,r=this._first;e<this._count;e+=3,r+=3)t.operateTriangle(r,r+1,r+2)},xe.prototype[Me.TRIANGLE_STRIP]=function(t){for(var e=2,r=this._first;e<this._count;++e,++r)e%2?t.operateTriangle(r,r+2,r+1):t.operateTriangle(r,r+1,r+2)},xe.prototype[Me.TRIANGLE_FAN]=function(t){for(var e=2,r=this._first+1;e<this._count;++e,++r)t.operateTriangle(this._first,r,r+1)},xe.prototype[Me.POINTS]=function(t){for(var e=0,r=this._first;e<this._count;++e,++r)t.operatePoint(r)},xe.prototype[Me.LINES]=function(t){for(var e=1,r=this._first;e<this._count;e+=2,r+=2)t.operateLine(r,r+1)},xe.prototype[Me.LINE_STRIP]=function(t){for(var e=1,r=this._first;e<this._count;++e,++r)t.operateLine(r,r+1)},xe.prototype[Me.LINE_LOOP]=function(t){for(var e=1,r=this._first;e<this._count;++e,++r)t.operateLine(r,r+1);t.operateLine(this._first+this._count-1,this._first)},xe.typeID=xe.prototype.typeID=p.DRAWARRAYS_TYPE;var Oe=xe,Ne=function t(e,r,n,i){Mt.call(this),this._srcFactor=t.DISABLE,this._dstFactor=t.DISABLE,this._srcAlpha=t.DISABLE,this._dstAlpha=t.DISABLE,this._constantColor=void 0,this._separate=!1,void 0!==e&&this.setSourceFactor(e),void 0!==r&&this.setDestinationFactor(r),void 0!==n&&this.setSourceAlpha(n),void 0!==i&&this.setDestinationAlpha(i)};Ne.DISABLE=-1,Ne.ZERO=0,Ne.ONE=1,Ne.SRC_COLOR=768,Ne.ONE_MINUS_SRC_COLOR=769,Ne.SRC_ALPHA=770,Ne.ONE_MINUS_SRC_ALPHA=771,Ne.DST_ALPHA=772,Ne.ONE_MINUS_DST_ALPHA=773,Ne.DST_COLOR=774,Ne.ONE_MINUS_DST_COLOR=775,Ne.SRC_ALPHA_SATURATE=776,Ne.BLEND_DST_RGB=32968,Ne.BLEND_SRC_RGB=32969,Ne.BLEND_DST_ALPHA=32970,Ne.BLEND_SRC_ALPHA=32971,Ne.CONSTANT_COLOR=32769,Ne.ONE_MINUS_CONSTANT_COLOR=32770,Ne.CONSTANT_ALPHA=32771,Ne.ONE_MINUS_CONSTANT_ALPHA=32772,Ne.BLEND_COLOR=32773,(Ne.prototype=Object.create(Mt.prototype)).constructor=Ne,Object.assign(Ne.prototype,{typename:"BlendFunc",setSource:function(t){this.setSourceFactor(t),this.setSourceAlpha(t)},setDestination:function(t){this.setDestinationFactor(t),this.setDestinationAlpha(t)},setSourceFactor:function(t){this._srcFactor="string"==typeof t?Ne[t]:t},getSourceFactor:function(){return this._srcFactor},setSourceAlpha:function(t){this._srcAlpha="string"==typeof t?Ne[f]:t,this.checkSeparate()},getSourceAlpha:function(){return this._srcAlpha},setDestinationFactor:function(t){this._dstFactor="string"==typeof t?Ne[t]:t},getDestinationFactor:function(){return this._dstFactor},setDestinationAlpha:function(t){this._dstAlpha="string"==typeof t?Ne[f]:t,this.checkSeparate()},getDestinationAlpha:function(){return this._dstAlpha},getSeparate:function(){return this._separate},setConstantColor:function(t){this._constantColor=t},checkSeparate:function(){},apply:function(t){var e=t.getWebGLContext();this._srcFactor===Ne.DISABLE||this._dstFactor===Ne.DISABLE?e.disable(e.BLEND):(e.enable(e.BLEND),e.blendFunc(this._srcFactor,this._dstFactor),this._constantColor&&e.blendColor(this._constantColor[0],this._constantColor[1],this._constantColor[2],this._constantColor[3]))}});var Le=Ne,De=function(){yt.call(this),this._version=1,this._modeler=void 0};(De.prototype=Object.create(yt.prototype)).constructor=De,Object.assign(De.prototype,{setModeler:function(t){this._modeler=t},getModeler:function(){return this._modeler},readBuildingStream:function(t){this.setArrayBuffer(t),this.readEndianFlag(),this.readVersion();var e=new wt;return e.readBlob(this),e},readNodeStream:function(t){return this.setArrayBuffer(t),this.readEndianFlag(),this.readVersion(),this.readNode()},readStateSetStream:function(t){return this.setArrayBuffer(t),this.readEndianFlag(),this.readVersion(),this.readStateSet()},readVersion:function(){this._version=this.readUShort()},readNode:function(){var t=this.readUShort(),e=null;return t===p.GEODE_TYPE?(e=new Ae).readBlob(this):t===p.MATRIXTRANSFORM_TYPE?(e=new Ce).readBlob(this):t===p.GEOMETRY_TYPE?(e=new be).readBlob(this):t===p.GROUP_TYPE&&(e=new ge).readBlob(this),e},readPrimitive:function(){var t=this.readUShort(),e=null;return t===p.DRAWARRAYS_TYPE?(e=new Oe).readBlob(this):t===p.DRAWELEMENTS_TYPE&&(e=new Re).readBlob(this),e},readStateSet:function(){for(var t=new Zt,e=this.readUInt(),r=0;r<e;r++)this.readStateAttribute(t);return t},readStateAttribute:function(t){var e=this.readUShort();if(e===p.MATERIALCOLOR_TYPE){var r=new Qt;if(r.readBlob(this),t.addAttribute(r,Mt.OVERRIDE),r.isTransparent()){var n=new Le(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA);t.addAttribute(n,Mt.OVERRIDE)}}},readIndexArray:function(){var t=this.readUInt();return this.readUIntArray(t)},readVertexArray:function(){var t=this.readUInt();return this.readFloatArray(3*t)}});var Fe=De,Be=function(){Fe.call(this),this._datalength=0,this._relationhost=new Map,this._bigdatas=new Map,this._curlength=0};(Be.prototype=Object.create(Fe.prototype)).constructor=Be,Object.assign(Be.prototype,{currentLength:function(){return this._curlength},loadModelByBuffer:function(t,e){if(void 0===t||void 0===e)return{type:v.END,skip:0};switch(t){case v.BEGIN:return{type:v.PROJECT,skip:0};case v.PROJECT:return this.loadProject(e);case v.STOREY:return this.loadStoreys(e);case v.RELATION:return this.loadRelation(e);case v.STATESET:return this.loadStateSet(e);case v.GEOMETRY:return this.loadGeometry(e);case v.BIG_GEOMETRY:return this.loadBigGeometry(e);case v.COMPONENT:return this.loadComponent(e);case v.BIG_COMPONENT_GEOMETRY:return this.loadBigComponentGeometry(e)}},loadProject:function(t){var e=t[0];if(e){var r=this._modeler.getProject();r.setUniqueID(e.uuid),r.setName(e.name),r.setType(e.type),r.setInfo(e.info),r.setProject(r);var n=this.readBuildingStream(Uint8Array.from(e.building).buffer);n&&r.setBuilding(n)}return this._curlength=1,{type:v.STOREY,skip:0}},loadStoreys:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];if(n){var i=this._modeler.createStorey(n.name);i.setElevation(n.elevation),i.setHeight(n.height),i.setUniqueID(n.uuid)}}this._curlength=e;var a=v.STOREY;return 0===e?(a=v.RELATION,this._datalength=0):this._datalength+=e,{type:a,skip:this._datalength}},loadRelation:function(t){for(var e=this,r=t.length,n=0;n<r;n++){var i=t[n];if(i){var a=this._modeler.createRelation(i.uuid);a.setName(i.name),a.setOriginID(i.entityId),a.setCategory(i.category),a.setDomain(i.domain),a.setTypeName(i.type),i.relation&&this._relationhost.set(a,i.relation)}}this._curlength=r;var o=v.RELATION;return 0===r?(this._relationhost.forEach(function(t,r){r.setRelation(e._modeler.getRelationByUniqueId(t))}),this._relationhost.clear(),o=v.STATESET,this._datalength=0):this._datalength+=r,{type:o,skip:this._datalength}},loadStateSet:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r],i=this.readStateSetStream(Uint8Array.from(n.stateset.buffer).buffer);i&&this._modeler.addStateSet(n.innerId,i)}this._curlength=e;var a=v.STATESET;return 0===e?(a=v.GEOMETRY,this._datalength=0):this._datalength+=e,{type:a,skip:this._datalength}},loadGeometry:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r],i=this.readNodeStream(Uint8Array.from(n.geometry).buffer);i&&this._modeler.addGeometry(n.innerId,i)}this._curlength=e;var a=v.GEOMETRY;return 0===e?(a=v.BIG_GEOMETRY,this._datalength=0):this._datalength+=e,{type:a,skip:this._datalength}},loadBigGeometry:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];this.addBigGeometry(n.innerId,n)}this._curlength=e;var i=v.BIG_GEOMETRY;return 0===e?(this.combineBigGeometry(!0),i=v.COMPONENT,this._datalength=0):this._datalength+=e,{type:i,skip:this._datalength}},loadComponent:function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];if(i){var a=this._modeler.createComponent(i.uuid);if(a.setName(i.name),a.setOriginID(i.entityId),a.setCategory(i.category),a.setDomain(i.domain),a.setTypeName(i.type),i.floor&&a.setStorey(this._modeler.getStoreyByName(i.floor)),i.relation&&a.setRelation(this._modeler.getRelationByUniqueId(i.relation)),this._modeler._project.getName()||this._modeler._project.setName(i.model),i.geometry){var o=this.readNodeStream(Uint8Array.from(i.geometry).buffer);o&&a.setGeometry(o)}e&&e.push(a)}}this._curlength=r;var s=v.COMPONENT;return 0===r?(s=v.BIG_COMPONENT_GEOMETRY,this._datalength=0):this._datalength+=r,{type:s,skip:this._datalength}},loadBigComponentGeometry:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];this.addBigGeometry(n.uuid,n)}this._curlength=e;var i=v.BIG_COMPONENT_GEOMETRY;return 0===e?(this.combineBigGeometry(!1),i=v.END,this._datalength=0):this._datalength+=e,{type:i,skip:this._datalength}},addBigGeometry:function(t,e){var r=this._bigdatas.get(t);if(r)r[e.order]=Uint8Array.from(e.geometry).buffer;else{var n=[];n[e.order]=Uint8Array.from(e.geometry).buffer,this._bigdatas.set(t,n)}},combineBigGeometry:function(t){var e=this;this._bigdatas.forEach(function(r,n){for(var i=r.length,a=[],o=0;o<i;o++){var s=r[o];s&&a.push(s)}var h=e.readNodeStream(Jt.combineBuffers(a));if(h)if(t)e._modeler.addGeometry(n,h);else{var u=e._modeler.getComponentByUniqueId(n);u&&u.setGeometry(h)}}),this._bigdatas.clear()}});var Ue=Be,Ge=function(t){this._transfer=t,this._stream=new Ue,this._loadpercent=100,this._curpercent=0};Ge.prototype={loadModelData:function(){var t=o()(i.a.mark(function t(e,r){var n,a,o,s,h,u,c,l,g;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",!1);case 2:if(void 0!==r){t.next=12;break}return t.next=5,this._transfer.network().getModelParameter(e);case 5:if(!(n=t.sent)){t.next=10;break}r=n.version,t.next=12;break;case 10:return console.log("modelId:"+e+" 无法获取模型信息。"),t.abrupt("return",!1);case 12:if(!this._transfer.hasModeler(e,r)){t.next=15;break}return console.log("modelId:"+e+" 模型已经存在，无法重复打开。"),t.abrupt("return",!1);case 15:return this._modeler=this._transfer.createModeler(e,r),this._stream.setModeler(this._modeler),t.next=19,this.getModelCount(e,r);case 19:a=t.sent,o=0,s=v.BEGIN,h=0;case 23:return t.next=25,this._transfer.network().loadModelData(e,r,s,h);case 25:if(void 0!==(u=t.sent)){t.next=28;break}return t.abrupt("break",36);case 28:c=u.type,l=u.data,g=this._stream.loadModelByBuffer(c,l),o+=this._stream.currentLength(),this.updateLoadState(o,a),s=g.type,h=g.skip;case 35:if(s!==v.END){t.next=23;break}case 36:return t.abrupt("return",!0);case 37:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),updateLoadState:function(t,e){var r=100;void 0!==t&&(r=this._curpercent+this._loadpercent*t/e),this._transfer.getCallbacks().forEach(function(t){t(R.DATALOAD_CHANGED,r)})},getModelCount:function(){var t=o()(i.a.mark(function t(e,r){var n,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=v.BEGIN,a=0;case 2:return n=this.nextLoadType(n),t.next=5,this._transfer.network().getModelTypeCount(e,n,r);case 5:o=t.sent,a+=o.count;case 7:if(n!==v.END){t.next=2;break}case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),nextLoadType:function(t){return t===v.BEGIN?v.PROJECT:t===v.PROJECT?v.STOREY:t===v.STOREY?v.RELATION:t===v.RELATION?v.STATESET:t===v.STATESET?v.GEOMETRY:t===v.GEOMETRY?v.BIG_GEOMETRY:t===v.BIG_GEOMETRY?v.COMPONENT:t===v.COMPONENT?v.BIG_COMPONENT_GEOMETRY:t===v.BIG_COMPONENT_GEOMETRY?v.END:void 0},openModelData:function(){var t=o()(i.a.mark(function t(e,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._curpercent=0,this._loadpercent=95,t.next=4,this.loadModelData(e,r);case 4:if(!t.sent){t.next=8;break}return this._transfer.updateViewCores(v.OPEN),this.updateLoadState(),t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),openModelDatas:function(){var t=o()(i.a.mark(function t(e){var r,n,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Jt.isArrayType(e)){t.next=2;break}return t.abrupt("return",!1);case 2:if(0!==(r=e.length)){t.next=5;break}return t.abrupt("return",!1);case 5:this._curpercent=0,this._loadpercent=95/r,n=0,a=0;case 9:if(!(a<r)){t.next=26;break}if(o=e[a],!Jt.isStringType(o)){t.next=18;break}return t.next=14,this.loadModelData(o);case 14:if(!t.sent){t.next=16;break}n++;case 16:t.next=22;break;case 18:return t.next=20,this.loadModelData(o.modelId,o.version);case 20:if(!t.sent){t.next=22;break}n++;case 22:this._curpercent+=this._loadpercent;case 23:a++,t.next=9;break;case 26:return this._transfer.updateViewCores(v.OPEN),this.updateLoadState(),t.abrupt("return",n===r);case 29:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),unloadModelData:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",!1);case 2:if(void 0!==r){t.next=12;break}return t.next=5,this._transfer.network().getModelParameter(e);case 5:if(!(n=t.sent)){t.next=10;break}r=n.version,t.next=12;break;case 10:return console.log("modelId:"+e+" 无法获取模型信息。"),t.abrupt("return",!1);case 12:return t.abrupt("return",this._transfer.removeModeler(e,r));case 13:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),closeModelData:function(){var t=o()(i.a.mark(function t(e,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.unloadModelData(e,r);case 2:if(!t.sent){t.next=5;break}return this._transfer.updateViewCores(v.CLOSE),t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),closeModelDatas:function(){var t=o()(i.a.mark(function t(e){var r,n,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Jt.isArrayType(e)){t.next=2;break}return t.abrupt("return",!1);case 2:if(0!==(r=e.length)){t.next=5;break}return t.abrupt("return",!1);case 5:n=0,a=0;case 7:if(!(a<r)){t.next=16;break}return o=e[a],t.next=11,this.unloadModelData(o.modelId,o.version);case 11:if(!t.sent){t.next=13;break}n++;case 13:a++,t.next=7;break;case 16:return this._transfer.updateViewCores(v.CLOSE),t.abrupt("return",n===r);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),closeAllModelDatas:function(){var t=o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._transfer.clearModelers(),this._transfer.updateViewCores(v.CLOSE),t.abrupt("return",!0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()};var ke=Ge,Ve=function(t){this._network=t.network(),this._modelers=t.modelers()};Ve.prototype={isEntityExistL:function(t){if(void 0===t)return!1;var e=this._modelers.length;if(0===e)return!1;for(var r=0;r<e;r++){if(this._modelers[r].getEntityByUniqueId(t))return!0}return!1},getRelationRelParameterL:function(){var t=o()(i.a.mark(function t(e){var r,n,a,o,s,h,u,c,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:if(0!==(r=this._modelers.length)){t.next=5;break}return t.abrupt("return",void 0);case 5:n=0;case 6:if(!(n<r)){t.next=29;break}if(a=this._modelers[n],!(o=a.getRelationByUniqueId(e))){t.next=26;break}s=[],h=[],o.getRelComponents(h),u=h.length,c=0;case 15:if(!(c<u)){t.next=25;break}return l=h[c].getUniqueID(),t.t0=s,t.next=20,this._network.getEntityParameter(l,a.modelId(),a.version());case 20:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 22:c++,t.next=15;break;case 25:return t.abrupt("return",s);case 26:n++,t.next=6;break;case 29:return t.abrupt("return",void 0);case 30:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllModelParameterS:function(){var t=o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._network.getAllModelParameter();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getEntityParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this._network.getEntityParameter(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getEntityParameterL:function(){var t=o()(i.a.mark(function t(e){var r,n,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:if(0!==(r=this._modelers.length)){t.next=5;break}return t.abrupt("return",void 0);case 5:n=0;case 6:if(!(n<r)){t.next=16;break}if(a=this._modelers[n],!a.getEntityByUniqueId(e)){t.next=13;break}return t.next=12,this._network.getEntityParameter(e,a.modelId(),a.version());case 12:return t.abrupt("return",t.sent);case 13:n++,t.next=6;break;case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllComponentParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this._network.getAllComponentParameter(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getAllComponentParameterL:function(){var t=o()(i.a.mark(function t(e){var r,n,a,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],0!==(n=this._modelers.length)){t.next=4;break}return t.abrupt("return",r);case 4:a=0;case 5:if(!(a<n)){t.next=17;break}return o=this._modelers[a],(s={}).modelId=o.modelId(),s.version=o.version(),t.next=12,this._network.getAllComponentParameter(o.modelId(),e,o.version());case 12:s.parameter=t.sent,r.push(s);case 14:a++,t.next=5;break;case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllRelationParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this._network.getAllRelationParameter(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getAllRelationParameterL:function(){var t=o()(i.a.mark(function t(e){var r,n,a,o,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],0!==(n=this._modelers.length)){t.next=4;break}return t.abrupt("return",r);case 4:a=0;case 5:if(!(a<n)){t.next=17;break}return o=this._modelers[a],(s={}).modelId=o.modelId(),s.version=o.version(),t.next=12,this._network.getAllRelationParameter(o.modelId(),e,o.version());case 12:s.parameter=t.sent,r.push(s);case 14:a++,t.next=5;break;case 17:return t.abrupt("return",r);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllStoreyParameterS:function(){var t=o()(i.a.mark(function t(e,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this._network.getAllStoreyParameter(e,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),getAllStoreyParameterL:function(){var t=o()(i.a.mark(function t(){var e,r,n,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],0!==(r=this._modelers.length)){t.next=4;break}return t.abrupt("return",e);case 4:n=0;case 5:if(!(n<r)){t.next=17;break}return a=this._modelers[n],(o={}).modelId=a.modelId(),o.version=a.version(),t.next=12,this._network.getAllStoreyParameter(a.modelId(),a.version());case 12:o.parameter=t.sent,e.push(o);case 14:n++,t.next=5;break;case 17:return t.abrupt("return",e);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()};var He=Ve,Ye=function(t){this._transfer=new Ct(t),this._loader=new ke(this._transfer),this._querier=new He(this._transfer)};Ye.prototype={getTransfer:function(){return this._transfer},getModelers:function(){return this._transfer.modelers()},attachViewCore:function(t){this._transfer.attachViewCore(t)},detachViewCore:function(t){this._transfer.detachViewCore(t)},getDataLoader:function(){return this._loader},getDataQuerier:function(){return this._querier},addCallback:function(t,e){return this._transfer.addCallback(t,e)},removeCallback:function(t){return this._transfer.removeCallback(t)},clearCallback:function(){this._transfer.clearCallback()},test:function(t){this._transfer.getNetwork().deleteModelData(t)}};var je=Ye,Xe={DataManager:{},DataID:0,ViewManager:{},ViewID:0},Qe=function(t){this._dataID=t};Qe.prototype={openModelData:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,n.getDataLoader().openModelData(e,r);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),openModelDatas:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataLoader().openModelDatas(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),closeModelData:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,n.getDataLoader().closeModelData(e,r);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),closeModelDatas:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataLoader().closeModelDatas(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),closeAllModelDatas:function(){var t=o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Xe.DataManager[this._dataID])){t.next=4;break}return t.next=4,e.getDataLoader().closeAllModelDatas();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()};var We=Qe,ze=function(t){this._dataID=t};ze.prototype={getAllModelParameterS:function(){var t=o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,e.getDataQuerier().getAllModelParameterS();case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),isEntityExistL:function(t){var e=Xe.DataManager[this._dataID];if(e)return e.getDataQuerier().isEntityExistL(t)},getRelationRelParameterL:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataQuerier().getRelationRelParameterL(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getEntityParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,a.getDataQuerier().getEntityParameterS(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getEntityParameterL:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataQuerier().getEntityParameterL(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllComponentParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,a.getDataQuerier().getAllComponentParameterS(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getAllComponentParameterL:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataQuerier().getAllComponentParameterL(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllRelationParameterS:function(){var t=o()(i.a.mark(function t(e,r,n){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,a.getDataQuerier().getAllRelationParameterS(e,r,n);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),getAllRelationParameterL:function(){var t=o()(i.a.mark(function t(e){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,r.getDataQuerier().getAllRelationParameterL(e);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllStoreyParameterS:function(){var t=o()(i.a.mark(function t(e,r){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,n.getDataQuerier().getAllStoreyParameterS(e,r);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),getAllStoreyParameterL:function(){var t=o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Xe.DataManager[this._dataID])){t.next=5;break}return t.next=4,e.getDataQuerier().getAllStoreyParameterL();case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",void 0);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()};var qe=ze,Je=function(t){Xe.DataID++,Xe.DataManager[Xe.DataID]=new je(t),this._dataID=Xe.DataID,this._loader=new We(this._dataID),this._querier=new qe(this._dataID)};Je.prototype={getWINDDataLoader:function(){return this._loader},getWINDDataQuerier:function(){return this._querier},addWINDDataCallback:function(t,e){var r=Xe.DataManager[this._dataID];return!!r&&r.addCallback(t,e)},removeWINDDataCallback:function(t){var e=Xe.DataManager[this._dataID];return!!e&&e.removeCallback(t)},clearWINDDataCallback:function(){var t=Xe.DataManager[this._dataID];t&&t.clearCallback()}};var Ke=Je,Ze={STREAM_VERSION:4,COMPONENT_MODULE:1,AXISGRID_MODULE:2,TRANSPARENT_MODULE:3,CHARACTER_MODULE:4,SECTION_MODULE:5,NAVIGATE_MODULE:6,MEASURE_MODULE:7,MULTIPICK_MODULE:8,CURSOR_MODULE:9,ENGINE_FUNCTION:1,ROAMING_FUNCTION:2,SECTION_FUNCTION:3,NAVIGATE_FUCNTION:4,MEASURE_FUNCTION:5,PUSHPIN_FUCNTION:6,MINIMAP_FUCNTION:7,CUBE_OTHER:0,CUBE_FRONT:1,CUBE_BACK:2,CUBE_TOP:3,CUBE_BOTTOM:4,CUBE_LEFT:5,CUBE_RIGHT:6};Object.freeze(Ze);var $e=Ze,tr=function(t){this._adaptor=t,this._navigate=void 0};tr.prototype={setNavigateResource:function(t,e,r,n,i,a,o){return this._adaptor.getViewer().getFactory().getResource().getNavigate().set(t,e,r,n,i,a,o)},setNavigateProperty:function(t,e,r){this._adaptor.getConfig().setNavigateProperty(t,e,r)},openNavigateAssist:function(){this._navigate=this._adaptor.createOperation($e.NAVIGATE_FUCNTION)},closeNavigateAssist:function(){this._navigate=this._adaptor.resetOperation($e.NAVIGATE_FUCNTION)},getAssistState:function(){var t={};return t.navigateCreated=!!this._navigate,t}};var er=tr,rr=r(13),nr=r.n(rr),ir=function(t){this._adaptor=t,this._viewer=t.getViewer(),this._componentTrees=new Map};ir.prototype={update:function(){this.updateTreeDatas()},highlightEntities:function(t){if(Jt.isStringType(t)){if(this._viewer.getComponentGraph().highlightEntityBySearch(t))return this.updateTreeStates(),this._viewer.requestRedraw(),1}else if(Jt.isArrayType(t)){for(var e=t.length,r=0,n=0;n<e;n++)this._viewer.getComponentGraph().highlightEntityBySearch(t[n])&&r++;return 0!==r&&(this.updateTreeStates(),this._viewer.requestRedraw()),r}return 0},unhighlightEntities:function(){this._viewer.getComponentGraph().unhighlightEntities(),this._viewer.requestRedraw()},transparentComponents:function(){this._viewer.getComponentGraph().transparentComponents(),this._viewer.requestRedraw()},untransparentComponents:function(){this._viewer.getComponentGraph().untransparentComponents(),this._viewer.requestRedraw()},setBatchEntities:function(t,e){return this._viewer.getComponentGraph().setBatchEntities(t,e)},removeBatchEntities:function(t){return!!this._viewer.getComponentGraph().removeBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},clearBatchEntities:function(){this._viewer.getComponentGraph().clearBatchEntities(),this._viewer.requestRedraw()},coloringBatchEntities:function(t,e,r,n,i){return e/=255,r/=255,n/=255,i/=255,!!this._viewer.getComponentGraph().coloringBatchEntities(t,e,r,n,i)&&(this._viewer.requestRedraw(),!0)},discoloringBatchEntities:function(t){return!!this._viewer.getComponentGraph().discoloringBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},highlightBatchEntities:function(t){return!!this._viewer.getComponentGraph().highlightBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},unhighlightBatchEntities:function(t){return!!this._viewer.getComponentGraph().unhighlightBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},transparentBatchEntities:function(t){return!!this._viewer.getComponentGraph().transparentBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},untransparentBatchEntities:function(t){return!!this._viewer.getComponentGraph().untransparentBatchEntities(t)&&(this._viewer.requestRedraw(),!0)},showComponents:function(){this.showEachComponents(),this.showTreeRoot(),this._viewer.requestRedraw()},showEachComponents:function(){this._viewer.getComponentGraph().showEachComponents(),this._viewer.requestRedraw()},hideEachComponents:function(){this._viewer.getComponentGraph().hideEachComponents(),this._viewer.requestRedraw()},hideSelectComponents:function(){for(var t=this._viewer.getComponentGraph().getHighlightEntities(),e=t.length,r=0;r<e;r++)t[r].assignHide();this._viewer.getComponentGraph().unhighlightEntities(),this._viewer.requestRedraw()},hideUnselectComponents:function(){0!==this._viewer.getComponentGraph().getHighlightEntities().length&&(this._viewer.getScenery().getSceneBlock().forEach(function(t){t.getRenderComponents().forEach(function(t){t.isHightlighted()||t.assignHide()})}),this._viewer.requestRedraw())},showAssignEntities:function(t){if(Jt.isStringType(t)){if(this._viewer.getComponentGraph().showAssignEntity(t))return this.updateTreeStates(),this._viewer.requestRedraw(),1}else if(Jt.isArrayType(t)){for(var e=t.length,r=0,n=0;n<e;n++)this._viewer.getComponentGraph().showAssignEntity(t[n])&&r++;return 0!==r&&(this.updateTreeStates(),this._viewer.requestRedraw()),r}return 0},hideAssignEntities:function(t){if(Jt.isStringType(t)){if(this._viewer.getComponentGraph().hideAssignEntity(t))return this.updateTreeStates(),this._viewer.requestRedraw(),1}else if(Jt.isArrayType(t)){for(var e=t.length,r=0,n=0;n<e;n++)this._viewer.getComponentGraph().hideAssignEntity(t[n])&&r++;return 0!==r&&(this.updateTreeStates(),this._viewer.requestRedraw()),r}return 0},createComponentTree:function(t,e){if(void 0!==this._componentTrees.get(e))return console.log("Current tree has already used!"),!1;if(!Jt.isArrayType(t))return console.log("Invalid rule!"),!1;var r=[],n=t.length;if(0===n)return!1;for(var i=0;i<n;i++){switch(t[i]){case x.PROJECT_NAME:r.push(v.PROJECT_NAME);break;case x.STOREY_NAME:r.push(v.STOREY_NAME);break;case x.TYPE_NAME:r.push(v.TYPE_NAME);break;case x.DOMAIN_NAME:r.push(v.DOMAIN_NAME);break;case x.CATEGORY_NAME:r.push(v.CATEGORY_NAME);break;case x.COMPONENT_NAME:r.push(v.COMPONENT_NAME);break;case x.COMPONENT_UNIQUEID:r.push(v.COMPONENT_UNIQUEID);break;case x.COMPONENT_ORIGINID:r.push(v.COMPONENT_ORIGINID);break;case x.COMPONENT_NAME_ORIGINID:r.push(v.COMPONENT_NAME_ORIGINID);break;default:return console.log("Invalid rule!"),!1}}var a=this._viewer.getComponentGraph().createComponentTree(r);return this._componentTrees.set(e,a),this.updateTreeData(a.root(),e),!0},updateTreeDatas:function(){var t=this;this._componentTrees.forEach(function(e,r){t.updateTreeData(e.root(),r)})},updateTreeData:function(t,e){e.children=[],e.parent=t.getParent(),e.name=t.getName(),e.id=t.getID(),e.state=t.getState(),this.createTreeNode(t,e),this._adaptor.getViewCallbacks().forEach(function(t){t(R.DISPLAYTREE_CREATED,e)})},createTreeNode:function(t,e){if(!t.isLeaf())for(var r=t.getChildren(),n=r.length,i=0;i<n;i++){var a=r[i];if(a){var o={};o.parent=e,o.children=[],o.name=a.getName(),o.id=a.getID(),o.state=a.getState(),e.children.push(o),this.createTreeNode(a,o)}}},updateTreeStates:function(){var t=this;this._componentTrees.forEach(function(e,r){t.updateTreeState(e.root(),r)})},updateTreeState:function(t,e){e.state=t.getState(),this.updateTreeNode(t,e),this._adaptor.getViewCallbacks().forEach(function(t){t(R.DISPLAYTREE_UPDATED,e)})},updateTreeNode:function(t,e){if(!t.isLeaf())for(var r=t.getChildren(),n=e.children,i=r.length,a=0;a<i;a++){var o=r[a],s=n[a];s.state=o.getState(),this.updateTreeNode(o,s)}},displayTreeNode:function(t,e){if(e){var r=this._componentTrees.get(e);if(r&&this._viewer.getComponentGraph().displayTreeNode(t,r))return this.updateTreeState(r.root(),e),this._viewer.requestRedraw(),!0}else{var n=!0,i=!1,a=void 0;try{for(var o,s=this._componentTrees[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var h=nr()(o.value,2),u=h[0],c=h[1];if(this._viewer.getComponentGraph().displayTreeNode(t,c))return this.updateTreeState(c.root(),u),this._viewer.requestRedraw(),!0}}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}return!1},hightlightTreeNode:function(t,e){var r=this;if(e){var n=this._componentTrees.get(e);if(n&&this._viewer.getComponentGraph().hightlightTreeNode(t,n))return this._viewer.requestRedraw(),!0}else this._componentTrees.forEach(function(e){if(r._viewer.getComponentGraph().hightlightTreeNode(t,e))return r._viewer.requestRedraw(),!0});return!1},showTreeRoot:function(t){var e=this;if(t){var r=this._componentTrees.get(t);return!!r&&(this._viewer.getComponentGraph().showTreeRoot(r),this.updateTreeStates(r.root(),t),this._viewer.requestRedraw(),!0)}return this._componentTrees.forEach(function(t){e._viewer.getComponentGraph().showTreeRoot(t)}),this._viewer.requestRedraw(),this.updateTreeStates(),!0},hideTreeRoot:function(t){var e=this;if(t){var r=this._componentTrees.get(t);return!!r&&(this._viewer.getComponentGraph().hideTreeRoot(r),this.updateTreeStates(r.root(),t),this._viewer.requestRedraw(),!0)}return this._componentTrees.forEach(function(t){e._viewer.getComponentGraph().hideTreeRoot(t),e._viewer.requestRedraw()}),this.updateTreeStates(),!0},saveViewState:function(t){this._viewer.getScenery().saveViewState(t)},loadViewState:function(t){this._viewer.getScenery().loadViewState(t),this.updateViewState()},updateViewState:function(){this.updateTreeStates()}};var ar=ir,or=function(t){this._adaptor=t,this._measure=void 0};or.prototype={openMeasure:function(){this._measure=this._adaptor.createOperation($e.MEASURE_FUNCTION)},closeMeasure:function(){this._measure=this._adaptor.resetOperation($e.MEASURE_FUNCTION)},setMeasureType:function(t){var e=this._adaptor.getConfig();if(e.getMeasureType()===t)return!1;e.setMeasureType(t),this._measure&&this._measure.update()},finishMeasure:function(){this._measure&&this._measure.cancel()},getViewState:function(t){return t._measureType=this._adaptor.getConfig().getMeasureType(),t._measureOpened=!!this._measure,t},saveViewState:function(t){t._measureType=this._adaptor.getConfig().getMeasureType(),this._measure?(this._measure.cancel(),t._measureOpened=!0,this._measure.save(t._measureNodes)):t._measureOpened=!1},loadViewState:function(t){t._measureOpened?(this.openMeasure(),this.setMeasureType(t._measureType),this._measure.load(t._measureNodes)):this.closeMeasure(),this.updateViewState()},updateViewState:function(){var t=this;this._adaptor.getViewCallbacks().forEach(function(e){var r={};t.getViewState(r),e(R.MEASURESTATE_CHANGED,r)})}};var sr=or,hr=function(t){this._adaptor=t,this._viewer=t.getViewer()};hr.prototype={};var ur=hr,cr={};cr.new=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t},cr.MemoryPool=new U(cr.new),cr.alloc=cr.MemoryPool.alloc,cr.free=cr.MemoryPool.free,cr.new_d=function(){var t=new Float64Array(2);return t[0]=0,t[1]=0,t},cr.MemoryPool_d=new U(cr.new_d),cr.alloc_d=cr.MemoryPool_d.alloc,cr.free_d=cr.MemoryPool_d.free,cr.clone=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e},cr.clone_d=function(t){var e=new Float64Array(2);return e[0]=t[0],e[1]=t[1],e},cr.create=function(t,e){var r=new Float32Array(2);return r[0]=t,r[1]=e,r},cr.create_d=function(t,e){var r=new Float64Array(2);return r[0]=t,r[1]=e,r},cr.POSITIVE_INFINITY=cr.create(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),cr.NEGATIVE_INFINITY=cr.create(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),cr.POSITIVE_INFINITY_D=cr.create_d(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),cr.NEGATIVE_INFINITY_D=cr.create_d(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),cr.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},cr.set=function(t,e,r){return t[0]=e,t[1]=r,t},cr.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},cr.subtract=cr.sub=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},cr.multiply=cr.mul=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},cr.divide=cr.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},cr.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},cr.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},cr.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},cr.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},cr.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},cr.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},cr.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},cr.distance=cr.dist=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},cr.squaredDistance=cr.sqrDist=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},cr.length=cr.len=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},cr.squaredLength=cr.sqrLen=function(t){var e=t[0],r=t[1];return e*e+r*r},cr.normalize=function(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},cr.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},cr.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},cr.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},cr.lerp=function(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t},cr.hermite=function(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,h=o*(a-2)+a,u=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+r[0]*h+n[0]*u+i[0]*c,t[1]=e[1]*s+r[1]*h+n[1]*u+i[1]*c,t},cr.bezier=function(t,e,r,n,i,a){var o=1-a,s=o*o,h=a*a,u=s*o,c=3*a*s,l=3*h*o,g=h*a;return t[0]=e[0]*u+r[0]*c+n[0]*l+i[0]*g,t[1]=e[1]*u+r[1]*c+n[1]*l+i[1]*g,t},cr.random=function(t,e){e=e||1;var r=2*F.RANDOM()*Math.PI,n=2*F.RANDOM()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t},cr.str=function(t){return"Vec2("+t[0]+", "+t[1]+")"},cr.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cr.equals=function(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=F.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))};var lr=cr,gr=function t(){this._primitiveMask=t.ALL_PRIMITIVES,this._usageMask=t.SELECTION,this._categoryFilter=void 0,this._outcomeMask=t.FAST_OUTCOME,this._intersections=void 0,this._intersectFlag=!1,this._drawable=void 0,this._vertices=void 0,this._transform=void 0,this._normalTransform=te.new(),this._primitiveIndex=0};gr.POINT_PRIMITIVES=1,gr.LINE_PRIMITIVES=2,gr.TRIANGLE_PRIMITIVES=4,gr.ALL_PRIMITIVES=7,gr.SELECTION=1,gr.COLLISION=2,gr.BEST_OUTCOME=1,gr.FAST_OUTCOME=2,Object.assign(gr.prototype,{setPrimivtiveMask:function(t){this._primitiveMask=t},setUsageMask:function(t){this._usageMask=t},setCategoryFilter:function(t){this._categoryFilter=t},setOutcomeMask:function(t){this._outcomeMask=t},setIntersections:function(t){this._intersections=t},reset:function(){this._primitiveMask=gr.ALL_PRIMITIVES,this._usageMask=gr.PICK_HIGHLIGHT,this._categoryFilter=void 0,this._outcomeMask=gr.FAST_OUTCOME,this._intersections=void 0,this._intersectFlag=!1,this._drawable=void 0,this._vertices=void 0,this._transform=void 0,te.identity(this._normalTransform),this._primitiveIndex=0},enter:function(t){if(this._usageMask===gr.SELECTION){if(!t.valid())return!1}else if(this._usageMask===gr.COLLISION&&!t.shown())return!1;return!(this._categoryFilter&&t.getRenderEntity&&this._categoryFilter.has(t.getRenderEntity().getEntity().getCategory()))},initialize:function(){this.reset()},intersect:function(t){},reachedLimit:function(){return!(this._outcomeMask!==gr.FAST_OUTCOME||!this._intersectFlag)},operatePoint:function(t){if(!this.reachedLimit()&&0!=(this._primitiveMask&gr.POINT_PRIMITIVES)){var e=J.MemoryPool.alloc(),r=this._vertices;J.set(e,r[3*t],r[3*t+1],r[3*t+2]);var n=this.intersectPoint(e);J.MemoryPool.free(e),n&&(this._intersectFlag=!0,n._primitiveIndex=this._primitiveIndex,n._drawable=this._drawable,this._intersections.push(n)),this._primitiveIndex++}},operateLine:function(t,e){if(!this.reachedLimit()&&0!=(this._primitiveMask&gr.LINE_PRIMITIVES)){var r=J.MemoryPool.alloc(),n=J.MemoryPool.alloc(),i=this._vertices;J.set(r,i[3*t],i[3*t+1],i[3*t+2]),J.set(n,i[3*e],i[3*e+1],i[3*e+2]);var a=this.intersectLine(r,n);J.MemoryPool.free(r),J.MemoryPool.free(n),a&&(this._intersectFlag=!0,a._primitiveIndex=this._primitiveIndex,a._drawable=this._drawable,this._intersections.push(a)),this._primitiveIndex++}},operateTriangle:function(t,e,r){if(!this.reachedLimit()&&0!=(this._primitiveMask&gr.TRIANGLE_PRIMITIVES)){var n=J.MemoryPool.alloc(),i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc(),o=this._vertices;J.set(n,o[3*t],o[3*t+1],o[3*t+2]),J.set(i,o[3*e],o[3*e+1],o[3*e+2]),J.set(a,o[3*r],o[3*r+1],o[3*r+2]);var s=this.intersectTriangle(n,i,a);J.MemoryPool.free(n),J.MemoryPool.free(i),J.MemoryPool.free(a),s&&(this._intersectFlag=!0,s._primitiveIndex=this._primitiveIndex,s._drawable=this._drawable,this._intersections.push(s)),this._primitiveIndex++}},intersectPoint:function(){},intersectLine:function(){},intersectTriangle:function(){}});var fr=gr,Ar=function(){this._initial=new Float32Array(2),this._current=new Float32Array(2),this._last=new Float32Array(2),this._delta=new Float32Array(2),this.reset()};Ar.prototype={reset:function(){for(var t=this._current.length,e=0;e<t;e++)this._current[e]=this._last[e]=0},sync:function(){for(var t=this._current.length,e=0;e<t;e++)this._last[e]=this._current[e]},setInitial:function(){for(var t=this._current.length,e=0;e<t;e++)this._current[e]=this._initial[e]=this._last[e]=arguments[e]},getInitial:function(){return this._initial},setCurrent:function(){for(var t=this._current.length,e=0;e<t;e++)this._current[e]=arguments[e]},getCurrent:function(){return this._current},getLast:function(){return this._last},getDelta:function(){for(var t=this._current.length,e=0;e<t;e++)this._delta[e]=this._current[e]-this._last[e];return this._delta}};var dr=Ar,pr=function(t){this._adaptor=t,this._viewer=this._adaptor.getViewer(),this._camera=this._viewer.getMainCamera(),this._pickEvent=new dr,this._leftClick=!1,this._middleClick=!1,this._rightClick=!1,this._position=lr.new(),this._sceneGraph=null,this._drawActor=null};pr.MOUSE_LEFTPUSH=257,pr.MOUSE_RIGHTPUSH=258,pr.MOUSE_MIDDLEPUSH=259,pr.MOUSE_MOVE=260,pr.MOUSE_LEFTRELEASE=263,pr.MOUSE_RIGHTRELEASE=264,pr.MOUSE_MIDDLERELEASE=265,pr.MOUSE_LEFTDRAG=269,pr.MOUSE_MIDDLEDRAG=270,pr.MOUSE_RIGHTDRAG=271,pr.MOUSE_WHEELSCROLL=288,pr.MOUSE_OUTSIDE=304,pr.MOUSE_CONTEXTMENU=305,pr.TOUCH_START=513,pr.TOUCH_MOVE=514,pr.TOUCH_END=515,pr.KEYBORAD_PUSH=512,pr.KEYBORAD_RELEASE=513,pr.WEBGLCONTEXT_LOST=768,pr.WEBGLCONTEXT_RESTORED=769,Object.assign(pr.prototype,{getSceneGraph:function(){return this._sceneGraph},getDrawActor:function(){return this._drawActor},getViewer:function(){return this._viewer},sync:function(){},resize:function(){},update:function(){},invalid:function(){return!1},create:function(){},destroy:function(){},pickPush:function(t){return!1},pickDrag:function(t){return!1},pickRelease:function(t){return!1},rotatePush:function(t){return!1},rotateDrag:function(t){return!1},rotateRelease:function(t){return!1},panPush:function(t){return!1},panDrag:function(t){return!1},panRelease:function(t){return!1},zoomWheel:function(t){return!1},mouseMove:function(t){return!1},glcontextLost:function(t){return!1},glcontextRestored:function(t){return!1},getPositionRelativeToCanvas:function(t,e){var r=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,i=t.target;this.divGlobalOffset(i),r-=this._position[0],n=i.clientHeight-(n-this._position[1]);var a=window.devicePixelRatio||1;return this._position[0]=Math.floor(r*a),this._position[1]=Math.floor(n*a),e&&(this._position[0]=this._camera.getNormalizedX(this._position[0]),this._position[1]=this._camera.getNormalizedY(this._position[1])),this._position},divGlobalOffset:function(t){this._position[0]=t.offsetLeft,this._position[1]=t.offsetTop;for(var e=t.offsetParent;null!==e;)this._position[0]+=e.offsetLeft,this._position[1]+=e.offsetTop,e=e.offsetParent;return this._position},singleIntersect:function(t,e,r){var n=J.MemoryPool.alloc(),i=J.MemoryPool.alloc();if(this._camera.computeScreenToWorldNearFarPoint(t,e,n,i),this._adaptor.getOperation($e.SECTION_FUNCTION)){var a=[];this._viewer.getRenderer().getModuleActor($e.SECTION_MODULE).linesegmentIntersect(a,n,i,fr.SELECTION);var o=a.length;if(2===o){var s=a[0].getPoint();s&&this.linesegmentIntersectEntity(s,i,r)}else 1===o?this.linesegmentIntersectEntity(n,i,r):0===o&&this.linesegmentIntersectEntity(n,i,r)}else this.linesegmentIntersectEntity(n,i,r);return J.MemoryPool.free(n),J.MemoryPool.free(i),0!==r.length},linesegmentIntersectEntity:function(t,e,r){this._viewer.getComponentActor().linesegmentIntersect(r,t,e,fr.SELECTION)}}),pr.prototype[pr.MOUSE_LEFTPUSH]=function(t){return this._leftClick=!0,this.pickPush(t)},pr.prototype[pr.MOUSE_LEFTDRAG]=function(t){return this._leftClick=!1,this.pickDrag(t)},pr.prototype[pr.MOUSE_LEFTRELEASE]=function(t){return this.pickRelease(t)},pr.prototype[pr.MOUSE_MIDDLEPUSH]=function(t){return this._middleClick=!0,this.panPush(t)},pr.prototype[pr.MOUSE_MIDDLEDRAG]=function(t){return this._middleClick=!1,this.panDrag(t)},pr.prototype[pr.MOUSE_MIDDLERELEASE]=function(t){return this.panRelease(t)},pr.prototype[pr.MOUSE_RIGHTPUSH]=function(t){return this._rightClick=!0,this.rotatePush(t)},pr.prototype[pr.MOUSE_RIGHTDRAG]=function(t){return this._rightClick=!1,this.rotateDrag(t)},pr.prototype[pr.MOUSE_RIGHTRELEASE]=function(t){return this.rotateRelease(t)},pr.prototype[pr.MOUSE_MOVE]=function(t){return this.mouseMove(t)},pr.prototype[pr.MOUSE_WHEELSCROLL]=function(t){return this.zoomWheel(t)},pr.prototype[pr.MOUSE_OUTSIDE]=function(t){return this.invalid(t)},pr.prototype[pr.MOUSE_CONTEXTMENU]=function(t){return!1},pr.prototype[pr.KEYBORAD_PUSH]=function(t){return!1},pr.prototype[pr.KEYBORAD_RELEASE]=function(t){return!1},pr.prototype[pr.TOUCH_START]=function(t){return!1},pr.prototype[pr.TOUCH_MOVE]=function(t){return!1},pr.prototype[pr.TOUCH_END]=function(t){return!1},pr.prototype[pr.WEBGLCONTEXT_LOST]=function(t){return this.glcontextLost(t)},pr.prototype[pr.WEBGLCONTEXT_RESTORED]=function(t){return this.glcontextRestored(t)};var _r=pr,Cr=function(){};Cr.prototype={reset:function(){this._nearFarRatio=.005,this._enableNearFarCompute=!0},setCullingSetting:function(t){this._enableNearFarCompute=t._enableNearFarCompute,this._nearFarRatio=t._nearFarRatio},setNearFarRatio:function(t){this._nearFarRatio=t},getNearFarRatio:function(){return this._nearFarRatio},setEnableNearFarCompute:function(t){this._enableNearFarCompute=t},getEnableNearFarCompute:function(){return this._enableNearFarCompute}};var Ir=Cr,mr=function(){this._planes=[re.new(),re.new(),re.new(),re.new(),re.new(),re.new()],this._masks=[],this._mask=0,this._masks.push(this._mask)};mr.prototype={getPlanes:function(){return this._planes},setPlanes:function(t){this._planes=t,this.resetMask()},getCurrentMask:function(){return this._masks[this._masks.length-1]},setResultMask:function(t){this._mask=t},getResultMask:function(){return this._mask},pushCurrentMask:function(){this._masks.push(this._mask)},popCurrentMask:function(){return this._masks.pop()},empty:function(){return 0===this._planes.length},reset:function(){if(this._planes)for(var t=this._planes.length,e=0;e<t;e++)re.set(this._planes[e],0,0,0,1);this.resetMask()},resetMask:function(t){this._mask=0;for(var e=void 0!==t?t:this._planes.length,r=0;r<e;r++)this._mask=this._mask<<1|1;this._masks.length=0,this._masks.push(this._mask)},updateByMVPMatrix:function(t,e,r){var n=te.MemoryPool.alloc();te.mul(n,t,e);var i=!!r,a=this._planes[0];a[0]=n[3]+n[0],a[1]=n[7]+n[4],a[2]=n[11]+n[8],a[3]=n[15]+n[12];var o=this._planes[1];o[0]=n[3]-n[0],o[1]=n[7]-n[4],o[2]=n[11]-n[8],o[3]=n[15]-n[12];var s=this._planes[2];s[0]=n[3]+n[1],s[1]=n[7]+n[5],s[2]=n[11]+n[9],s[3]=n[15]+n[13];var h=this._planes[3];if(h[0]=n[3]-n[1],h[1]=n[7]-n[5],h[2]=n[11]-n[9],h[3]=n[15]-n[13],i){var u=this._planes[4];u[0]=n[3]+n[2],u[1]=n[7]+n[6],u[2]=n[11]+n[10],u[3]=n[15]+n[14];var c=this._planes[5];c[0]=n[3]-n[2],c[1]=n[7]-n[6],c[2]=n[11]-n[10],c[3]=n[15]-n[14]}for(var l=i?6:4,g=0;g<l;g++)re.normalize(this._planes[g],this._planes[g]);return te.MemoryPool.free(n),this._planes},createByUnitCube:function(){W.set(this._planes[0],1,0,0,1),W.set(this._planes[1],-1,0,0,1),W.set(this._planes[2],0,1,0,1),W.set(this._planes[3],0,-1,0,1),W.set(this._planes[4],0,0,1,1),W.set(this._planes[5],0,0,-1,1),this.resetMask()},createByBoundingBox:function(t){W.set(this._planes[0],1,0,0,-t.getMin()[0]),W.set(this._planes[1],-1,0,0,t.getMax()[0]),W.set(this._planes[2],0,1,0,-t.getMin()[1]),W.set(this._planes[3],0,-1,0,t.getMax()[1]),W.set(this._planes[4],0,0,1,-t.getMin()[2]),W.set(this._planes[5],0,0,-1,t.getMax()[2]),this.resetMask()},containsVertex:function(t){var e=this._masks[this._masks.length-1];if(!e)return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r&&re.distanceToVertex(this._planes[i],t)<0)return!1;r<<=1}return!0},containsVertices:function(t){var e=this._masks[this._masks.length-1];if(!e)return!0;for(var r=t.length,n=0;n<r;n++){for(var i=t[n],a=!1,o=1,s=this._planes.length,h=0;h<s;h++){if(e&o&&re.distanceToVertex(this._planes[h],i)<0){a=!0;break}o<<=1}if(!a)return!0}return!1},containsAllVertices:function(t){var e=this._masks[this._masks.length-1];if(!e)return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r){var a=re.relationToVertices(this._planes[i],t);if(F.OUTSIDE===a)return!1;if(F.INTERSECT===a)return!1}r<<=1}return!0},containsBoundingSphere:function(t){var e=this._masks[this._masks.length-1];if(!e||!t.valid())return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r){var a=re.relationToBoundingSphere(this._planes[i],t);if(F.OUTSIDE===a)return!1}r<<=1}return!0},containsAllBoudingSphere:function(t){var e=this._masks[this._masks.length-1];if(!e||!t.valid())return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r){var a=re.relationToBoundingSphere(this._planes[i],t);if(F.OUTSIDE===a)return!1;if(F.INTERSECT===a)return!1}r<<=1}return!0},containsBoundingBox:function(t){var e=this._masks[this._masks.length-1];if(!e||!t.valid())return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r){var a=re.relationToBoundingBox(this._planes[i],t);if(F.OUTSIDE===a)return!1}r<<=1}return!0},containsAllBoudingBox:function(t){var e=this._masks[this._masks.length-1];if(!e||!t.valid())return!0;for(var r=1,n=this._planes.length,i=0;i<n;i++){if(e&r){var a=re.relationToBoundingBox(this._planes[i],t);if(F.OUTSIDE===a)return!1;if(F.INTERSECT===a)return!1}r<<=1}return!0}};var vr=mr,yr=function t(){this._frustum=new vr,this._cullmask=t.VIEW_FRUSTUM_SIDES_CULLING};yr.NO_CULLING=0,yr.VIEW_FRUSTUM_LEFT_CULLING=1,yr.VIEW_FRUSTUM_RIGHT_CULLING=2,yr.VIEW_FRUSTUM_BOTTOM_CULLING=4,yr.VIEW_FRUSTUM_TOP_CULLING=8,yr.VIEW_FRUSTUM_NEAR_CULLING=16,yr.VIEW_FRUSTUM_FAR_CULLING=32,yr.ENABLE_ALL_CULLING=yr.VIEW_FRUSTUM_CULLING=(yr.VIEW_FRUSTUM_SIDES_CULLING=yr.VIEW_FRUSTUM_LEFT_CULLING|yr.VIEW_FRUSTUM_RIGHT_CULLING|yr.VIEW_FRUSTUM_BOTTOM_CULLING|yr.VIEW_FRUSTUM_TOP_CULLING)|yr.VIEW_FRUSTUM_NEAR_CULLING|yr.VIEW_FRUSTUM_FAR_CULLING,Object.assign(yr.prototype,{reset:function(){this._cullmask=yr.VIEW_FRUSTUM_SIDES_CULLING,this._frustum.reset()},setCullMask:function(t){this._cullmask=t},getCullMask:function(){return this._cullmask},resetCullMask:function(){this._frustum.setResultMask(this._frustum.getCurrentMask())},setFrustum:function(t){this._frustum=t},getFrustum:function(){return this._frustum},getCurrentMask:function(){return this._frustum.getCurrentMask()},pushCurrentMask:function(){this._frustum.pushCurrentMask()},popCurrentMask:function(){this._frustum.popCurrentMask()},isBoundingBoxCulled:function(t){return!(!(this._cullmask&yr.VIEW_FRUSTUM_CULLING)||this._frustum.containsBoundingBox(t))},isBoundingSphereCulled:function(t){return!(!(this._cullmask&yr.VIEW_FRUSTUM_CULLING)||this._frustum.containsBoundingSphere(t))},isVerticesCulled:function(t){return!(!(this._cullmask&yr.VIEW_FRUSTUM_CULLING)||this._frustum.containsVertices(t))}});var Er=yr,wr=function t(){Ir.call(this),this._viewport=void 0,this._clearColor=W.new(),W.copy(this._clearColor,Z.BackgroundColor),this._clearDepth=1,this._clearMask=t.COLOR_BUFFER_BIT|t.DEPT_BUFFER_BIT,this._clearFlag=!1,this._eye=J.create(0,-10,0),this._center=J.create(0,0,0),this._up=J.create(0,0,1),this._modelviewMatrix=te.new(),this._projectionMatrix=te.new(),this._boundingBoxFarCorner=0,this._boundingBoxNearCorner=0,this._cullFrustum=new Er};wr.COLOR_BUFFER_BIT=16384,wr.DEPT_BUFFER_BIT=256,wr.STENCIL_BUFFER_BIT=1024,(wr.prototype=Object.create(Ir.prototype)).constructor=wr,Object.assign(wr.prototype,{setClearFlag:function(t){this._clearFlag=t},getClearFlag:function(){return this._clearFlag},getViewport:function(){return this._viewport},setViewport:function(t){this._viewport=t},getClearColor:function(){return this._clearColor},setClearColor:function(t,e,r,n){W.set(this._clearColor,t,e,r,n)},revertClearColor:function(){W.copy(this._clearColor,Z.BackgroundColor)},setClearDepth:function(t){this._clearDepth=t},getClearDepth:function(){return this._clearDepth},setClearMask:function(t){this._clearMask=t},getClearMask:function(){return this._clearMask},getEye:function(){return this._eye},getCenter:function(){return this._center},getUp:function(){return this._up},setModelViewMatrix:function(t){te.copy(this._modelviewMatrix,t)},setModelViewLookAt:function(t,e,r){J.copy(this._eye,t),J.copy(this._center,e),J.copy(this._up,r),this.updateModelViewMatrix()},updateModelViewMatrix:function(){te.fromLookAt(this._modelviewMatrix,this._eye,this._center,this._up)},getModelViewMatrix:function(){return this._modelviewMatrix},setProjectionMatrix:function(t){te.copy(this._projectionMatrix,t)},setProjectionOrthogonal:function(t,e,r,n,i,a){te.fromOrthogonal(this._projectionMatrix,t,e,r,n,i,a)},setProjectionFrustum:function(t,e,r,n,i,a){te.fromFrustum(this._projectionMatrix,t,e,r,n,i,a)},setProjectionPerspective:function(t,e,r,n){te.fromPerspective(this._projectionMatrix,t,e,r,n)},updateProjectionMatrix:function(t,e,r){var n,i,a=this._projectionMatrix;if(e<t+1e-6){var o=.5*(t+e);t=o-1e-6,e=o+1e-6}if(Math.abs(a[3])<1e-6&&Math.abs(a[7])<1e-6&&Math.abs(a[11])<1e-6){var s=.02*(e-t);s<1&&(s=1),t=n=t-s,e=i=e+s,a[10]=-2/(i-n),a[14]=-(i+n)/(i-n)}else{var h=e*r;(n=.98*t)<h&&(n=h),t=n,e=i=1.02*e;var u=a[10],c=a[14],l=a[11],g=a[15],f=(-n*u+c)/(-n*l+g),A=(-i*u+c)/(-i*l+g),d=Math.abs(2/(f-A)),p=-(f+A)/2*d;a[2]=a[2]*d+a[3]*p,a[6]=a[6]*d+a[7]*p,a[10]=u*d+l*p,a[14]=c*d+g*p}},getProjectionMatrix:function(){return this._projectionMatrix},updateInverseMatrix:function(){var t=this._eye[0],e=this._eye[1],r=this._eye[2],n=this._up[0],i=this._up[1],a=this._up[2],o=this._center[0],s=this._center[1],h=this._center[2];if(Math.abs(t-o)<F.EPSILON&&Math.abs(e-s)<F.EPSILON&&Math.abs(r-h)<F.EPSILON)return te.identity(out);var u=t-o,c=e-s,l=r-h,g=1/Math.sqrt(u*u+c*c+l*l),f=i*(l*=g)-a*(c*=g),A=a*(u*=g)-n*l,d=n*c-i*u,p=c*(d*=g=1/Math.sqrt(f*f+A*A+d*d))-l*(A*=g),_=l*(f*=g)-u*d,C=u*A-c*f;p*=g=1/Math.sqrt(p*p+_*_+C*C),_*=g,C*=g,this._modelviewMatrix[0]=f,this._modelviewMatrix[1]=p,this._modelviewMatrix[2]=u,this._modelviewMatrix[3]=0,this._modelviewMatrix[4]=A,this._modelviewMatrix[5]=_,this._modelviewMatrix[6]=c,this._modelviewMatrix[7]=0,this._modelviewMatrix[8]=d,this._modelviewMatrix[9]=C,this._modelviewMatrix[10]=l,this._modelviewMatrix[11]=0,this._modelviewMatrix[12]=-(f*t+A*e+d*r),this._modelviewMatrix[13]=-(p*t+_*e+C*r),this._modelviewMatrix[14]=-(u*t+c*e+l*r),this._modelviewMatrix[15]=1},getProjectionFrustum:function(t){return te.getFrustum(t,this._projectionMatrix)},getProjectionPerspective:function(t){return te.getPerspective(t,this._projectionMatrix)},getProjectionOrthogonal:function(t){return te.getOrthogonal(t,this._projectionMatrix)},getNormalizedX:function(t){return 2*(t-this._viewport.getX())/this._viewport.getWidth()-1},getNormalizedY:function(t){return 2*(t-this._viewport.getY())/this._viewport.getHeight()-1},computeScreenToWorldNearFarPoint:function(t,e,r,n,i){i&&(t=this.getNormalizedX(t),e=this.getNormalizedY(e)),J.set(r,t,e,-1),J.set(n,t,e,1);var a=te.MemoryPool.alloc();te.mul(a,this.getProjectionMatrix(),this.getModelViewMatrix()),te.invert(a,a),J.transformMat4(r,r,a),J.transformMat4(n,n,a),te.MemoryPool.free(a)},computeScreenToWorldFrustumPlanes:function(t,e,r,n,i,a,o,s){s&&(t=this.getNormalizedX(t),e=this.getNormalizedY(e),r=this.getNormalizedX(r),n=this.getNormalizedY(n));var h=Math.min(t,r),u=Math.max(t,r),c=Math.min(e,n),l=Math.max(e,n);re.set(o[0],1,0,0,-h),re.set(o[1],-1,0,0,u),re.set(o[2],0,1,0,-c),re.set(o[3],0,-1,0,l);var g=4;i&&(re.set(o[g],0,0,1,1),g++),a&&(re.set(o[g],0,0,-1,-1),g++);var f=te.MemoryPool.alloc();return te.mul(f,this.getProjectionMatrix(),this.getModelViewMatrix()),re.transformMat4(o[0],f),re.transformMat4(o[1],f),re.transformMat4(o[2],f),re.transformMat4(o[3],f),re.transformMat4(o[4],f),te.MemoryPool.free(f),g},computeScreenToWorld:function(t,e){var r=te.MemoryPool.alloc();te.mul(r,this.getProjectionMatrix(),this.getModelViewMatrix()),te.invert(r,r),J.transformMat4(e,t,r),te.MemoryPool.free(r)},computeWorldToScreen:function(t,e){var r=te.MemoryPool.alloc();te.mul(r,this.getProjectionMatrix(),this.getModelViewMatrix()),J.transformMat4(e,t,r),te.MemoryPool.free(r)},updateBoundingBoxNearFarCorner:function(){var t=this._modelviewMatrix;this._boundingBoxFarCorner=(-t[2]>=0?1:0)|(-t[6]>=0?2:0)|(-t[10]>=0?4:0),this._boundingBoxNearCorner=7&~this._boundingBoxFarCorner},distancePointToEye:function(t){return-(t[0]*this._modelviewMatrix[2]+t[1]*this._modelviewMatrix[6]+t[2]*this._modelviewMatrix[10]+this._modelviewMatrix[14])},getCullFrustum:function(){return this._cullFrustum},isVerticesCulled:function(t){return this._cullFrustum.isVerticesCulled(t)},isBoundingBoxCulled:function(t){return t.valid()&&this._cullFrustum.isBoundingBoxCulled(t)},isBoundingSphereCulled:function(t){return t.valid()&&this.getCullFrustum().isBoundingSphereCulled(t)},updateCullFrustum:function(){this._cullFrustum.reset(),this._cullFrustum.getFrustum().updateByMVPMatrix(this._projectionMatrix,this._modelviewMatrix,!1),this._cullFrustum.getFrustum().resetMask(4)}});var Sr=wr,br=function t(e,r,n,i){Mt.call(this),this._func=t.LESS,this._near=0,this._far=1,this._write=!0,void 0!==e&&this.setFunc(e),void 0!==r&&(this._near=r),void 0!==n&&(this._far=n),void 0!==i&&(this._write=i)};br.DISABLE=0,br.NEVER=512,br.LESS=513,br.EQUAL=514,br.LEQUAL=515,br.GREATER=516,br.NOTEQUAL=517,br.GEQUAL=518,br.ALWAYS=519,(br.prototype=Object.create(Mt.prototype)).constructor=br,Object.assign(br.prototype,{typename:"Depth",setRange:function(t,e){this._near=t,this._far=e},setFunc:function(t){this._func="string"==typeof t?br[t]:t},apply:function(t){var e=t.getWebGLContext();this._func===br.DISABLE?e.disable(e.DEPTH_TEST):(e.enable(e.DEPTH_TEST),e.depthFunc(this._func),e.depthMask(this._write),e.depthRange(this._near,this._far))}});var Tr=br,Mr=function(t,e){bt.call(this),this._type=t,this._source=e};Mr.VERTEX_SHADER=35633,Mr.FRAGMENT_SHADER=35632,Mr._deletedGLShaderCache=new Map,Mr.addDeletedGLShader=function(t,e){this._deletedShaders.has(t)?this._deletedShaders.get(t).push(e):this._deletedShaders.set(t,[e])},Mr.flushDeletedGLShader=function(t){if(this._deletedShaders.has(t))for(var e=this._deletedShaders.get(t),r=e.length,n=0;n<r;n++)t.deleteShader(e.pop())},(Mr.prototype=Object.create(bt.prototype)).constructor=Mr,Object.assign(Mr.prototype,{setSource:function(t){this._source=t},getSource:function(){return this._source},apply:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];if(!n){if(n=e.createShader(this._type),e.shaderSource(n,this._source),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);return void console.log(i)}this._glcontexts[r]=n}return n},releaseGLObject:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteShader(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;ye.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteShader(n),t._glcontexts[r]=void 0)})}});var Pr=Mr,Rr=function(t,e){Mt.call(this),this._vertex=t,this._fragment=e,this._glUniformsCache=void 0,this._glAttributesCache=void 0};Rr._deletedGLProgramCache=new Map,Rr.addDeletedGLProgram=function(t,e){Rr._deletedGLProgramCache.has(t)?Rr._deletedGLProgramCache.get(t).push(e):Rr._deletedGLProgramCache.set(t,[program])},Rr.flushDeletedGLProgram=function(t){if(Rr._deletedGLProgramCache.has(t))for(var e=Rr._deletedGLProgramCache.get(t).length,r=0;r<e;r++)t.deleteProgram(deletedArray.pop())},(Rr.prototype=Object.create(Mt.prototype)).constructor=Rr,Object.assign(Rr.prototype,{typename:0,setVertexShader:function(t){this._vertex=t},getVertexShader:function(){return this._vertex},setFragmentShader:function(t){this._fragment=t},getFragmentShader:function(){return this._fragment},getGLUniformsCache:function(){return this._glUniformsCache},getGLAttributesCache:function(){return this._glAttributesCache},apply:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];if(!n){var i=this._vertex.apply(t),a=this._fragment.apply(t);if(n=e.createProgram(),e.attachShader(n,i),e.attachShader(n,a),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var o=e.getProgramInfoLog(n);return void console.log(o)}this._glUniformsCache=new zt,this._glAttributesCache=new zt,this.cacheGLUniforms(e,n,this._vertex.getSource()),this.cacheGLUniforms(e,n,this._fragment.getSource()),this.cacheGLAttributes(e,n,this._vertex.getSource()),this._glcontexts[r]=n}e.useProgram(n)},cacheGLUniforms:function(t,e,r){var n=r.match(/uniform\s+\w+\s+\w+((\s)?\[(.*?)\])?/g);if(null!==n)for(var i=0,a=n.length;i<a;i++){var o=n[i].match(/uniform\s+\w+\s+(\w+)/)[1],s=n[i].match(/uniform\s+\w+\s+(\w+)(\s?\[.*?\])?/)[1],h=t.getUniformLocation(e,o);null!=h&&void 0===this._glUniformsCache[s]&&(this._glUniformsCache[s]=h,this._glUniformsCache.dirty())}},cacheGLAttributes:function(t,e,r){var n=r.match(/attribute\s+\w+\s+\w+/g);if(null!==n)for(var i=0,a=n.length;i<a;i++){var o=n[i].match(/attribute\s+\w+\s+(\w+)/)[1],s=t.getAttribLocation(e,o);-1!==s&&void 0!==s&&void 0===this._glAttributesCache[o]&&(this._glAttributesCache[o]=s,this._glAttributesCache.dirty())}},releaseGLObject:function(t){this._vertex&&this._vertex.releaseGLObject(t),this._fragment&&this._fragment.releaseGLObject(t);var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteProgram(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;this._vertex&&this._vertex.releaseGLObjects(),this._fragment&&this._fragment.releaseGLObjects(),ye.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteProgram(n),t._glcontexts[r]=void 0)})}});var xr=Rr,Or={};function Nr(t,e){var r=new Pr(Pr.VERTEX_SHADER,t),n=new Pr(Pr.FRAGMENT_SHADER,e);return new xr(r,n)}Or.createSolidDefault=function(){return Nr("attribute vec4 Vertex;\nattribute vec4 Normal;\nuniform mat4 NormalMatrix;\nuniform mat4 ModelMatrix;\nuniform vec4 Ambient;\nuniform vec4 LightDirection;\nuniform float AmbientRatio;\nuniform float DiffuseRatio;\nvarying vec4 outColor;\nvoid main(){\n   vec4 N = normalize(NormalMatrix * Normal);\n   float LdotN = dot(N, LightDirection);\n   float DirectionLightRatio = abs(LdotN);\n   outColor = vec4(Ambient.rgb * (AmbientRatio + DirectionLightRatio * DiffuseRatio), Ambient.a);\n   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nvarying vec4 outColor;\nvoid main()\n{\n   gl_FragColor = outColor;\n}\n")},Or.createSolidTexture=function(){return Nr("attribute vec4 Vertex;\nattribute vec4 Normal;\nattribute vec2 Texture;\nuniform mat4 ModelMatrix;\nuniform mat4 NormalMatrix;\nuniform vec4 Ambient;\nuniform vec4 LightDirection;\nuniform float AmbientRatio;\nuniform float DiffuseRatio;\nvarying vec4 outColor;\nvarying vec2 passTexture;\nvoid main(){\n   vec4 N = normalize(NormalMatrix * Normal);\n   float LdotN = dot(N, LightDirection);\n   float DirectionLightRatio = abs(LdotN);\n   outColor = vec4(Ambient.rgb * (AmbientRatio + DirectionLightRatio * DiffuseRatio), Ambient.a);\n   passTexture = Texture;\n   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nuniform sampler2D Sampler;\nvarying vec4 outColor;\nvarying vec2 passTexture;\nvoid main()\n{\n   gl_FragColor = texture2D(Sampler, passTexture) * outColor;\n}\n")},Or.createCurveDefault=function(){},Or.createPlaneTexture=function(){return Nr("attribute vec4 Vertex;\nattribute vec2 Texture;\nvarying vec2 passTexture;\nvoid main(){\n   passTexture = Texture;\n   gl_Position = Vertex;\n}\n","precision mediump float;\nuniform sampler2D Sampler;\nvarying vec2 passTexture;\nvoid main()\n{\n   gl_FragColor = texture2D(Sampler, passTexture);\n}\n")},Or.createPlaneTextureFAXX=function(){var t=["precision highp float;","","uniform sampler2D Sampler;","","uniform vec2 resolution;","","varying vec2 passTexture;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 39","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    passTexture,","    vec4(0.0),","    Sampler,","    Sampler,","    Sampler,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(Sampler, passTexture).a;","}"].join("\n");return Nr("attribute vec4 Vertex;\nattribute vec2 Texture;\nvarying vec2 passTexture;\nvoid main(){\n   passTexture = Texture;\n   gl_Position = Vertex;\n}\n",t)},Or.createTestTexture=function(){return Nr("attribute vec4 Vertex;\nattribute vec2 Texture;\nuniform mat4 ModelMatrix;\nvarying vec2 passTexture;\nvoid main(){\n   passTexture = Texture;\n   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nuniform sampler2D Sampler;\nvarying vec2 passTexture;\nvoid main()\n{\n   gl_FragColor = texture2D(Sampler, passTexture);\n}\n")},Or.createNavigateAssist=function(){return Nr("attribute vec4 Vertex;\nattribute vec2 Texture;\nuniform mat4 ModelMatrix;\nvarying vec2 passTexture;\nvoid main(){\n   passTexture = Texture;\n   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nuniform sampler2D Sampler;\nvarying vec2 passTexture;\nvoid main()\n{\n   gl_FragColor = texture2D(Sampler, passTexture);\n   if(gl_FragColor.a < 0.1) discard;\n}\n")},Or.createColorDefault=function(){return Nr("attribute vec4 Vertex;\nuniform mat4 ModelMatrix;\nvoid main(){\n   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nuniform vec4 Ambient;\nvoid main()\n{\n   gl_FragColor = Ambient;\n}\n")},Or.createClipDefault=function(){return Nr("attribute vec4 Vertex;\nattribute vec4 Normal;\nuniform mat4 TransformMatrix;\nuniform mat4 NormalMatrix;\nuniform mat4 ModelMatrix;\nuniform vec4 Ambient;\nuniform vec4 LightDirection;\nuniform float AmbientRatio;\nuniform float DiffuseRatio;\nuniform vec4 frontClipPlane;\nuniform vec4 backClipPlane;\nuniform vec4 topClipPlane;\nuniform vec4 bottomClipPlane;\nuniform vec4 leftClipPlane;\nuniform vec4 rightClipPlane;\nuniform int useFrontClipPlane;\nuniform int useBackClipPlane;\nuniform int useTopClipPlane;\nuniform int useBottomClipPlane;\nuniform int useLeftClipPlane;\nuniform int useRightClipPlane;\nvarying vec4 outColor;\nvarying float clipDistance[6];\nvoid main(){\n   vec4 N = normalize(NormalMatrix * Normal);\n   float LdotN = dot(N, LightDirection);\n   float DirectionLightRatio = abs(LdotN);\n   outColor = vec4(Ambient.rgb * (AmbientRatio + DirectionLightRatio * DiffuseRatio), Ambient.a);\n\tvec4 pos = TransformMatrix * Vertex;\n\tclipDistance[0] = dot(pos, frontClipPlane) * float(useFrontClipPlane);\tclipDistance[1] = dot(pos, backClipPlane) * float(useBackClipPlane);\tclipDistance[2] = dot(pos, topClipPlane) * float(useTopClipPlane);\tclipDistance[3] = dot(pos, bottomClipPlane) * float(useBottomClipPlane);\tclipDistance[4] = dot(pos, leftClipPlane) * float(useLeftClipPlane);\tclipDistance[5] = dot(pos, rightClipPlane) * float(useRightClipPlane);   gl_Position = ModelMatrix * Vertex;\n}\n","precision mediump float;\nvarying vec4 outColor;\nvarying float clipDistance[6];\nvoid main()\n{\n\tif( clipDistance[0] < 0.0) \n\t\tdiscard; \n\tif( clipDistance[1] < 0.0) \n\t\tdiscard; \n\tif( clipDistance[2] < 0.0) \n\t\tdiscard; \n\tif( clipDistance[3] < 0.0) \n\t\tdiscard; \n\tif( clipDistance[4] < 0.0) \n\t\tdiscard; \n\tif( clipDistance[5] < 0.0) \n\t\tdiscard; \n   gl_FragColor = outColor;\n}\n")};var Lr=Or,Dr=function(){be.call(this)};(Dr.prototype=Object.create(be.prototype)).constructor=Dr,Object.assign(Dr.prototype,{init:function(){},reset:function(){},data:function(){return{}}}),Dr.UNKNOWN=0,Dr.CURVE2D_LINE=20,Dr.CURVE2D_ARC=21,Dr.CURVE2D_RECT=22,Dr.CURVE2D_CIRCLE=23,Dr.PROFILE_CIRCLE=60,Dr.PROFILE_ELLIPSE=61,Dr.PROFILE_RECTANGLE=62,Dr.CURVE_LINE=100,Dr.CURVE_ARC=101,Dr.CURVE_POLYLOOP=102,Dr.CURVE_CYLINDRICALHELIX=103,Dr.CURVE_ELLIPSE=104,Dr.CURVE_HERMITESPLINE=105,Dr.CURVE_NURBSPLINE=106,Dr.FACE_PLANAR=150,Dr.FACE_CYLINDRICAL=151,Dr.FACE_CONICAL=152,Dr.FACE_REVOLVED=153,Dr.FACE_HERMITE=154,Dr.FACE_RULED=155,Dr.SOLID_EXTRUDEDAREA=200,Dr.SOLID_SCANNINGAREA=201,Dr.SOLID_REVLOVEDAREA=202,Dr.SOLID_CUBE=250,Dr.SOLID_CONE=251,Dr.SOLID_CYLINDER=252,Dr.SOLID_PYRAMID=253,Dr.SOLID_SHPERE=254;var Fr=Dr,Br=function(){Fr.call(this)};(Br.prototype=Object.create(Fr.prototype)).constructor=Br,Object.assign(Br.prototype,{});var Ur=Br,Gr=function(t,e){Ur.call(this),this._start=lr.new(),this._end=lr.new(),t&&lr.copy(this._start,t),e&&lr.copy(this._end,e),this.init()};(Gr.prototype=Object.create(Ur.prototype)).constructor=Gr,Object.assign(Gr.prototype,{setValue:function(t,e){lr.copy(this._start,t),lr.copy(this._end,e),this.reset(this._geometry)},setStart:function(t){lr.copy(this._start,t),this.reset(this._geometry)},setEnd:function(t){lr.copy(this._end,t),this.reset(this._geometry)},getStart:function(){return this._start},getEnd:function(){return this._end},init:function(){this.setPrimitive(new Oe(Me.LINE_LOOP,0,4));var t=new we(we.ARRAY_BUFFER,new Float32Array(8),2);this.setBufferArray("Vertex",t),this.reset()},reset:function(){var t=this.getBufferArray("Vertex"),e=t.getArrayBuffer();e[0]=this._start[0],e[1]=this._start[1],e[2]=this._end[0],e[3]=this._start[1],e[4]=this._end[0],e[5]=this._end[1],e[6]=this._start[0],e[7]=this._end[1],t.change()}});var kr=Gr,Vr=function(t){this._viewer=t,this._sceneGraph=void 0,this._drawActor=void 0,this._rect=void 0};Object.assign(Vr.prototype,{create:function(){this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.MULTIPICK_MODULE);var t=this._sceneGraph.getSceneRoot();t.setName("MultipickRect");var e=new Zt;e.addAttribute(Lr.createColorDefault.call(this)),e.addAttribute(new Qt([1,0,0,1])),e.addAttribute(new Tr(Tr.LESS,.1,.2)),t.setStateSet(e),this._rect=new kr,t.addChild(this._rect),this._drawActor=this._viewer.getRenderer().createModuleActor($e.MULTIPICK_MODULE);var r=new Sr;r.setViewport(this._viewer.getMainCamera().getViewport());var n=te.MemoryPool.alloc();te.identity(n),r.setModelViewMatrix(n),te.MemoryPool.free(n),r.setProjectionOrthogonal(-1,1,-1,1,-1,1),r.setClearMask(0),this._drawActor.setBaseCamera(r),this._drawActor.setSceneRoot(t),this._viewer.requestRedraw()},destroy:function(){this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.MULTIPICK_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.MULTIPICK_MODULE),this._rect=void 0,this._viewer.requestRedraw()},start:function(t){this._drawActor.valid(!0),this._rect.setValue(t,t)},current:function(t){this._rect.setEnd(t)},end:function(){this._drawActor.valid(!1)}});var Hr=Vr,Yr=function t(e){_r.call(this,e),this._operateMode=t.OPERATE_NONE,this._panEvent=new dr,this._rotateEvent=new dr,this._zoomEvent=new dr,this._continuousPick=!1,this._removePick=!1,this._multipickRect=new Hr(this._viewer)};Yr.OPERATE_NONE=1,Yr.OPERATE_ROTATE=2,Yr.OPERATE_PAN=4,Yr.OPERATE_PICK=8,Yr.OPERATE_ZOOM=16,Yr.UNKNOWN=0,Yr.ORBIT=1,Yr.PERSON=2,Yr.PLANE=3,(Yr.prototype=Object.create(_r.prototype)).constructor=Yr,Object.assign(Yr.prototype,{type:function(){return Yr.UNKNOWN},create:function(t){this._multipickRect.create(),t&&this.home(),this._viewer.requestRedraw()},destroy:function(){this._multipickRect.destroy(),this._viewer.requestRedraw()},isContinuousPicked:function(t){return void 0!==t&&(this._continuousPick=t),this._continuousPick},isRemovePicked:function(t){return void 0!==t&&(this._removePick=t),this._removePick},home:function(){},escape:function(){var t=this._viewer.getComponentGraph().unhighlightEntities();(t=this._viewer.getComponentGraph().untransparentComponents()||t)&&this._viewer.requestRedraw()},rotate:function(){},move:function(){},zoom:function(){},locate:function(){},pickPush:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._pickEvent.setInitial(e[0],e[1]),t.altKey?this._removePick=!0:t.ctrlKey&&(this._continuousPick=!0),this._continuousPick||this._removePick||this._viewer.getComponentGraph().unhighlightEntities()&&this._viewer.requestRedraw(),this.singlePick(e[0],e[1])&&this._viewer.requestRedraw(),t.preventDefault(),!0},pickDrag:function(t){if(this._adaptor.getConfig().isMultiplePicked()){this._operateMode&Yr.OPERATE_PICK||this._multipickRect.start(this._pickEvent.getInitial()),this._operateMode|=Yr.OPERATE_PICK;var e=this.getPositionRelativeToCanvas(t,!0);this._pickEvent.setCurrent(e[0],e[1])}return t.preventDefault(),!0},pickRelease:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._operateMode&Yr.OPERATE_PICK&&(this._operateMode&=~Yr.OPERATE_PICK,this._pickEvent.setCurrent(e[0],e[1]),this._continuousPick?t.ctrlKey&&this.multiplePick():this._removePick?t.altKey&&this.multiplePick():this.multiplePick(),this._multipickRect.end()),this._removePick=!1,this._continuousPick=!1,t.preventDefault(),!0},singlePick:function(t,e,r){var n=!1,i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc();if(this._camera.computeScreenToWorldNearFarPoint(t,e,i,a),this._adaptor.getOperation($e.SECTION_FUNCTION)){var o=[];this._viewer.getRenderer().getModuleActor($e.SECTION_MODULE).linesegmentIntersect(o,i,a,fr.SELECTION);var s=o.length;if(2===s){var h=o[0].getPoint();h&&(n=this.linesegmentHighlightEntity(h,a,r))}else 1===s&&(n=this.linesegmentHighlightEntity(i,a,r))}else n=this.linesegmentHighlightEntity(i,a,r);return J.MemoryPool.free(i),J.MemoryPool.free(a),n},multiplePick:function(){var t=this._pickEvent.getInitial(),e=this._pickEvent.getCurrent(),r=[re.new(),re.new(),re.new(),re.new(),re.new()];this._camera.computeScreenToWorldFrustumPlanes(t[0],t[1],e[0],e[1],!0,!1,r);var n=this._adaptor.getOperation($e.SECTION_FUNCTION);n?(n.getPlanes(r),this.polytopeHighlightEntity(r)):this.polytopeHighlightEntity(r),this._viewer.requestRedraw(),this._pickEvent.sync()},drawMultiplePick:function(){var t=this._pickEvent.getDelta();Math.abs(t[0])<F.EPSILON&&Math.abs(t[1])<F.EPSILON||(this._multipickRect.current(this._pickEvent.getCurrent()),this._viewer.requestRedraw(),this._pickEvent.sync())},linesegmentHighlightEntity:function(t,e,r){var n=!1,i=this._viewer.getComponentGraph();if(i.isSinglePicked()){var a=[];if(this._viewer.getComponentActor().linesegmentIntersect(a,t,e,fr.SELECTION),0!==a.length){var o=a[0];r&&J.copy(r,o.getPoint());var s=o.getDrawable().getRenderEntity();this._continuousPick?i.highlightEntityBySelect(s,!0):this._removePick?i.unhighlightEntityBySelect(s,!1):i.highlightEntityBySelect(s,!1),n=!0}}return n},polytopeHighlightEntity:function(t){var e=!1,r=this._viewer.getComponentGraph();if(r.isSinglePicked()){var n=[];this._viewer.getComponentActor().polytopeIntersect(n,t,fr.SELECTION,fr.FAST_OUTCOME);var i=n.length;if(0!==i){for(var a=0;a<i;a++){var o=n[a].getDrawable().getRenderEntity();this._continuousPick?r.highlightEntityBySelect(o,!0):this._removePick?r.unhighlightEntityBySelect(o,!0):r.highlightEntityBySelect(o,!1)}e=!0}}return this._removePick&&r.unhighlightSync(),e}}),Yr.prototype[_r.MOUSE_LEFTPUSH]=function(t){switch(this._adaptor.getConfig().getLeftMouseOperation()){case N.ROTATE:return this.rotatePush(t);case N.PAN:return this.panPush(t);default:return this.pickPush(t)}},Yr.prototype[_r.MOUSE_LEFTDRAG]=function(t){switch(this._adaptor.getConfig().getLeftMouseOperation()){case N.ROTATE:return this.rotateDrag(t);case N.PAN:return this.panDrag(t);default:return this.pickDrag(t)}},Yr.prototype[_r.MOUSE_LEFTRELEASE]=function(t){switch(this._adaptor.getConfig().getLeftMouseOperation()){case N.ROTATE:return this.rotateRelease(t);case N.PAN:return this.panRelease(t);default:return this.pickRelease(t)}},Yr.prototype[_r.KEYBORAD_PUSH]=function(t){return" "===t.key?(this.home(),!0):"Escape"===t.key&&(this.escape(),!0)};var jr=Yr,Xr={};Xr.new=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},Xr.MemoryPool=new U(Xr.new),Xr.alloc=Xr.MemoryPool.alloc,Xr.free=Xr.MemoryPool.free,Xr.new_d=function(){var t=new Float64Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},Xr.MemoryPool_d=new U(Xr.new_d),Xr.alloc_d=Xr.MemoryPool_d.alloc,Xr.free_d=Xr.MemoryPool_d.free,Xr.clone=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Xr.clone_d=function(t){var e=new Float64Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},Xr.create=function(t,e,r,n){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},Xr.create_d=function(t,e,r,n){var i=new Float64Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},Xr.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},Xr.set=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},Xr.makeRotate=function(t,e,r,n,i){var a=Math.cos(.5*e),o=Math.sin(.5*e);return t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a,t},Xr.makeRotateVec3=function(t,e,r){var n=Math.cos(.5*e),i=Math.sin(.5*e);return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=n,t},Xr.multiply=Xr.mul=function(t,e,r){return t[0]=e[0]*r[3]+e[1]*r[2]-e[2]*r[1]+e[3]*r[0],t[1]=-e[0]*r[2]+e[1]*r[3]+e[2]*r[0]+e[3]*r[1],t[2]=e[0]*r[1]-e[1]*r[0]+e[2]*r[3]+e[3]*r[2],t[3]=-e[0]*r[0]-e[1]*r[1]-e[2]*r[2]+e[3]*r[3],t},Xr.transformVec3=function(t,e,r){var n=r[0],i=r[1],a=r[2],o=e[0],s=e[1],h=e[2],u=e[3],c=u*n+s*a-h*i,l=u*i+h*n-o*a,g=u*a+o*i-s*n,f=-o*n-s*i-h*a;return t[0]=c*u+f*-o+l*-h-g*-s,t[1]=l*u+f*-s+g*-o-c*-h,t[2]=g*u+f*-h+c*-s-l*-o,t},Xr.conjugate=Xr.conj=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},Xr.squaredLength=Xr.sqrLen=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]},Xr.length=Xr.len=function(){return Math.sqrt(q[0]*q[0]+q[1]*q[1]+q[2]*q[2]+q[3]*q[3])},Xr.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},Xr.inverse=function(t,e){var r=1/Xr.sqrtLen(e);return Xr.conjugate(t,e),Xr.scale(t,t,r),t};var Qr=Xr,Wr=function(t){jr.call(this,t),this._panPoint=J.new(),this._rotatePoint=J.new(),this._zoomPoint=J.new()};(Wr.prototype=Object.create(jr.prototype)).constructor=Wr,Object.assign(Wr.prototype,{type:function(){return jr.ORBIT},sync:function(){this._operateMode&jr.OPERATE_ROTATE&&this.rotate(),this._operateMode&jr.OPERATE_PAN&&this.pan(),this._operateMode&jr.OPERATE_PICK&&this.drawMultiplePick()},rotate:function(){var t=this._rotateEvent.getDelta();if(Math.abs(t[0])<F.EPSILON&&Math.abs(t[1])<F.EPSILON)return!1;var e=this._camera.getEye(),r=this._camera.getCenter(),n=this._camera.getUp(),i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc(),o=J.MemoryPool.alloc();J.sub(a,r,e),J.normalize(a,a),J.cross(i,a,n),J.normalize(i,i),J.cross(o,i,a),J.normalize(o,o);var s=t[0],h=t[1],u=this._rotatePoint,c=te.MemoryPool.alloc();te.fromTranslation(c,u);var l=te.MemoryPool.alloc();te.invert(l,c);var g=Qr.MemoryPool.alloc();Qr.makeRotate(g,-s,0,0,1);var f=J.MemoryPool.alloc();Qr.transformVec3(f,g,i),J.normalize(f,f);var A=Qr.MemoryPool.alloc();Qr.makeRotate(A,h,f[0],f[1],f[2]);var d=Qr.MemoryPool.alloc();Qr.multiply(d,A,g);var p=te.MemoryPool.alloc();te.fromQuat(p,d),Qr.MemoryPool.free(g),Qr.MemoryPool.free(A),Qr.MemoryPool.free(d);var _=te.MemoryPool.alloc();return te.multiply(_,c,p),te.multiply(_,_,l),J.transformMat4(e,e,_),J.transformMat4(r,r,_),J.transformMat4(n,n,p),J.normalize(n,n),te.MemoryPool.free(c),te.MemoryPool.free(l),te.MemoryPool.free(p),te.MemoryPool.free(_),J.MemoryPool.free(f),J.MemoryPool.free(i),J.MemoryPool.free(a),J.MemoryPool.free(o),this._camera.updateModelViewMatrix(),this._viewer.requestRedraw(),this._rotateEvent.sync(),!0},pan:function(){var t=this._panEvent.getDelta();if(Math.abs(t[0])<F.EPSILON&&Math.abs(t[1])<F.EPSILON)return!1;var e=this._camera.getEye(),r=this._camera.getCenter(),n=this._camera.getUp(),i=J.MemoryPool.alloc();J.sub(i,e,this._panPoint);var a=.3*J.length(i),o=-t[0]*a,s=-t[1]*a,h=this._camera.getProjectionMatrix(),u=1===h[15]?1:2/h[5];o*=u,s*=u;var c=J.MemoryPool.alloc(),l=J.MemoryPool.alloc(),g=J.MemoryPool.alloc();J.sub(l,r,e),J.normalize(l,l),J.cross(c,l,n),J.normalize(c,c),J.cross(g,c,l),J.normalize(g,g);var f=J.MemoryPool.alloc(),A=te.MemoryPool.alloc();return te.set(A,c[0],c[1],c[2],0,l[0],l[1],l[2],0,g[0],g[1],g[2],0,0,0,0,1),J.set(f,o,0,s),J.transformMat4(f,f,A),J.add(e,e,f),J.add(r,r,f),te.MemoryPool.free(A),J.MemoryPool.free(c),J.MemoryPool.free(l),J.MemoryPool.free(g),J.MemoryPool.free(f),this._camera.updateModelViewMatrix(),this._viewer.requestRedraw(),this._panEvent.sync(),!0},invalid:function(t){return this.rotateRelease(t),this.panRelease(t),this.pickRelease(t),!0},home:function(){var t=this._camera.getEye(),e=this._camera.getCenter(),r=this._camera.getUp(),n=this._viewer.getComponentGraph().getBoundingSphereWithClip();if(n&&n.valid()){var i=this.computeHomeDistance(n);J.copy(e,n.getCenter()),J.copy(t,this._adaptor.getConfig().getHomeEyePosition()),J.scale(t,t,i),J.add(t,e,t),J.copy(r,this._adaptor.getConfig().getHomeUpDirection())}else J.copy(t,this._adaptor.getConfig().getHomeEyePosition()),J.scale(t,t,1e3),J.set(e,0,0,0),J.copy(r,this._adaptor.getConfig().getHomeUpDirection());this._camera.updateModelViewMatrix(),this._viewer.requestRedraw()},locate:function(t,e){e||(e=this._viewer.getComponentGraph().hasHighlightEntities()?this._viewer.getComponentGraph().getHighlightSphere():this._viewer.getComponentGraph().getBoundingSphereWithClip());var r=0;r=e&&e.valid()?this.computeHomeDistance(e):1e3;var n=this._camera.getEye(),i=this._camera.getCenter(),a=this._camera.getUp();switch(t){case $e.CUBE_FRONT:J.set(n,0,1,0),J.scale(n,n,r),J.set(a,0,0,1);break;case $e.CUBE_BACK:J.set(n,0,-1,0),J.scale(n,n,r),J.set(a,0,0,1);break;case $e.CUBE_TOP:J.set(n,0,0,-1),J.scale(n,n,r),J.set(a,0,1,0);break;case $e.CUBE_BOTTOM:J.set(n,0,0,1),J.scale(n,n,r),J.set(a,0,-1,0);break;case $e.CUBE_LEFT:J.set(n,1,0,0),J.scale(n,n,r),J.set(a,0,0,1);break;case $e.CUBE_RIGHT:J.set(n,-1,0,0),J.scale(n,n,r),J.set(a,0,0,1);break;default:J.sub(n,i,n),J.normalize(n,n),J.scale(n,n,r)}J.sub(n,e.getCenter(),n),J.copy(i,e.getCenter()),this._camera.updateModelViewMatrix(),this._viewer.requestRedraw()},zoom:function(t,e){e?this.computeReferPoint(this._zoomPoint,this._zoomEvent):this.computeReferPoint(this._zoomPoint);var r=0;r=t?.1:-.1;var n=this._camera.getEye(),i=this._camera.getCenter(),a=J.MemoryPool.alloc();J.sub(a,this._zoomPoint,n);var o=J.length(a);if(!(o<10)){o*=r,J.normalize(a,a);var s=J.MemoryPool.alloc();J.scale(s,a,o),J.add(n,n,s),J.add(i,i,s),J.MemoryPool.free(a),J.MemoryPool.free(s),this._camera.updateModelViewMatrix(),this._viewer.requestRedraw()}},rotatePush:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._rotateEvent.setInitial(e[0],e[1]),this.computeReferPoint(this._rotatePoint,this._rotateEvent,!0),t.preventDefault(),!0},rotateDrag:function(t){this._operateMode|=jr.OPERATE_ROTATE;var e=this.getPositionRelativeToCanvas(t,!0);return this._rotateEvent.setCurrent(e[0],e[1]),t.preventDefault(),!0},rotateRelease:function(t){return this._operateMode&jr.OPERATE_ROTATE&&(this._operateMode&=~jr.OPERATE_ROTATE),t.preventDefault(),!0},panPush:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._panEvent.setInitial(e[0],e[1]),this.computeReferPoint(this._panPoint,this._panEvent,!0),t.preventDefault(),!0},panDrag:function(t){this._operateMode|=jr.OPERATE_PAN;var e=this.getPositionRelativeToCanvas(t,!0);return this._panEvent.setCurrent(e[0],e[1]),t.preventDefault(),!0},panRelease:function(t){return this._operateMode&jr.OPERATE_PAN&&(this._operateMode&=~jr.OPERATE_PAN),t.preventDefault(),!0},zoomWheel:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._zoomEvent.setInitial(e[0],e[1]),t.deltaY>0?this.zoom(!1,!0):this.zoom(!0,!0),t.preventDefault(),!0},computeHomeDistance:function(t){var e=1.5*t.getRadius(),r={};if(this._camera.getProjectionFrustum(r)){var n=Math.abs(r.right-r.left)/r.near/2,i=Math.abs(r.top-r.bottom)/r.near/2,a=i<n?i:n;e=t.getRadius()/Math.sin(Math.atan2(a,1))}else this._camera.getProjectionOrthogonal(r)&&(e=Math.abs(r.far-r.near)/2);return e},computeReferPoint:function(t,e,r){if(0===this._viewer.getComponentGraph().getHighlightEntities().length)if(e){var n=e.getInitial(),i=[];if(this.singleIntersect(n[0],n[1],i))J.copy(t,i[0].getPoint());else if(r)this._viewer.getComponentGraph().getBoundingBoxWithClip().getCenter(t);else{var a=J.MemoryPool.alloc();this._camera.computeScreenToWorldNearFarPoint(n[0],n[1],a,t),J.MemoryPool.free(a)}}else this._viewer.getComponentGraph().getBoundingBoxWithClip().getCenter(t);else this._viewer.getComponentGraph().getHighlightBox().getCenter(t)}});var zr=Wr,qr=function t(){Mt.call(this),this._image=void 0,this._target=void 0,this._internalFormat=void 0,this._width=0,this._height=0,this._type=t.UNSIGNED_BYTE,this._isCompressed=!1,this._flipY=!0,this._magFilter=t.LINEAR,this._minFilter=t.NEAREST_MIPMAP_LINEAR,this._wrapS=t.REPEAT,this._wrapT=t.REPEAT,this._dirty=!0};qr.TEXTURE_2D=3553,qr.TEXTURE_CUBE_MAP=34067,qr.TEXTURE_BINDING_CUBE_MAP=34068,qr.TEXTURE_CUBE_MAP_POSITIVE_X=34069,qr.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,qr.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,qr.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,qr.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,qr.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,qr.MAX_CUBE_MAP_TEXTURE_SIZE=34076,qr.ALPHA=6406,qr.RGB=6407,qr.RGBA=6408,qr.LUMINANCE=6409,qr.LUMINANCE_ALPHA=6410,qr.UNSIGNED_BYTE=5121,qr.UNSIGNED_SHORT=5123,qr.UNSIGNED_SHORT_4_4_4_4=32819,qr.UNSIGNED_SHORT_5_5_5_1=32820,qr.UNSIGNED_SHORT_5_6_5=33635,qr.FLOAT=5126,qr.HALF_FLOAT_OES=qr.HALF_FLOAT=36193,qr.LINEAR=9729,qr.NEAREST=9728,qr.NEAREST_MIPMAP_NEAREST=9984,qr.LINEAR_MIPMAP_NEAREST=9985,qr.NEAREST_MIPMAP_LINEAR=9986,qr.LINEAR_MIPMAP_LINEAR=9987,qr.CLAMP_TO_EDGE=33071,qr.REPEAT=10497,qr.MIRRORED_REPEAT=33648,qr.TEXTURE_MAX_ANISOTROPY_EXT=34046,qr.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,qr.UNPACK_FLIP_Y_WEBGL=37440,qr.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,qr.BROWSER_DEFAULT_WEBGL=37444,qr.NONE=0,qr.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,qr.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,qr.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,qr.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,qr.COMPRESSED_RGB_ATC_WEBGL=35986,qr.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,qr.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,qr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,qr.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,qr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,qr.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,qr.COMPRESSED_RGB_ETC1_WEBGL=36196,(qr.prototype=Object.create(Mt.prototype)).constructor=qr,Object.assign(qr.prototype,{typename:"Texture",resize:function(t,e){t===this._width&&e===this._height||(this._dirty=!0,this._width=t,this._height=e)},setImage:function(t){this._image=t},getHeight:function(){return this._height},getWidth:function(){return this._width},setInternalFormat:function(t){t?("string"==typeof t&&(t=qr[t]),this._isCompressed=this.compressedCheck(t)):(this._isCompressed=!1,t=qr.RGBA),this._internalFormat=t},getInternalFormat:function(){return this._internalFormat},compressedCheck:function(t){switch(t||this._internalFormat){case qr.COMPRESSED_RGB_S3TC_DXT1_EXT:case qr.COMPRESSED_RGBA_S3TC_DXT1_EXT:case qr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case qr.COMPRESSED_RGBA_S3TC_DXT5_EXT:case qr.COMPRESSED_RGB_ATC_WEBGL:case qr.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:case qr.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:case qr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG:case qr.COMPRESSED_RGB_PVRTC_2BPPV1_IMG:case qr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:case qr.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:case qr.COMPRESSED_RGB_ETC1_WEBGL:return!0;default:return!1}},apply:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];return!n?(n=e.createTexture(),this._glcontexts[r]=n,e.bindTexture(this._target,n),this.applyTexImage2D(e),this.applyParameter(e),this._dirty=!1):(e.bindTexture(this._target,n),this._dirty&&(this.applyTexImage2D(e),this.applyParameter(e),this._dirty=!1)),n},applyTexImage2D:function(t){t.pixelStorei(qr.UNPACK_FLIP_Y_WEBGL,this._flipY),this._isCompressed?t.compressedTexImage2D(this._target,0,this._internalFormat,this._width,this._height,0,this._internalFormat,this._type,null):this._image?t.texImage2D(this._target,0,this._internalFormat,this._internalFormat,this._type,this._image):t.texImage2D(this._target,0,this._internalFormat,this._width,this._height,0,this._internalFormat,this._type,null)},applyParameter:function(t){t.texParameteri(this._target,t.TEXTURE_MAG_FILTER,this._magFilter),t.texParameteri(this._target,t.TEXTURE_MIN_FILTER,this._minFilter),t.texParameteri(this._target,t.TEXTURE_WRAP_S,this._wrapS),t.texParameteri(this._target,t.TEXTURE_WRAP_T,this._wrapT)},releaseGLObject:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteTexture(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;ye.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteTexture(n),t._glcontexts[r]=void 0)})}});var Jr=qr,Kr=function(){Mt.call(this),this._direction=jt.createFloat4("LightDirection"),this._direction.setData3(W.create(0,0,1,0)),this._ambientRatio=jt.createFloat("AmbientRatio"),this._ambientRatio.setData(.5),this._diffuseRatio=jt.createFloat("DiffuseRatio"),this._diffuseRatio.setData(.7)};(Kr.prototype=Object.create(Mt.prototype)).constructor=Kr,Object.assign(Kr.prototype,{typename:"Light",apply:function(t){this._direction.apply(t),this._ambientRatio.apply(t),this._diffuseRatio.apply(t)}});var Zr=Kr,$r=function(){Mt.call(this),this._sampler=jt.createInt("Sampler"),this._sampler.setData(0),this._resolution=jt.createFloat2("resolution"),this._resolution.setData2([1/1024,1/512])};($r.prototype=Object.create(Mt.prototype)).constructor=$r,Object.assign($r.prototype,{typename:"Texture2D",resize:function(t,e){this._resolution.setData2([1/t,1/e])},apply:function(t){var e=t.getWebGLContext();e.activeTexture(e.TEXTURE0),this._sampler.apply(t),this._resolution.apply(t)}});var tn=$r,en=function(t){this._viewer=t,this._height=Z.CHARACTER_HEIGHT,this._width=Z.CHARACTER_WIDTH,this._sceneGraph=void 0,this._drawActor=void 0};en.prototype={create:function(){this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.CHARACTER_MODULE);var t=this._sceneGraph.getSceneRoot();t.setName("CharacterModel");var e=new Zt;e.addAttribute(Lr.createSolidTexture.call(this)),e.addAttribute(new Zr),e.addAttribute(new Tr(Tr.LESS,.2,.9)),e.addAttribute(new Le),e.addAttribute(new tn),t.setStateSet(e),this._drawActor=this._viewer.getRenderer().createModuleActor($e.CHARACTER_MODULE),this._drawActor.setSceneRoot(t),this._viewer.getFactory().getResource().getCharacter().load(this.loadCallback.bind(this))},destroy:function(){this._height=Z.CHARACTER_HEIGHT,this._width=Z.CHARACTER_WIDTH,this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.CHARACTER_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.CHARACTER_MODULE),this._viewer.getFactory().getResource().getCharacter().unload(),this._viewer.requestRedraw()},loadCallback:function(t){var e=this._sceneGraph.getSceneRoot(),r=new Jr;r._target=Jr.TEXTURE_2D,r.setInternalFormat(Jr.RGBA),r._magFilter=Jr.LINEAR,r._minFilter=Jr.LINEAR,r._wrapS=Jr.CLAMP_TO_EDGE,r._wrapT=Jr.CLAMP_TO_EDGE,r.setImage(t[0]),e.getStateSet().addAttribute(r,Mt.OVERRIDE),e.getStateSet().addAttribute(new Qt([1,1,1,1]));var n=t[1],i=new be,a=new we(we.ARRAY_BUFFER,new Float32Array(n._vertexes),3);i.setBufferArray("Vertex",a);var o=new we(we.ARRAY_BUFFER,new Float32Array(n._normals),3);i.setBufferArray("Normal",o);var s=new we(we.ARRAY_BUFFER,new Float32Array(n._texutures),2);i.setBufferArray("Texture",s),i.setPrimitive(new Oe(Me.TRIANGLES,0,n._vertexes.length/3));var h=i.getBoundingBox(!0),u=J.MemoryPool.alloc();J.sub(u,h.getMax(),h.getMin()),this._height=u[2],this._width=u[0];var c=new Ce(!0);c.addChild(i),e.addChild(c);var l=c.getMatrix(),g=Qr.MemoryPool.alloc();Qr.makeRotate(g,F.PI,0,0,1),te.setRotation(l,g),te.setTranslation(l,[0,0,.5*-this._height]),Qr.MemoryPool.free(g),this._viewer.requestRedraw()},root:function(){return this._sceneGraph.getSceneRoot()},matrix:function(){return this._sceneGraph.getSceneRoot().getMatrix()},show:function(){this._drawActor.valid(!0)},hide:function(){this._drawActor.valid(!1)},height:function(){return this._height},width:function(){return this._width}};var rn=en,nn=function(t){this._adaptor=t,this._viewer=t.getViewer(),this._characterModel=new rn(this._viewer),this._position=J.new(),this._yaw=0,this._pitch=0,this._cameraDistance=0,this._fallSpeed=0,this._speedup=!1,this._moving=!1,this._falling=!1,this._jumping=!1};nn.prototype={create:function(){var t={};this._viewer.getMainCamera().getProjectionPerspective(t),this._viewer.getMainCamera().setProjectionPerspective(2*t.fovy,t.aspect,t.near,t.far),this._characterModel.create(),this.updateThirdPerson(),this.updateGravityFall(),this.updateCollisionDetect(),this.update(),this._viewer.requestRedraw()},destroy:function(){this._characterModel.destroy();var t={};this._viewer.getMainCamera().getProjectionPerspective(t),this._viewer.getMainCamera().setProjectionPerspective(.5*t.fovy,t.aspect,t.near,t.far),this._viewer.requestRedraw()},update:function(){var t=this._viewer.getMainCamera(),e=t.getEye(),r=t.getCenter(),n=t.getUp(),i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc(),o=J.MemoryPool.alloc();J.sub(a,r,e),J.normalize(a,a),J.cross(i,a,n),J.normalize(i,i),J.cross(o,i,a),J.normalize(o,o);var s=lr.MemoryPool.alloc();lr.set(s,a[0],a[1]),lr.normalize(s,s);var h=Math.acos(lr.dot(s,[0,1]));h=s[0]>0?-h:h,this.setYaw(h),lr.MemoryPool.free(s);var u=J.MemoryPool.alloc();J.cross(u,[0,0,1],o),J.normalize(u,u);var c=Math.acos(J.dot(o,[0,0,1]));c=J.equals(u,i)?c:-c,this.setPitch(c),J.MemoryPool.free(u),J.scale(a,a,this._cameraDistance),J.add(this._position,e,a),J.sub(this._position,this._position,[0,0,.5*this._characterModel.height()]),this.setPosition(this._position),J.MemoryPool.free(i),J.MemoryPool.free(a),J.MemoryPool.free(o),this.syncCharacter(),this._viewer.requestRedraw()},zoom:function(t){if(this._adaptor.getConfig().isThirdPersonOpened()){var e=this._cameraDistance;return this._cameraDistance=F.between(this._cameraDistance*t,Z.CHARACTER_CAMERA_MIN_DISTANCE,Z.CHARACTER_CAMERA_MAX_DISTANCE),Math.abs(e-this._cameraDistance)>F.EPSILON}return!1},jump:function(){this._fallSpeed=this._adaptor.getConfig().getJumpStartSpeed(),this._jumping=!0},isSpeeduped:function(t){return void 0!==t&&(this._speedup=t),this._speedup},updateThirdPerson:function(){this._adaptor.getConfig().isThirdPersonOpened()?(this._characterModel.show(),this._cameraDistance=Z.CHARACTER_CAMERA_DISTANCE):(this._characterModel.hide(),this._cameraDistance=0),this._viewer.requestRedraw()},updateGravityFall:function(){this._adaptor.getConfig().isGravityFallOpened()&&(this._falling=!0,this._fallSpeed=0,this._viewer.requestRedraw())},updateCollisionDetect:function(){},getCameraDistance:function(){return this._cameraDistance},getHeadPosition:function(t){J.addValue(t,this._position,0,0,.5*this._characterModel.height())},getFeetPosition:function(t){J.addValue(t,this._position,0,0,.5*-this._characterModel.height())},getCharacterBox:function(t,e){var r=J.MemoryPool.alloc(),n=J.MemoryPool.alloc(),i=.5*this._characterModel.width(),a=.5*this._characterModel.height();J.sub(r,e,[i,i,a]),J.add(n,e,[i,i,a]),t.setMin(r),t.setMax(n),J.MemoryPool.free(r),J.MemoryPool.free(n)},getSpeed:function(){var t=this._adaptor.getConfig().getPersonSpeed();return this._speedup&&(t*=2),t},setPosition:function(t){J.copy(this._position,t)},syncMovePosition:function(t,e){if(this._moving=!1,J.normalize(t,t)){var r=Qr.MemoryPool.alloc();Qr.makeRotate(r,this._yaw,0,0,1);var n=J.MemoryPool.alloc();Qr.transformVec3(n,r,t),Qr.MemoryPool.free(r);var i=this.getSpeed()*e;if(this._adaptor.getConfig().isCollisionDetectOpened()){var a=J.MemoryPool.alloc();this.moveHorizontalWithClimb(this._position,n,i,a)?this._moving=!0:this.moveHorizontalWithObstacle(this._position,n,i,a)&&(this._moving=!0),this._moving&&this.setPosition(a),J.MemoryPool.free(a)}else J.scale(n,n,i),J.add(this._position,n,this._position),this.setPosition(this._position),this._moving=!0;J.MemoryPool.free(n)}return this._moving},stopJump:function(){this._jumping&&(this._jumping=!1,this._viewer.requestRedraw())},syncGravityPosition:function(t){if(this._adaptor.getConfig().isGravityFallOpened()&&(this._moving||this._jumping||this._falling)){var e=this._fallSpeed-Z.CHARACTER_GRAVITY_SPEED*t,r=.5*(this._fallSpeed+e)*t,n=this.landingCollisionDetect();if(0===n.length&&r<0)return this._fallSpeed=0,this._falling=!1,this.stopJump(),!1;if(this._falling=!0,0!==(n=this.verticalCollisionDetect(r)).length){if(this._fallSpeed<0){var i=this.getMaxZ(n);return this._position[2]=i+.01+.5*this._characterModel.height(),this._fallSpeed=0,this._falling=!1,this.stopJump(),!1}return this._fallSpeed>0?(this._fallSpeed=-1,!0):(this._fallSpeed=0,this._falling=!1,this.stopJump(),!1)}return this._fallSpeed=e,J.add(this._position,this._position,[0,0,r]),this.setPosition(this._position),!0}},getMaxZ:function(t){for(var e=Number.NEGATIVE_INFINITY,r=t.length,n=0;n<r;n++)for(var i=t[n],a=0;a<i._pointNumber;a++){var o=i._points[a];e=Math.max(e,o[2])}return e},landingCollisionDetect:function(){var t=J.MemoryPool.alloc(),e=J.MemoryPool.alloc();this.getHeadPosition(t),J.sub(e,t,[0,0,1e10]);var r=[];return this._viewer.getComponentActor().linesegmentIntersect(r,t,e,fr.COLLISION,fr.FAST_OUTCOME),J.MemoryPool.free(t),J.MemoryPool.free(e),r},moveHorizontalWithClimb:function(t,e,r,n){var i=J.MemoryPool.alloc();J.scaleAndAdd(i,t,e,r);var a=ie.MemoryPool.alloc();this.getCharacterBox(a,i);var o=[];this._viewer.getComponentActor().boundingBoxIntersect(o,a,fr.COLLISION,fr.BEST_OUTCOME,this._adaptor.getConfig().getCollisionIgnoreCategory());var s=!1;if(0===o.length)J.copy(n,i),s=!0;else{var h=this.getMaxZ(o),u=.5*this._characterModel.height(),c=i[2]-u;if(h<c+this._adaptor.getConfig().getClimbHeight()&&h>=c){i[2]=h+u+100,this.getCharacterBox(a,i);var l=[];this._viewer.getComponentActor().boundingBoxIntersect(l,a,fr.COLLISION,fr.FAST_OUTCOME,this._adaptor.getConfig().getCollisionIgnoreCategory()),0===l.length&&(J.copy(n,i),s=!0)}}return ie.MemoryPool.free(a),J.MemoryPool.free(i),s},moveHorizontalWithObstacle:function(t,e,r,n){var i=J.MemoryPool.alloc();J.scaleAndAdd(i,t,e,r);var a=J.MemoryPool.alloc();J.cross(a,e,[0,0,1]),J.normalize(a,a);var o=J.MemoryPool.alloc();J.negate(o,a);var s=J.MemoryPool.alloc(),h=this.moveHorizontalWithClimb(t,a,r,s),u=J.MemoryPool.alloc(),c=this.moveHorizontalWithClimb(t,o,r,u),l=!1,g=J.MemoryPool.alloc(),f=J.MemoryPool.alloc();if(c&&!h?(J.copy(g,u),J.copy(f,o),l=!0):!c&&h?(J.copy(g,s),J.copy(f,a),l=!0):J.copy(n,t),J.MemoryPool.free(u),J.MemoryPool.free(o),J.MemoryPool.free(s),J.MemoryPool.free(a),l){var A=J.MemoryPool.alloc();J.copy(A,e);for(var d=0;d<6;d++){var p=J.MemoryPool.alloc(),_=J.MemoryPool.alloc();J.add(p,A,f),J.normalize(p,p),this.moveHorizontalWithClimb(t,p,r,_)?(J.copy(f,p),J.copy(g,_)):J.copy(A,_),J.MemoryPool.free(p),J.MemoryPool.free(_)}J.copy(n,g),J.MemoryPool.free(A)}return J.MemoryPool.free(g),J.MemoryPool.free(f),J.MemoryPool.free(i),l},verticalCollisionDetect:function(t){var e=J.MemoryPool.alloc();J.scale(e,[0,0,1],t),J.add(e,this._position,e);var r=ie.MemoryPool.alloc();this.getCharacterBox(r,e);var n=[];return this._viewer.getComponentActor().boundingBoxIntersect(n,r,fr.COLLISION,fr.BEST_OUTCOME,this._adaptor.getConfig().getCollisionIgnoreCategory()),ie.MemoryPool.free(r),J.MemoryPool.free(e),n},setYaw:function(t){this._yaw=t%F._2_PI},syncYaw:function(t){t*=this._adaptor.getConfig().getPersonHSensitivity(),this._yaw=(this._yaw+t)%F._2_PI},setPitch:function(t){this._pitch=t},syncPitch:function(t){t*=this._adaptor.getConfig().getPersonVSensitivity(),this._pitch=F.between(this._pitch+t,Z.CHARACTER_CAMERA_MIN_PITCH,Z.CHARACTER_CAMERA_MAX_PITCH)},cameraEyeCollisionDetect:function(t,e){var r=[];this._viewer.getComponentActor().linesegmentIntersect(r,t,e,fr.COLLISION);var n=void 0;if(0!==r.length){var i=r[0],a=J.MemoryPool.alloc();J.sub(a,t,i.getPoint()),n=J.length(a),J.MemoryPool.free(a)}return n},characterCollisionDetect:function(){},syncCharacter:function(){var t=Qr.MemoryPool.alloc();Qr.makeRotate(t,this._yaw,0,0,1);var e=this._characterModel.matrix();te.setRotation(e,t),te.setTranslation(e,this._position),Qr.MemoryPool.free(t)},syncCamera:function(){var t=this._viewer.getMainCamera(),e=t.getEye(),r=t.getCenter(),n=t.getUp(),i=Qr.MemoryPool.alloc(),a=Qr.MemoryPool.alloc(),o=Qr.MemoryPool.alloc(),s=J.MemoryPool.alloc();Qr.makeRotate(i,this._pitch,1,0,0),Qr.makeRotate(a,this._yaw,0,0,1),Qr.multiply(o,a,i),Qr.transformVec3(s,o,[0,1,0]),J.normalize(s,s);var h=J.MemoryPool.alloc();if(this.getHeadPosition(h),this._adaptor.getConfig().isThirdPersonOpened()){J.scaleAndAdd(e,h,s,-this._cameraDistance);var u=this.cameraEyeCollisionDetect(h,e);void 0!==u?u<Z.CHARACTER_CAMERA_MIN_DISTANCE?(J.copy(e,h),this._characterModel.hide()):(u-=100,J.scaleAndAdd(e,h,s,-u),this._characterModel.show()):this._characterModel.show()}else J.copy(e,h);J.scaleAndAdd(r,e,s,1e3),Qr.transformVec3(n,o,[0,0,1]),J.MemoryPool.free(h),Qr.MemoryPool.free(i),Qr.MemoryPool.free(a),Qr.MemoryPool.free(o),J.MemoryPool.free(s),t.updateModelViewMatrix(),this._viewer.requestRedraw()}};var an=nn,on=function(t){jr.call(this,t),this._characterControl=new an(t),this._direction=J.new(),this._moveflag=[!1,!1,!1,!1,!1,!1]},sn={FRONT:0,BACK:1,LEFT:2,RIGHT:3,UP:4,DOWN:5};on.THIRD_PERSON=1,on.GRAVITY_FALL=2,on.COLLISION_DETECT=3,(on.prototype=Object.create(jr.prototype)).constructor=on,Object.assign(on.prototype,{type:function(){return jr.PERSON},create:function(t){this._multipickRect.create(),this._characterControl.create(),t&&this.home(),this._viewer.requestRedraw()},destroy:function(){this._multipickRect.destroy(),this._characterControl.destroy(),this._viewer.requestRedraw()},update:function(t){t===on.THIRD_PERSON?this._characterControl.updateThirdPerson():t===on.GRAVITY_FALL?this._characterControl.updateGravityFall():t===on.COLLISION_DETECT&&this._characterControl.updateCollisionDetect(),this._characterControl.syncCharacter(),this._characterControl.syncCamera()},sync:function(){var t=!1;this._operateMode&jr.OPERATE_ROTATE&&(t=this.rotate()),this._operateMode&jr.OPERATE_PICK&&this.drawMultiplePick(),(t=this.move()||t)&&(this._characterControl.syncCharacter(),this._characterControl.syncCamera())},home:function(){var t=this._viewer.getComponentGraph().getBoundingBoxWithClip(),e=J.MemoryPool.alloc();t&&t.valid()?(t.getCenter(e),e[1]=t.getYMin()):J.set(e,0,0,0),this._characterControl.setPosition(e),this._characterControl.setPitch(0),this._characterControl.setYaw(0),this._characterControl.syncCharacter(),this._characterControl.syncCamera(),J.MemoryPool.free(e),this._viewer.requestRedraw()},invalid:function(t){return this._moveflag=[!1,!1,!1,!1,!1,!1],J.set(this._direction,0,0,0),this._characterControl.isSpeeduped(!1),this.pickRelease(t),!0},rotate:function(){var t=this._rotateEvent.getDelta();return!(Math.abs(t[0])<F.EPSILON&&Math.abs(t[1])<F.EPSILON)&&(this._characterControl.syncYaw(-t[0]),this._characterControl.syncPitch(t[1]),this._viewer.requestRedraw(),this._rotateEvent.sync(),!0)},move:function(){var t=this._adaptor.getTimer().delta();t*=F.MILLISECOND_PER_SECOND;var e=this._characterControl.syncMovePosition(this._direction,t),r=this._characterControl.syncGravityPosition(t);return e||r},zoom:function(t){var e=1;e=t?.95:1.05,this._characterControl.zoom(e)&&this._characterControl.syncCamera()},moveForward:function(t){t?(this._moveflag[sn.FRONT]=!0,this._moveflag[sn.BACK]?this._direction[1]=0:this._direction[1]=1):(this._moveflag[sn.FRONT]=!1,this._moveflag[sn.BACK]?this._direction[1]=-1:this._direction[1]=0)},moveBackward:function(t){t?(this._moveflag[sn.BACK]=!0,this._moveflag[sn.FRONT]?this._direction[1]=0:this._direction[1]=-1):(this._moveflag[sn.BACK]=!1,this._moveflag[sn.FRONT]?this._direction[1]=1:this._direction[1]=0)},moveLeftward:function(t){t?(this._moveflag[sn.LEFT]=!0,this._moveflag[sn.RIGHT]?this._direction[0]=0:this._direction[0]=-1):(this._moveflag[sn.LEFT]=!1,this._moveflag[sn.RIGHT]?this._direction[0]=1:this._direction[0]=0)},moveRightward:function(t){t?(this._moveflag[sn.RIGHT]=!0,this._moveflag[sn.LEFT]?this._direction[0]=0:this._direction[0]=1):(this._moveflag[sn.RIGHT]=!1,this._moveflag[sn.LEFT]?this._direction[0]=-1:this._direction[0]=0)},moveUpward:function(t){this._adaptor.getConfig().isGravityFallOpened()?this._characterControl.jump():t?(this._moveflag[sn.UP]=!0,this._moveflag[sn.DOWN]?this._direction[2]=0:this._direction[2]=1):(this._moveflag[sn.UP]=!1,this._moveflag[sn.DOWN]?this._direction[2]=-1:this._direction[2]=0)},moveDownward:function(t){this._adaptor.getConfig().isGravityFallOpened()||(t?(this._moveflag[sn.DOWN]=!0,this._moveflag[sn.UP]?this._direction[2]=0:this._direction[2]=-1):(this._moveflag[sn.DOWN]=!1,this._moveflag[sn.UP]?this._direction[2]=1:this._direction[2]=0))},rotatePush:function(t){var e=this.getPositionRelativeToCanvas(t,!0);return this._rotateEvent.setInitial(e[0],e[1]),t.preventDefault(),!0},rotateDrag:function(t){this._operateMode|=jr.OPERATE_ROTATE;var e=this.getPositionRelativeToCanvas(t,!0);return this._rotateEvent.setCurrent(e[0],e[1]),t.preventDefault(),!0},rotateRelease:function(t){return this._operateMode&jr.OPERATE_ROTATE&&(this._operateMode&=~jr.OPERATE_ROTATE),t.preventDefault(),!0},zoomWheel:function(t){return t.deltaY>0?this.zoom(!1):this.zoom(!0),t.preventDefault(),!0}}),on.prototype[_r.KEYBORAD_PUSH]=function(t){return"Space"===t.code?(this.home(),!0):"Escape"===t.code?(this.escape(),!0):"KeyW"===t.code?(this.moveForward(!0),!0):"KeyS"===t.code?(this.moveBackward(!0),!0):"KeyA"===t.code?(this.moveLeftward(!0),!0):"KeyD"===t.code?(this.moveRightward(!0),!0):"KeyR"===t.code?(this.moveUpward(!0),!0):"KeyF"===t.code?(this.moveDownward(!0),!0):"Shift"===t.key&&(this._characterControl.isSpeeduped(!0),!0)},on.prototype[_r.KEYBORAD_RELEASE]=function(t){return"KeyW"===t.code?(this.moveForward(!1),!0):"KeyS"===t.code?(this.moveBackward(!1),!0):"KeyA"===t.code?(this.moveLeftward(!1),!0):"KeyD"===t.code?(this.moveRightward(!1),!0):"KeyR"===t.code?(this.moveUpward(!1),!0):"KeyF"===t.code?(this.moveDownward(!1),!0):"Shift"===t.key&&(this._characterControl.isSpeeduped(!1),!0)};var hn=on,un=function(t){jr.call(this,t)};(un.prototype=Object.create(jr.prototype)).constructor=un,Object.assign(un.prototype,{type:jr.PLANE});var cn=un,ln=function(t){this._adaptor=t,this._viewer=t.getViewer(),this._roaming=new zr(this._adaptor),this._adaptor.setOperation($e.ROAMING_FUNCTION,this._roaming)};ln.prototype={reset:function(){this._roaming.home()},setRoamingType:function(t){if(this._roaming.type()!==t){switch(t){case jr.ORBIT:this._roaming=new zr(this._adaptor);break;case jr.PERSON:this._roaming=new hn(this._adaptor);break;case jr.PLANE:this._roaming=new cn(this._adaptor);break;default:return}this._adaptor.setOperation($e.ROAMING_FUNCTION,this._roaming)}},openPersonRoaming:function(){this.setRoamingType(jr.PERSON)},closePersonRoaming:function(){this.setRoamingType(jr.ORBIT)},setPersonResource:function(t,e){return this._adaptor.getViewer().getFactory().getResource().getCharacter().set(t,e)},setPersonSpeed:function(t){this._adaptor.getConfig().setPersonSpeed(1e3*t)},isThirdPersonOpened:function(t){var e=this._adaptor.getConfig();if(e.isThirdPersonOpened()===t)return!1;e.isThirdPersonOpened(t),this._roaming.type()===jr.PERSON&&this._roaming.update(hn.THIRD_PERSON)},isGravityFallOpened:function(t){var e=this._adaptor.getConfig();if(e.isGravityFallOpened()===t)return!1;e.isGravityFallOpened(t),this._roaming.type()===jr.PERSON&&this._roaming.update(hn.GRAVITY_FALL)},isCollisionDetectOpened:function(t){var e=this._adaptor.getConfig();if(e.isCollisionDetectOpened()===t)return!1;e.isCollisionDetectOpened(t),this._roaming.type()===jr.PERSON&&this._roaming.update(hn.COLLISION_DETECT)},setLeftMouseOperation:function(t){this._adaptor.getConfig().setLeftMouseOperation(t)},getHighlightEntities:function(){var t=this._viewer.getComponentGraph().getHighlightEntities(),e=t.length;if(0===e)return[];for(var r=[],n=0;n<e;n++)r.push(t[n].getUniqueID());return r},getSelectParameters:function(){var t=this._viewer.getComponentGraph().getHighlightEntities(),e=t.length;if(0===e)return[];for(var r=[],n=0;n<e;n++)r.push(t[n].getEntity().getParameter());return r},locateSelectEntities:function(){this._roaming.locate()},locateAssignEntities:function(t){var e=oe.MemoryPool.alloc();if(e.reset(),Jt.isStringType(t)){var r=this._viewer.getComponentGraph().getRenderEntity(t);r&&e.expandByBoundingBox(r.getBoundingBox())}else if(Jt.isArrayType(t)){var n=t.length;if(0===n)return;for(var i=0;i<n;i++){var a=this._viewer.getComponentGraph().getRenderEntity(t[i]);a&&e.expandByBoundingBox(a.getBoundingBox())}}e.valid()&&this._roaming.locate(void 0,e),oe.MemoryPool.free(e)},lockSelectEntities:function(t){},revertHomePosition:function(){this._roaming.home()},zoomInPosition:function(){this._roaming.zoom(!0)},zoomOutPosition:function(){this._roaming.zoom(!1)},saveViewState:function(t){t._personRoamingOpened=this._roaming.type()===jr.PERSON,t._thirdPersonOpened=this._adaptor.getConfig().isThirdPersonOpened(),t._collisionDectectOpened=this._adaptor.getConfig().isCollisionDetectOpened(),t._gravityFallOpened=this._adaptor.getConfig().isGravityFallOpened(),t._mouseOperateOpened=!1,t._cameraDistance=0},loadViewState:function(t){this._adaptor.getConfig().isThirdPersonOpened(t._thirdPersonOpened),this._adaptor.getConfig().isCollisionDetectOpened(t._collisionDectectOpened),this._adaptor.getConfig().isGravityFallOpened(t._gravityFallOpened),t._personRoamingOpened?this.setRoamingType(jr.PERSON):this.setRoamingType(jr.ORBIT),this.updateViewState()},updateViewState:function(){var t=this;this._adaptor.getViewCallbacks().forEach(function(e){var r={};t.getViewState(r),e(R.ROAMINGSTATE_CHANGED,r)})},getViewState:function(t){t._leftMouseOperation=this._adaptor.getConfig().getLeftMouseOperation(),t._personRoamingOpened=this._roaming.type()===jr.PERSON,t._thirdPersonOpened=this._adaptor.getConfig().isThirdPersonOpened(),t._collisionDectectOpened=this._adaptor.getConfig().isCollisionDetectOpened(),t._gravityFallOpened=this._adaptor.getConfig().isGravityFallOpened(),t._mouseOperateOpened=!1}};var gn=ln,fn=function(t){this._adaptor=t,this._cubeSection=void 0};fn.prototype={update:function(){this._cubeSection&&this._cubeSection.update()},openCubeSection:function(){this._cubeSection=this._adaptor.createOperation($e.SECTION_FUNCTION)},closeCubeSection:function(){this._cubeSection=this._adaptor.resetOperation($e.SECTION_FUNCTION)},setCubeSectionMode:function(){},resetCubeSection:function(){this._cubeSection&&this._cubeSection.reset()},showCubeSection:function(){this._cubeSection&&this._cubeSection.show()},hideCubeSection:function(){this._cubeSection&&this._cubeSection.hide()},getViewState:function(t){return t._cubeSectionMode=1,this._cubeSection?(t._cubeSectionOpened=!0,t._cubeSectionShowed=this._cubeSection.showed()):(t._cubeSectionOpened=!1,t._cubeSectionShowed=!1),t},saveViewState:function(t){this._cubeSection?(t._cubeSectionOpened=!0,t._cubeSectionShowed=this._cubeSection.showed(),J.copy(t._cubeTranslate,this._cubeSection._translate),Qr.copy(t._cubeRotation,this._cubeSection._rotation),J.copy(t._cubeScaling,this._cubeSection._scaling)):(t._cubeSectionOpened=!1,t._cubeSectionShowed=!1),t._cubeSectionMode=1},loadViewState:function(t){t._cubeSectionOpened?(this.openCubeSection(),t._cubeSectionShowed?this._cubeSection.show():this._cubeSection.hide(),J.copy(this._cubeSection._translate,t._cubeTranslate),Qr.copy(this._cubeSection._rotation,t._cubeRotation),J.copy(this._cubeSection._scaling,t._cubeScaling),this._cubeSection.updateTransform()):this.closeCubeSection(),this.updateViewState()},updateViewState:function(){var t=this;this._adaptor.getViewCallbacks().forEach(function(e){var r={};t.getViewState(r),e(R.SECTIONSTATE_CHANGED,r)})},setMaterial:function(t,e,r,n){this._cubeSection&&this._cubeSection.setMaterial(t,e,r,n)}};var An=fn,dn=function(t){this._adaptor=t,this._viewer=t.getViewer()};dn.prototype={setBackgroundColor:function(t,e,r,n){return!!(Jt.isNumberType(t)&&t>=0&&t<=255&&Jt.isNumberType(e)&&e>=0&&e<=255&&Jt.isNumberType(r)&&r>=0&&r<=255&&Jt.isNumberType(n)&&n>=0&&n<=255)&&(this._viewer.getMainCamera().setClearColor(t/255,e/255,r/255,n/255),this._viewer.requestRedraw(),!0)},getBackgroundColor:function(){var t=this._viewer.getMainCamera().getClearColor();return[255*t[0],255*t[1],255*t[2],255*t[3]]},revertBackgroundColor:function(){this._viewer.getMainCamera().revertClearColor(),this._viewer.requestRedraw()},setTransparency:function(t){return!!(Jt.isNumberType(t)&&t>=0&&t<=255)&&(this._viewer.getScenery().setTransparency(t/255),this._viewer.requestRedraw(),!0)},revertTransparency:function(){this._viewer.getScenery().revertTransparency(),this._viewer.requestRedraw()},setHomeEyePosition:function(t){this._adaptor.getConfig().setHomeEyePosition(t),this._viewer.requestRedraw()}};var pn=dn,_n=function(t,e){this._adaptor=t,this._viewer=t.getViewer(),this._datacore=e,this._transparented=!1};_n.prototype={createCompare:function(t,e,r,n,i,a){if(this._datacore.getTransfer().hasModeler(t,e))return console.log("需要比较的版本模型当前已经打开，请先关闭后再比较"),!1;this._transparented||(this._viewer.getComponentGraph().transparentComponents(),this._transparented=!0);r.length;var o=n.length,s=(i.length,a.length);if(0===o&&0===s||this._datacore.getDataLoader().openModelCommonData(t,e),0!==o)for(var h=this._datacore.getDataLoader().loadComponentData(n).length,u=0;u<h;u++)this._scenery.update(modelers,type),this._renderer.update();if(0!==s)for(var c=this._datacore.getDataLoader().loadComponentData(a).length,l=0;l<c;l++);},destoryCompare:function(){},locateComponent:function(t){}};var Cn=_n,In=function(){this._eye=J.new_d(),this._center=J.new_d(),this._up=J.new_d()},mn=function(){this._componentHideFlag=!1,this._assignedComponents=void 0,this._axisgridHideFlag=!1,this._assignedAxisgrids=void 0},vn=function(){this._treeRule=[],this._hideNodePaths=[]},yn=function(){this._assignedControlStates=new Map,this._componentTreeStates=[],this._axisgridTreeState=void 0};yn.prototype={createAssignedControlState:function(){return new mn},createDisplaytreeControlState:function(){return new vn}};var En=function(){this._personRoamingOpened=!1,this._thirdPersonOpened=!1,this._collisionDectectOpened=!1,this._gravityFallOpened=!1,this._mouseOperateOpened=!1,this._cameraDistance=0},wn=function(){this._cubeSectionOpened=!1,this._cubeSectionMode=0,this._cubeSectionShowed=!1,this._cubeTranslate=J.new_d(),this._cubeRotation=Qr.new_d(),this._cubeScaling=J.new_d()},Sn=function(){this._measureOpened=!1,this._measureType=L.VIEW,this._measureNodes=[]},bn=function(){this._camera=new In,this._control=null,this._roaming=null,this._section=null,this._measure=null};bn.prototype={getCameraState:function(){return this._camera},getControlState:function(t){return t&&(this._control||(this._control=new yn)),this._control},getRoamingState:function(t){return t&&(this._roaming||(this._roaming=new En)),this._roaming},getSectionState:function(t){return t&&(this._section||(this._section=new wn)),this._section},getMeasureState:function(t){return t&&(this._measure||(this._measure=new Sn)),this._measure}};var Tn=bn,Mn=function(){this._buffers=[],this._length=0};Mn.prototype={concatBuffers:function(){var t=this,e=this._buffers.map(function(t){return t.byteLength}),r=new Uint8Array(this._length);return e.reduce(function(e,n,i){return r.set(new Uint8Array(t._buffers[i]),e),e+n},0),r.buffer},clearBuffers:function(){this._buffers.length=0,this._length=0},writeEndianFlag:function(){this.writeUInt(mt.BIG_ENDIAN_TYPE)},writeVerifyFlag:function(){this.writeUInt(mt.VERIFY_FLAG)},writeBool:function(t){var e=new Uint8Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeChar:function(t){var e=new Int8Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeUChar:function(t){var e=new Uint8Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeShort:function(t){var e=new Int16Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeUShort:function(t){var e=new Uint16Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeInt:function(t){var e=new Int32Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeVerifyUInt:function(t){this.writeUInt(t),this.writeVerifyFlag()},writeUInt:function(t){var e=new Uint32Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeFloat:function(t){var e=new Float32Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeDouble:function(t){var e=new Float64Array(1);e[0]=t,this._buffers.push(e.buffer),this._length+=e.byteLength},writeString:function(t){var e=[],r=Jt.unicodeToUtf8(t,e);if(this.writeUInt(r),0!==r){for(var n=new Uint8Array(r),i=0;i<r;i++)n[i]=e[i];this._buffers.push(n.buffer),this._length+=n.byteLength}},writeVerifyString:function(t){var e=[],r=Jt.unicodeToUtf8(t,e);if(this.writeVerifyUInt(r),0!==r){for(var n=new Uint8Array(r),i=0;i<r;i++)n[i]=e[i];this._buffers.push(n.buffer),this._length+=n.byteLength}},writeVec3:function(t){this.writeTypedArray(t)},writeQuat:function(t){this.writeTypedArray(t)},writeTypedArray:function(t){this._buffers.push(t.buffer),this._length+=t.byteLength},writeVecString:function(t){var e=t.length;this.writeUInt(e);for(var r=0;r<e;r++)this.writeString(t[r])},writeVerifyVecString:function(t){var e=t.length;this.writeVerifyUInt(e);for(var r=0;r<e;r++)this.writeVerifyString(t[r])}};var Pn=Mn,Rn=function(t){Pn.call(this),this._state=t};(Rn.prototype=Object.create(Pn.prototype)).constructor=Rn,Object.assign(Rn.prototype,{writeVersion:function(){this.writeUShort($e.STREAM_VERSION)},writeViewStream:function(){this.writeEndianFlag(),this.writeVersion(),this.writeViewState(),this.writeVerifyFlag()},writeViewState:function(){var t=this._state.getCameraState();this.writeCameraState(t);var e=this._state.getControlState();e?(this.writeBool(!0),this.writeControlState(e)):this.writeBool(!1);var r=this._state.getRoamingState();r?(this.writeBool(!0),this.writeRoamingState(r)):this.writeBool(!1);var n=this._state.getSectionState();n?(this.writeBool(!0),this.writeSectionState(n)):this.writeBool(!1);var i=this._state.getMeasureState();i?(this.writeBool(!0),this.writeMeasureState(i)):this.writeBool(!1)},writeCameraState:function(t){this.writeTypedArray(t._eye),this.writeTypedArray(t._center),this.writeTypedArray(t._up)},writeControlState:function(t){var e=this,r=t._assignedControlStates.size;this.writeVerifyUInt(r),t._assignedControlStates.forEach(function(t,r){e.writeVerifyString(r),e.writeBool(t._componentHideFlag),e.writeVerifyVecString(t._assignedComponents),e.writeBool(t._axisgridHideFlag),e.writeVerifyVecString(t._assignedAxisgrids)});var n=t._componentTreeStates.length;this.writeVerifyUInt(n);for(var i=0;i<n;i++){var a=t._componentTreeStates[i];this.writeVerifyVecString(a._treeRule);var o=a._hideNodePaths,s=o.length;this.writeVerifyUInt(s);for(var h=0;h<s;h++)this.writeVerifyVecString(o[h])}if(this._axisgridTreeState){this.writeBool(!0),this.writeVerifyVecString(t._axisgridTreeState._treeRule);for(var u=t._axisgridTreeState._hideNodePaths,c=u.length,l=0;l<c;l++)this.writeVerifyVecString(u[l])}else this.writeBool(!1)},writeRoamingState:function(t){this.writeBool(t._personRoamingOpened),t._personRoamingOpened&&(this.writeBool(t._gravityFallOpened),this.writeBool(t._collisionDectectOpened),this.writeDouble(t._cameraDistance),this.writeBool(t._thirdPersonOpened),this.writeBool(t._mouseOperateOpened))},writeSectionState:function(t){this.writeBool(t._cubeSectionOpened),t._cubeSectionOpened&&(this.writeInt(t._cubeSectionMode),this.writeBool(t._cubeSectionShowed),this.writeVec3(t._cubeTranslate),seciton._cubeScaling[0]/=2e3,seciton._cubeScaling[1]/=2e3,seciton._cubeScaling[2]/=2e3,this.writeVec3(t._cubeScaling),this.writeQuat(t._cubeRotation))},writeMeasureState:function(t){if(this.writeBool(t._measureOpened),t._measureOpened){this.writeInt(t._measureType);var e=t._measureNodes.length;this.writeVerifyUInt(e);for(var r=0;r<e;r++){var n=t._measureNodes[r];this.writeVerifyString(n.ID.toString()),this.writeInt(n.type);var i=n.points.length;this.writeVerifyUInt(i);for(var a=0;a<i;a++)this.writeVec3(n.points[a])}}}});var xn=Rn,On=function(t){this._buffer=t,this._offset=0,this._littleEndian=!0};On.prototype={readEndianFlag:function(){var t=new DataView(this._buffer,this._offset,mt.UINT);this._offset+=mt.UINT;var e=t.getUint32(0,!1);this._littleEndian=e!==mt.BIG_ENDIAN_TYPE},readVerifyFlag:function(){return this.readUInt()===mt.VERIFY_FLAG},readChar:function(){var t=new DataView(this._buffer,this._offset,mt.CHAR);return this._offset+=mt.CHAR,t.getInt8(0)},readUChar:function(){var t=new DataView(this._buffer,this._offset,mt.UCHAR);return this._offset+=mt.UCHAR,t.getUint8(0)},readShort:function(){var t=new DataView(this._buffer,this._offset,mt.SHORT);return this._offset+=mt.SHORT,t.getInt16(0,this._littleEndian)},readUShort:function(){var t=new DataView(this._buffer,this._offset,mt.USHORT);return this._offset+=mt.USHORT,t.getUint16(0,this._littleEndian)},readInt:function(){var t=new DataView(this._buffer,this._offset,mt.INT);return this._offset+=mt.INT,t.getInt32(0,this._littleEndian)},readUInt:function(){var t=new DataView(this._buffer,this._offset,mt.UINT);return this._offset+=mt.UINT,t.getUint32(0,this._littleEndian)},readVerifyUInt:function(){var t=this.readUInt();return this.readVerifyFlag()?t:void 0},readFloat:function(){var t=new DataView(this._buffer,this._offset,mt.FLOAT);return this._offset+=mt.FLOAT,t.getFloat32(0,this._littleEndian)},readDouble:function(){var t=new DataView(this._buffer,this._offset,mt.DOUBLE);return this._offset+=mt.DOUBLE,t.getFloat64(0,this._littleEndian)},readString:function(){var t=this.readUInt();return this.readUnicodeString(t)},readVerifyString:function(){var t=this.readVerifyUInt();return void 0===t?void 0:this.readUnicodeString(t)},readUnicodeString:function(t){var e="";if(0===t)return e;var r=new DataView(this._buffer,this._offset,t);this._offset+=t;for(var n=0;n<t;){var i=r.getUint8(n).toString(2),a=i.match(/^1+?(?=0)/);if(a&&8===i.length){for(var o=a[0].length,s=r.getUint8(n).toString(2).slice(7-o),h=1;h<o;h++)s+=r.getUint8(h+n).toString(2).slice(2);e+=String.fromCharCode(parseInt(s,2)),n+=o}else e+=String.fromCharCode(r.getUint8(n)),n++}return e},readVerifyVecString:function(t){var e=this.readVerifyUInt();if(void 0===e)return!1;for(var r=0;r<e;r++){var n=this.readVerifyString();if(void 0===n)return!1;t.push(n)}return!0},readCharArray:function(t){var e=t,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int8Array(t),i=0;i<t;i++)n[i]=r.getInt8(i,this._littleEndian);return n},readUCharArray:function(t){var e=t,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint8Array(t),i=0;i<t;i++)n[i]=r.getUint8(i,this._littleEndian);return n},readShortArray:function(t){var e=t*mt.SHORT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int16Array(t),i=0;i<t;i++)n[i]=r.getInt16(i*mt.SHORT,this._littleEndian);return n},readUShortArray:function(t){var e=t*mt.USHORT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint16Array(t),i=0;i<t;i++)n[i]=r.getUint16(i*mt.USHORT,this._littleEndian);return n},readIntArray:function(t){var e=t*mt.INT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Int32Array(t),i=0;i<t;i++)n[i]=r.getInt32(i*mt.INT,this._littleEndian);return n},readUIntArray:function(t){var e=t*mt.UINT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Uint32Array(t),i=0;i<t;i++)n[i]=r.getUint32(i*mt.UINT,this._littleEndian);return n},readFloatArray:function(t){var e=t*mt.FLOAT,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Float32Array(t),i=0;i<t;i++)n[i]=r.getFloat32(i*mt.FLOAT,this._littleEndian);return n},readDoubleArray:function(t){var e=t*mt.DOUBLE,r=new DataView(this._buffer,this._offset,e);this._offset+=e;for(var n=new Float64Array(t),i=0;i<t;i++)n[i]=r.getFloat64(i*mt.DOUBLE,this._littleEndian);return n}};var Nn=On,Ln=function(t){Nn.call(this,t),this._version=-1};(Ln.prototype=Object.create(Nn.prototype)).constructor=Ln,Object.assign(Ln.prototype,{readVersion:function(){this._version=this.readUShort()},readViewStream:function(){if(this.readEndianFlag(),this.readVersion(),!(this._version>$e.STREAM_VERSION||this._version<4)){var t=this.readViewState();if(t&&this.readVerifyFlag())return t}},readViewState:function(){var t=new Tn,e=t.getCameraState();if(this.readCameraState(e),this.readUChar()){var r=t.getControlState(!0);if(!this.readControlState(r))return}if(this.readUChar()){var n=t.getRoamingState(!0);if(!this.readRoamingState(n))return}if(this.readUChar()){var i=t.getSectionState(!0);if(!this.readSectionState(i))return}if(this.readUChar()){var a=t.getMeasureState(!0);if(!this.readMeasureState(a))return}return t},readCameraState:function(t){t._eye=this.readDoubleArray(3),t._center=this.readDoubleArray(3),t._up=this.readDoubleArray(3)},readControlState:function(t){var e=this.readVerifyUInt();if(void 0===e)return!1;for(var r=0;r<e;r++){var n=this.readVerifyString();if(void 0===n)return!1;var i=t.createAssignedControlState();if(i._componentHideFlag=this.readUChar(),i._assignedComponents=[],!this.readVerifyVecString(i._assignedComponents))return!1;if(i._axisgridHideFlag=this.readUChar(),i._assignedAxisgrids=[],!this.readVerifyVecString(i._assignedAxisgrids))return!1;t._assignedControlStates.set(n,i)}if(void 0===(e=this.readVerifyUInt()))return!1;for(var a=0;a<e;a++){var o=t.createDisplaytreeControlState();if(!this.readVerifyVecString(o._treeRule))return!1;var s=this.readVerifyUInt();if(void 0===s)return!1;for(var h=0;h<s;h++){var u=[];if(!this.readVerifyVecString(u))return!1;o._hideNodePaths.push(u)}t._componentTreeStates.push(o)}if(this.readUChar()){var c=t.createDisplaytreeControlState();if(!this.readVerifyVecString(c._treeRule))return!1;var l=this.readVerifyUInt();if(void 0===l)return!1;for(var g=0;g<l;g++){var f=[];if(!this.readVerifyVecString(f))return!1;c._hideNodePaths.push(f)}t._axisgridTreeState=c}return!0},readRoamingState:function(t){return t._personRoamingOpened=this.readUChar(),t._personRoamingOpened&&(t._gravityFallOpened=this.readUChar(),t._collisionDectectOpened=this.readUChar(),t._cameraDistance=this.readDouble(),t._thirdPersonOpened=this.readUChar(),t._mouseOperateOpened=this.readUChar()),!0},readSectionState:function(t){return t._cubeSectionOpened=this.readUChar(),t._cubeSectionOpened&&(t._cubeSectionMode=this.readInt(),t._cubeSectionShowed=this.readUChar(),t._cubeTranslate=this.readDoubleArray(3),t._cubeScaling=this.readDoubleArray(3),t._cubeScaling[0]*=2e3,t._cubeScaling[1]*=2e3,t._cubeScaling[2]*=2e3,t._cubeRotation=this.readDoubleArray(4)),!0},readMeasureState:function(t){if(t._measureOpened=this.readUChar(),t._measureOpened){t._measureType=this.readInt();var e=this.readVerifyUInt();if(void 0===e)return!1;for(var r=0;r<e;r++){var n={},i=this.readVerifyString();if(void 0===i)return!1;n.ID=parseInt(i,10),n.type=this.readInt(),n.points=[];var a=this.readVerifyUInt();if(void 0===a)return!1;for(var o=0;o<a;o++)n.points.push(this.readFloatArray(3));t._measureNodes.push(n)}}return!0}});var Dn=Ln,Fn=function(){this._navigateRightMargin=Z.NAVIGATE_RIGHT_MARGIN,this._navigateTopMargin=Z.NAVIGATE_TOP_MARGIN,this._navigateWidthSize=Z.NAVIGATE_WIDTH_SIZE,this._multiplePick=!0,this._leftMouseOperation=Z.LEFT_MOUSE_OPERATION,this._homeEyePosition=J.clone(Z.HOME_EYE_POSITION),this._homeUpDirection=J.clone(Z.HOME_UP_DIRECTION),this._thirdPersonOpen=!1,this._collisionDetectOpen=!1,this._gravityFallOpen=!1,this._personSpeed=Z.CHARACTER_SPEED,this._personFOV=Z.CHARACTER_FOV,this._climbHeight=Z.CHARACTER_CLIMB_HEIGHT,this._jumpHeight=Z.CHARACTER_JUMP_HEIGHT,this._jumpStartSpeed=this.updateJumpStartSpeed(this._jumpHeight),this._personHSensitivity=Z.CHARACTER_HORIZONTAL_SENSITIVITY,this._personVSensitivity=Z.CHARACTER_VERTICAL_SENSITIVITY,this._collisionIgnoreCategory=new Set,this._collisionIgnoreCategory.add(it.Door),this._collisionIgnoreCategory.add(it.Window),this._measureType=Z.MEASURE_TYPE};Fn.prototype={setNavigateProperty:function(t,e,r){this._navigateRightMargin=t,this._navigateTopMargin=e,this._navigateWidthSize=r},getNavigateRightMargin:function(){return this._navigateRightMargin},getNavigateTopMargin:function(){return this._navigateTopMargin},getNavigateWidthSize:function(){return this._navigateWidthSize},isMultiplePicked:function(t){return void 0!==t&&(this._multiplePick=t),this._multiplePick},setHomeEyePosition:function(t){if(J.normalize(this._homeEyePosition,t),Math.abs(this._homeEyePosition[2])<F.EPSILON)J.set(this._homeUpDirection,0,0,1);else if(Math.abs(this._homeEyePosition[2])>1-F.EPSILON)J.set(this._homeUpDirection,0,this._homeEyePosition[2],0);else{var e=J.MemoryPool.alloc();J.set(e,this._homeEyePosition[0],this._homeEyePosition[1],0),J.normalize(e,e);var r=J.MemoryPool.alloc();J.cross(r,this._homeEyePosition,e),J.normalize(r,r),J.cross(this._homeUpDirection,this._homeEyePosition,r),J.normalize(this._homeUpDirection,this._homeUpDirection),J.MemoryPool.free(e),J.MemoryPool.free(r)}},getHomeEyePosition:function(){return this._homeEyePosition},getHomeUpDirection:function(){return this._homeUpDirection},setLeftMouseOperation:function(t){switch(t){case N.PICK:case N.ROTATE:case N.PAN:this._leftMouseOperation=t}},getLeftMouseOperation:function(){return this._leftMouseOperation},isThirdPersonOpened:function(t){return void 0!==t&&(this._thirdPersonOpen=t),this._thirdPersonOpen},isCollisionDetectOpened:function(t){return void 0!==t&&(this._collisionDetectOpen=t),this._collisionDetectOpen},isGravityFallOpened:function(t){return void 0!==t&&(this._gravityFallOpen=t),this._gravityFallOpen},setPersonSpeed:function(t){this._personSpeed=t},getPersonSpeed:function(){return this._personSpeed},getPersonFOV:function(){return this._personFOV},getPersonHSensitivity:function(){return this._personHSensitivity},getPersonVSensitivity:function(){return this._personVSensitivity},getCollisionIgnoreCategory:function(){return this._collisionIgnoreCategory},getJumpHeight:function(){return this._jumpHeight},setJumpHeight:function(t){this._jumpStartSpeed=this.updateJumpStartSpeed(t)},getJumpStartSpeed:function(){return this._jumpStartSpeed},updateJumpStartSpeed:function(t){return Math.sqrt(2*t*Z.CHARACTER_GRAVITY_SPEED)},setClimbHeight:function(t){this._climbHeight=t},getClimbHeight:function(){return this._climbHeight},getMeasureType:function(){return this._measureType},setMeasureType:function(t){this._measureType=t}};var Bn=Fn,Un=function(){this._current=this._last=Date.now()};Un.prototype={count:function(){this._current=Date.now()},current:function(){return this._current},last:function(){return this._last},cost:function(){return Date.now()-this._current},delta:function(){return this._current-this._last},sync:function(){this._last=this._current}};var Gn=Un,kn=function(t){_r.call(this,t),this._viewer.getComponentActor().setSceneRoot(this._viewer.getComponentGraph().getSceneRoot())};(kn.prototype=Object.create(_r.prototype)).constructor=kn,Object.assign(kn.prototype,{resize:function(){var t=this._viewer.getMainCamera(),e=t.getViewport(),r=e.getWidth(),n=e.getHeight(),i=this._viewer.getDrawCanvas(),a=i.width/r/(i.height/n);if(e.setViewport(0,0,i.width,i.height),Math.abs(a-1)>=F.EPSILON){var o=te.MemoryPool.alloc();te.fromScaling(o,[1/a,1,1]),te.mul(t.getProjectionMatrix(),t.getProjectionMatrix(),o),te.MemoryPool.free(o)}this._viewer.getRenderer().getDrawBuffer().resize(),this._viewer.requestRedraw()},sync:function(){this._viewer.needToFrame()?(this._viewer.getRenderer().draw(!0),this._viewer.acceptRedraw()):this._viewer.getRenderer().draw(!1)},glcontextLost:function(t){return cancelAnimationFrame(this._adaptor._requestid),this._adaptor.getViewCallbacks().forEach(function(e){e(R.WEBGLCONTEXT_LOST,t.type)}),t.preventDefault(),!0}});var Vn=kn,Hn=function(t){_r.call(this,t)};(Hn.prototype=Object.create(_r.prototype)).constructor=Hn,Object.assign(Hn.prototype,{});var Yn=Hn,jn=function(t,e,r,n){Mt.call(this),this._x=void 0!==t?t:0,this._y=void 0!==e?e:0,this._width=void 0!==r?r:800,this._height=void 0!==n?n:600};(jn.prototype=Object.create(Mt.prototype)).constructor=jn,Object.assign(jn.prototype,{typename:"Viewport",setViewport:function(t,e,r,n){this._x=t,this._y=e,this._width=r,this._height=n},getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},apply:function(t){t.getWebGLContext().viewport(this._x,this._y,this._width,this._height)}});var Xn=jn,Qn=function(t){Yn.call(this,t),this._rightMargin=this._adaptor.getConfig().getNavigateRightMargin(),this._topMargin=this._adaptor.getConfig().getNavigateTopMargin(),this._widthSize=this._adaptor.getConfig().getNavigateWidthSize(),this._distance=800,this._halfWidth=80,this._picking=!1};(Qn.prototype=Object.create(Yn.prototype)).constructor=Qn,Object.assign(Qn.prototype,{create:function(){this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.NAVIGATE_MODULE);var t=this._sceneGraph.getSceneRoot();t.setName("NavigateAssist");var e=new Zt;e.addAttribute(Lr.createNavigateAssist.call(this)),e.addAttribute(new Tr(Tr.LEQUAL,0,.1)),e.addAttribute(new tn),t.setStateSet(e),this._drawActor=this._viewer.getRenderer().createModuleActor($e.NAVIGATE_MODULE);var r=this._viewer.getRenderer().getMainCamera().getViewport(),n=new Sr;n.setViewport(new Xn(r.getX()+r.getWidth()-this._rightMargin-this._widthSize,r.getY()+r.getHeight()-this._topMargin-this._widthSize,this._widthSize,this._widthSize));var i=J.MemoryPool.alloc();J.set(i,0,-this._distance,0);var a=J.MemoryPool.alloc();J.set(a,0,0,0);var o=J.MemoryPool.alloc();J.set(o,0,0,1),n.setModelViewLookAt(i,a,o),J.MemoryPool.free(i),J.MemoryPool.free(a),J.MemoryPool.free(o),n.setProjectionPerspective(Math.PI/180*30,1,1,1200),n.setClearMask(0),this._drawActor.setBaseCamera(n),this._drawActor.setSceneRoot(t),this._viewer.getFactory().getResource().getNavigate().load(this.loadCallback.bind(this))},createGeometry:function(t){var e=this._sceneGraph.getSceneRoot(),r=this._halfWidth,n=2.3*r,i=-1.01*r,a=new Oe(Me.TRIANGLES,0,6),o=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),s=new we(we.ARRAY_BUFFER,o,2),h=[];h.push([-r,-r,-r,r,-r,-r,r,-r,r,r,-r,r,-r,-r,r,-r,-r,-r]),h.push([r,r,-r,-r,r,-r,-r,r,r,-r,r,r,r,r,r,r,r,-r]),h.push([-r,-r,r,r,-r,r,r,r,r,r,r,r,-r,r,r,-r,-r,r]),h.push([-r,r,-r,r,r,-r,r,-r,-r,r,-r,-r,-r,-r,-r,-r,r,-r]),h.push([-r,r,-r,-r,-r,-r,-r,-r,r,-r,-r,r,-r,r,r,-r,r,-r]),h.push([r,-r,-r,r,r,-r,r,r,r,r,r,r,r,-r,r,r,-r,-r]),h.push([-n,-n,i,n,-n,i,n,n,i,n,n,i,-n,n,i,-n,-n,i]);for(var u=[$e.CUBE_FRONT,$e.CUBE_BACK,$e.CUBE_TOP,$e.CUBE_BOTTOM,$e.CUBE_LEFT,$e.CUBE_RIGHT,$e.CUBE_OTHER],c=u.length,l=0;l<c;l++){var g=new be;g.setID(u[l]);var f=new Float32Array(h[l]),A=new we(we.ARRAY_BUFFER,f,3);g.setBufferArray("Vertex",A),g.setPrimitive(a),g.setBufferArray("Texture",s);var d=new Jr;if(d._target=Jr.TEXTURE_2D,d.setInternalFormat(Jr.RGBA),d._magFilter=Jr.LINEAR,d._minFilter=Jr.LINEAR,d._wrapS=Jr.CLAMP_TO_EDGE,d._wrapT=Jr.CLAMP_TO_EDGE,d.setImage(t[l]),g.getStateSet(!0).addAttribute(d,Mt.OVERRIDE),6===l){var p=new Le(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA);g.getStateSet(!0).addAttribute(p,Mt.OVERRIDE)}e.addChild(g)}},loadCallback:function(t){this.createGeometry(t),this._drawActor.apply(this._sceneGraph.getSceneRoot()),this._viewer.requestRedraw()},sync:function(){var t=J.MemoryPool.alloc();J.set(t,0,0,0);var e=J.MemoryPool.alloc(),r=this._viewer.getMainCamera();J.sub(e,r._eye,r._center),J.normalize(e,e),J.scale(e,e,this._distance),this._drawActor.getBaseCamera().setModelViewLookAt(e,t,r._up),J.MemoryPool.free(e),J.MemoryPool.free(t)},resize:function(){var t=this._viewer.getMainCamera().getViewport();this._drawActor.getBaseCamera().getViewport().setViewport(t.getX()+t.getWidth()-this._rightMargin-this._widthSize,t.getY()+t.getHeight()-this._topMargin-this._widthSize,this._widthSize,this._widthSize)},destroy:function(){this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.NAVIGATE_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.NAVIGATE_MODULE),this._viewer.getFactory().getResource().getNavigate().unload(),this._viewer.requestRedraw()},singlePick:function(t,e){var r=this._drawActor.getBaseCamera(),n=r.getViewport(),i=n.getX(),a=n.getY(),o=i+n.getWidth(),s=a+n.getHeight();if(t>i&&t<o&&e>a&&e<s){var h=J.MemoryPool.alloc(),u=J.MemoryPool.alloc();r.computeScreenToWorldNearFarPoint(t,e,h,u,!0);var c=[];this._drawActor.linesegmentIntersect(c,h,u,fr.SELECTION);var l=c.length;if(0!==l)for(var g=0;g<l;g++){var f=c[g].getDrawable().getGeometry();if(f){var A=f.getID();if(A!==$e.CUBE_OTHER){this._adaptor.getOperation($e.ROAMING_FUNCTION).locate(A),this._picking=!0;break}}}J.MemoryPool.free(h),J.MemoryPool.free(u)}}}),Qn.prototype[_r.MOUSE_LEFTPUSH]=function(t){var e=this.getPositionRelativeToCanvas(t,!1);return this.singlePick(e[0],e[1]),this._picking&&this._viewer.requestRedraw(),t.preventDefault(),this._picking},Qn.prototype[_r.MOUSE_LEFTDRAG]=function(t){return this._picking},Qn.prototype[_r.MOUSE_LEFTRELEASE]=function(t){var e=this._picking;return this._picking=!1,e};var Wn=Qn,zn=function(t){_r.call(this,t)};(zn.prototype=Object.create(_r.prototype)).constructor=zn,Object.assign(zn.prototype,{});var qn=zn,Jn=function(t){Mt.call(this),this._width=1,void 0!==t&&(this._width=t)};(Jn.prototype=Object.create(Mt.prototype)).constructor=Jn,Object.assign(Jn.prototype,{typename:"LineWidth",setWidth:function(t){this._width=t},getWidth:function(){return this._width},apply:function(t){t.getWebGLContext().lineWidth(this._width)}});var Kn=Jn,Zn=function(){Mt.call(this),this._frontClipPlane=jt.createFloat4("frontClipPlane"),this._frontClipPlane.setData4([0,1,0,.5]),this._backClipPlane=jt.createFloat4("backClipPlane"),this._backClipPlane.setData4([0,-1,0,.5]),this._topClipPlane=jt.createFloat4("topClipPlane"),this._topClipPlane.setData4([0,0,-1,.5]),this._bottomClipPlane=jt.createFloat4("bottomClipPlane"),this._bottomClipPlane.setData4([0,0,1,.5]),this._leftClipPlane=jt.createFloat4("leftClipPlane"),this._leftClipPlane.setData4([1,0,0,.5]),this._rightClipPlane=jt.createFloat4("rightClipPlane"),this._rightClipPlane.setData4([-1,0,0,.5]),this._useFrontClipPlane=jt.createInt("useFrontClipPlane"),this._useFrontClipPlane.setData(1),this._useBackClipPlane=jt.createInt("useBackClipPlane"),this._useBackClipPlane.setData(1),this._useTopClipPlane=jt.createInt("useTopClipPlane"),this._useTopClipPlane.setData(1),this._useBottomClipPlane=jt.createInt("useBottomClipPlane"),this._useBottomClipPlane.setData(1),this._useLeftClipPlane=jt.createInt("useLeftClipPlane"),this._useLeftClipPlane.setData(1),this._useRightClipPlane=jt.createInt("useRightClipPlane"),this._useRightClipPlane.setData(1)};(Zn.prototype=Object.create(Mt.prototype)).constructor=Zn,Object.assign(Zn.prototype,{typename:"CubeClip",getClipPlanes:function(t){t.push(re.copy(re.new(),this._frontClipPlane.getData())),t.push(re.copy(re.new(),this._backClipPlane.getData())),t.push(re.copy(re.new(),this._topClipPlane.getData())),t.push(re.copy(re.new(),this._bottomClipPlane.getData())),t.push(re.copy(re.new(),this._leftClipPlane.getData())),t.push(re.copy(re.new(),this._rightClipPlane.getData()))},resetClipPlane:function(){W.set(this._frontClipPlane.getData(),0,1,0,.5),W.set(this._backClipPlane.getData(),0,-1,0,.5),W.set(this._topClipPlane.getData(),0,0,-1,.5),W.set(this._bottomClipPlane.getData(),0,0,1,.5),W.set(this._leftClipPlane.getData(),1,0,0,.5),W.set(this._rightClipPlane.getData(),-1,0,0,.5)},transformClipPlane:function(t){var e=te.MemoryPool.alloc();te.invert(e,t),re.transformMat4(this._frontClipPlane.getData(),e),re.transformMat4(this._backClipPlane.getData(),e),re.transformMat4(this._topClipPlane.getData(),e),re.transformMat4(this._bottomClipPlane.getData(),e),re.transformMat4(this._leftClipPlane.getData(),e),re.transformMat4(this._rightClipPlane.getData(),e),te.MemoryPool.free(e)},getClipPlane:function(t){switch(t){case $e.CUBE_FRONT:return this._frontClipPlane.getData();case $e.CUBE_BACK:return this._backClipPlane.getData();case $e.CUBE_TOP:return this._topClipPlane.getData();case $e.CUBE_BOTTOM:return this._bottomClipPlane.getData();case $e.CUBE_LEFT:return this._leftClipPlane.getData();case $e.CUBE_RIGHT:return this._rightClipPlane.getData()}},getOppositeClipPlane:function(t){switch(t){case $e.CUBE_FRONT:return this._backClipPlane.getData();case $e.CUBE_BACK:return this._frontClipPlane.getData();case $e.CUBE_TOP:return this._bottomClipPlane.getData();case $e.CUBE_BOTTOM:return this._topClipPlane.getData();case $e.CUBE_LEFT:return this._rightClipPlane.getData();case $e.CUBE_RIGHT:return this._leftClipPlane.getData()}},apply:function(t){this._frontClipPlane.apply(t),this._backClipPlane.apply(t),this._topClipPlane.apply(t),this._bottomClipPlane.apply(t),this._leftClipPlane.apply(t),this._rightClipPlane.apply(t),this._useFrontClipPlane.apply(t),this._useBackClipPlane.apply(t),this._useTopClipPlane.apply(t),this._useBottomClipPlane.apply(t),this._useLeftClipPlane.apply(t),this._useRightClipPlane.apply(t)}});var $n=Zn,ti=function(t){qn.call(this,t),this._showed=!0,this._cubeRoot=void 0,this._cubeClip=void 0,this._selectState=void 0,this._selectFace=void 0,this._clipBox=new ie,this._scaling=J.create(1,1,1),this._translate=J.new(),this._rotation=Qr.new(),this._scaleMatrix=te.new(),this._translateMatrix=te.new(),this._rotateMatrix=te.new()};ti.gCubeSectionOffset=10,(ti.prototype=Object.create(qn.prototype)).constructor=ti,Object.assign(ti.prototype,{getPlanes:function(t){this._cubeClip&&this._cubeClip.getClipPlanes(t)},sync:function(){if(this._selectFace){var t=this._viewer.getMainCamera(),e=this._pickEvent.getLast(),r=e[0],n=e[1],i=this._pickEvent.getCurrent(),a=i[0],o=i[1],s=a-r,h=o-n;if(Math.abs(s)<F.EPSILON&&Math.abs(h)<F.EPSILON)return;var u=J.MemoryPool.alloc(),c=J.MemoryPool.alloc();t.computeScreenToWorldNearFarPoint(r,n,u,c);var l=this._cubeClip.getClipPlane(this._selectFace.getName()),g=J.MemoryPool.alloc();if(re.intersectLine(g,u,c,l)){var f=J.MemoryPool.alloc();t.computeWorldToScreen(g,f),J.set(f,a,o,f[2]);var A=J.MemoryPool.alloc();t.computeScreenToWorld(f,A),J.sub(f,A,g);var d=J.dot(l,f);this.move(d),J.MemoryPool.free(A),J.MemoryPool.free(f)}J.MemoryPool.free(g),J.MemoryPool.free(u),J.MemoryPool.free(c),this._pickEvent.sync()}},update:function(){if(this._clipBox.copy(this._viewer.getComponentGraph().getBoundingBox()),this._clipBox.valid()){var t=this._clipBox.getMin();t[0]-=ti.gCubeSectionOffset,t[1]-=ti.gCubeSectionOffset,t[2]-=ti.gCubeSectionOffset;var e=this._clipBox.getMax();e[0]+=ti.gCubeSectionOffset,e[1]+=ti.gCubeSectionOffset,e[2]+=ti.gCubeSectionOffset,this._clipBox.getCenter(this._translate),J.sub(this._scaling,e,t)}else J.set(this._translate,0,0,0),J.set(this._scaling,1,1,1),W.set(this._rotation,0,0,0,1);this.updateTransform()},create:function(){this._showed=!0,this._selectFace=void 0;var t=this._viewer.getComponentGraph().getRootStateSet();t.addAttribute(Lr.createClipDefault.call(this)),this._cubeClip=new $n,t.addAttribute(this._cubeClip),this._viewer.getRenderer().getComponentActor().setClipBox(this._clipBox),this._viewer.getComponentGraph().setClipBox(this._clipBox),this._selectState=new Zt,this._selectState.addAttribute(new Qt([0,1,1,.4]),Mt.OVERRIDE),this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.SECTION_MODULE);var e=this._sceneGraph.getSceneRoot();e.setName("CubeSection");var r=new Zt;r.addAttribute(Lr.createColorDefault.call(this));var n=this._viewer.getMainCamera().getClearColor();r.addAttribute(new Qt([n[0],n[1],n[2],.1])),r.addAttribute(new Le(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA)),r.addAttribute(new Tr(Tr.LESS,.2,.9,!1)),e.setStateSet(r),this._cubeRoot=new Ce(!0),e.addChild(this._cubeRoot),this.createCubeGeometry(),this._drawActor=this._viewer.getRenderer().createModuleActor($e.SECTION_MODULE),this._drawActor.setSceneRoot(e),this.update(),this._viewer.requestRedraw()},destroy:function(){var t=this._viewer.getComponentGraph().getRootStateSet();t.addAttribute(Lr.createSolidDefault.call(this)),t.removeAttribute("CubeClip"),this._viewer.getRenderer().getComponentActor().setClipBox(void 0),this._viewer.getComponentGraph().setClipBox(void 0),this._showed=!0,this._cubeRoot=void 0,this._cubeClip=void 0,this._selectState=void 0,this._selectFace=void 0,this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.SECTION_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.SECTION_MODULE),this._viewer.requestRedraw()},reset:function(){this.show(),this.update(),this._viewer.requestRedraw()},show:function(){this._showed||(this._drawActor.valid(!0),this._showed=!0,this._viewer.requestRedraw())},hide:function(){this._showed&&(this._drawActor.valid(!1),this._showed=!1,this._viewer.requestRedraw())},showed:function(){return this._showed},mode:function(){},singlePick:function(t,e){var r=this._viewer.getMainCamera(),n=J.MemoryPool.alloc(),i=J.MemoryPool.alloc();r.computeScreenToWorldNearFarPoint(t,e,n,i);var a=[];if(this._drawActor.linesegmentIntersect(a,n,i,fr.SELECTION),0!==a.length){var o=a[0].getDrawable().getGeometry();o&&(this._selectFace=o,this._selectFace.setStateSet(this._selectState))}return J.MemoryPool.free(n),J.MemoryPool.free(i),void 0!==this._selectFace},move:function(t){var e=this._selectFace.getName(),r=this._cubeClip.getClipPlane(e),n=te.MemoryPool.alloc(),i=J.MemoryPool.alloc();J.scale(i,r,t);var a=W.MemoryPool.alloc();W.copy(a,r),te.fromTranslation(n,i),re.transformMat4(a,n,!0);var o=this._cubeClip.getOppositeClipPlane(e),s=o[3]+a[3];if(!(s<1e-4)){var h=s/(o[3]+r[3]);switch(e){case $e.CUBE_FRONT:case $e.CUBE_BACK:this._scaling[1]*=h;break;case $e.CUBE_TOP:case $e.CUBE_BOTTOM:this._scaling[2]*=h;break;case $e.CUBE_LEFT:case $e.CUBE_RIGHT:this._scaling[0]*=h}J.scale(i,r,.5*t),J.add(this._translate,this._translate,i),W.MemoryPool.free(a),J.MemoryPool.free(i),te.MemoryPool.free(n),this.updateTransform()}},updateTransform:function(){var t=this._cubeRoot.getMatrix();te.fromScaling(this._scaleMatrix,this._scaling),te.fromTranslation(this._translateMatrix,this._translate),te.fromQuat(this._rotateMatrix,this._rotation),te.mul(t,this._translateMatrix,this._rotateMatrix),te.mul(t,t,this._scaleMatrix),this._cubeClip.resetClipPlane(),this._cubeClip.transformClipPlane(t),this._clipBox.setMaxValue(.5,.5,.5),this._clipBox.setMinValue(-.5,-.5,-.5),this._clipBox.transformMat4(t)},createCubeGeometry:function(){var t=.5,e=new Float32Array([t,t,t,-t,t,t,t,-t,t,-t,-t,t,t,t,-t,-t,t,-t,t,-t,-t,-t,-t,-t]),r=new we(we.ARRAY_BUFFER,e,3),n=new be,i=new we(we.ELEMENT_ARRAY_BUFFER,new Int8Array([0,1,2,3,4,5,6,7,0,2,1,3,4,6,5,7,0,4,1,5,2,6,3,7]),1),a=new Re(Me.LINES,i);n.setBufferArray("Vertex",r),n.setPrimitive(a);var o=new Zt;o.addAttribute(new Qt([1,1,0,1])),o.addAttribute(new Kn(1)),n.setStateSet(o),this._cubeRoot.addChild(n);var s=[];s.push([7,6,2,2,3,7]),s.push([4,5,1,1,0,4]),s.push([3,2,0,0,1,3]),s.push([5,4,6,6,7,5]),s.push([5,7,3,3,1,5]),s.push([6,4,0,0,2,6]);for(var h=[$e.CUBE_FRONT,$e.CUBE_BACK,$e.CUBE_TOP,$e.CUBE_BOTTOM,$e.CUBE_LEFT,$e.CUBE_RIGHT],u=0;u<6;u++){var c=new be;c.setName(h[u]),c.setBufferArray("Vertex",r);var l=new Int8Array(s[u]),g=new we(we.ELEMENT_ARRAY_BUFFER,l,1),f=new Re(Me.TRIANGLES,g);c.setPrimitive(f),this._cubeRoot.addChild(c)}},pickPush:function(t){if(!this._showed)return!1;var e=this.getPositionRelativeToCanvas(t,!0);return this._pickEvent.setInitial(e[0],e[1]),this.singlePick(e[0],e[1]),this._viewer.requestRedraw(),t.preventDefault(),!0},pickDrag:function(t){if(!this._showed)return!1;var e=this.getPositionRelativeToCanvas(t,!0);return this._pickEvent.setCurrent(e[0],e[1]),this._viewer.requestRedraw(),t.preventDefault(),!0},pickRelease:function(t){return!!this._showed&&(this._selectFace&&(this._selectFace.setStateSet(void 0),this._selectFace=void 0,this._viewer.requestRedraw()),t.preventDefault(),!0)},invalid:function(t){return this.pickRelease(t)},setMaterial:function(t,e,r,n){this._sceneGraph.getSceneRoot().getStateSet().getAttribute("MaterialColor").setAmbient([t,e,r,n]),this._viewer.requestRedraw()}});var ei=ti,ri={RED:1,GREEN:2,BLUE:3,BLACK:4,WHITE:5,YELLOW:6,ORANGE:7,SKYBLUE:8,GRAY:9,SILVER:10,DARKORANGE:11,GOLD:12,CYAN:13,PURPLE:14,PINK:15,BROWN:16,CHOCOLATE:17,DARKRED:18,DARKGREEN:19,INDIANRED:20,HOTPINK:21};Object.freeze(ri);var ni=ri,ii={POINT_NAME:"POINT",LINE_NAME:"LINE",TEXT_NAME:"TEXT",ARROW_NAME:"ARROW"};ii.POINT_COLOR=ni.BLACK,ii.ARROW_COLOR=ni.RED,ii.TEXT_COLOR=ni.WHITE,ii.PICK_COLOR=ni.YELLOW,ii.DOT_LINE_COLOR=ni.HOTPINK,ii.LENGTH_LINE_COLOR=ni.ORANGE,ii.ANGLE_LINE_COLOR=ni.SKYBLUE,ii.DISTANCE_LINE_COLOR=ni.GREEN,ii.CAPTURE_MAX_DISTANCE=50,ii.CAPTURE_MAX_DISTANCE_SQUARE=2500,ii.TEXT_SIZE=10,ii.SHPERE_RADIUS=50,ii.SHPERE_RADIUS_SQUARE=2500,ii.SHPERE_TESSELLATION=12,ii.CYLINDER_RADIUS=20,ii.CYLINDER_TESSELLATION=8,ii.CONE_RADIUS=60,ii.CONE_HEIGHT=200,ii.CONE_TESSELLATION=8;var ai=ii,oi=function(t){this._viewer=t,this._root=new ge,this._count=0,this._finished=!1};Object.assign(oi.prototype,{root:function(){return this._root},ID:function(){return this._root.getID()},count:function(){return this._count},finished:function(){return this._finished},release:function(){var t=new At;t.setNodeMaskOverride(-1),t.reset(),t.apply(this._root)},type:function(){},points:function(){},load:function(t){},click:function(t){},move:function(t){},drag:function(t,e){},finish:function(){return!1},update:function(){},intersectPoint:function(t){},highlight:function(t){t.setStateSet(this._viewer.getStateset().getPureColor(ai.PICK_COLOR))},unhighlight:function(t){},valid:function(t){}});var si=oi,hi=function(t){Fr.call(this),Jt.isNumberType(t)?this._tessellation=t:this._tessellation=F.SHAPE_TESSELLATION_LEVEL};(hi.prototype=Object.create(Fr.prototype)).constructor=hi,Object.assign(hi.prototype,{});var ui=hi,ci=function(t,e,r){ui.call(this,r),this._center=J.new(),t&&J.copy(this._center,t),this._radius=0,e&&(this._radius=e),this._vertices=void 0,this.init()};(ci.prototype=Object.create(ui.prototype)).constructor=ui,Object.assign(ci.prototype,{setValue:function(t,e){J.copy(this._center,t),this._radius=e,this.reset()},setCenter:function(t){J.copy(this._center,t),this.reset()},getCenter:function(){return this._center},setRadius:function(t){this._radius=t,this.reset()},getRadius:function(){return this._radius},init:function(){var t,e,r,n,i,a,o,s,h,u,c=this._tessellation,l=c*c*3;this._vertices=new Float32Array(l);for(var g=new Float32Array(l),f=new Float32Array(l),A=[],d=0,p=F.PI/(c-1),_=F._2_PI/(c-1),C=0;C<c;C++){i=C*p,a=Math.sin(i),o=Math.cos(i);for(var I=[],m=0;m<c;m++)n=m*_,t=-Math.cos(n)*a,e=o,r=Math.sin(n)*a,s=3*d,h=3*d+1,u=3*d+2,this._vertices[s]=t,this._vertices[h]=e,this._vertices[u]=r,f[s]=t,f[h]=e,f[u]=r,t=t*this._radius+this._center[0],e=e*this._radius+this._center[1],r=r*this._radius+this._center[2],g[s]=t,g[h]=e,g[u]=r,I.push(d++);A.push(I)}var v=new we(we.ARRAY_BUFFER,g,3);this.setBufferArray("Vertex",v);var y=new we(we.ARRAY_BUFFER,f,3);this.setBufferArray("Normal",y);for(var E=[],w=0;w<c-1;w++)for(var S=0;S<c-1;S++){var b=A[w][S+1],T=A[w][S],M=A[w+1][S],P=A[w+1][S+1];0!==w&&E.push(b,T,P),w!==c-2&&E.push(T,M,P)}var R=new we(we.ELEMENT_ARRAY_BUFFER,new Uint8Array(E),1);this.setPrimitive(new Re(Me.TRIANGLES,R))},reset:function(){for(var t,e,r,n=this.getBufferArray("Vertex"),i=n.getArrayBuffer(),a=this._tessellation,o=0,s=0;s<a;s++)for(var h=0;h<a;h++)e=3*o+1,r=3*o+2,i[t=3*o]=this._vertices[t]*this._radius+this._center[0],i[e]=this._vertices[e]*this._radius+this._center[1],i[r]=this._vertices[r]*this._radius+this._center[2],o++;n.change()}});var li=ci,gi=function(t,e,r,n){ui.call(this,n),this._radius=1,t&&(this._radius=t),this._start=J.new(),e&&J.copy(this._start,e),this._end=J.new(),r&&J.copy(this._end,r),this._vertices=void 0,this.init()};(gi.prototype=Object.create(ui.prototype)).constructor=ui,Object.assign(gi.prototype,{setValue:function(t,e,r){this._radius=t,J.copy(this._start,e),J.copy(this._end,r),this.reset()},setStart:function(t){J.copy(this._start,t),this.reset()},setEnd:function(t){J.copy(this._end,t),this.reset()},setRadius:function(t){this._radius=t,this.reset()},init:function(){var t=this._tessellation,e=F._2_PI/t,r=3*t;this._vertices=new Float32Array(r);var n=new Float32Array(4*r),i=new Float32Array(4*r),a=[],o=new we(we.ARRAY_BUFFER,n,3);this.setBufferArray("Vertex",o);var s=new we(we.ARRAY_BUFFER,i,3);this.setBufferArray("Normal",s);for(var h=0;h<t;h++)this._vertices[3*h]=Math.cos(e*h),this._vertices[3*h+1]=Math.sin(e*h),this._vertices[3*h+2]=0;for(var u=0;u<t;u++)u<t-1?(a.push(u),a.push(u+1),a.push(t+1+u),a.push(u),a.push(t+1+u),a.push(t+u)):(a.push(u),a.push(0),a.push(t),a.push(u),a.push(t),a.push(t+u));for(var c=2*t,l=3*t,g=c;g<l;g++)g>c&&g<l-1&&(a.push(g+1),a.push(g),a.push(c));l=4*t;for(var f=c=3*t;f<l;f++)f>c&&f<l-1&&(a.push(c),a.push(f),a.push(f+1));var A=new we(we.ELEMENT_ARRAY_BUFFER,new Uint8Array(a),1);this.setPrimitive(new Re(Me.TRIANGLES,A)),this.reset()},reset:function(){var t=J.MemoryPool.alloc(),e=J.MemoryPool.alloc(),r=J.MemoryPool.alloc();J.sub(t,this._end,this._start),0===J.normalize(e,t)&&(J.set(t,0,0,1),J.set(e,0,0,1));var n=te.MemoryPool.alloc();if(Math.abs(Math.abs(e[2])-1)<F.EPSILON)te.identity(n);else{var i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc();J.set(i,0,0,1),J.cross(a,i,e);var o=J.angle(i,e);te.fromRotation(n,o,a),J.MemoryPool.free(i),J.MemoryPool.free(a)}te.setTranslation(n,this._start);for(var s=this.getBufferArray("Vertex"),h=s.getArrayBuffer(),u=this.getBufferArray("Normal"),c=u.getArrayBuffer(),l=this._tessellation,g=3*l,f=0;f<l;f++){var A=[this._vertices[3*f],this._vertices[3*f+1],this._vertices[3*f+2]];J.scale(A,A,this._radius),J.transformMat4(A,A,n),h[3*f]=A[0],h[3*f+1]=A[1],h[3*f+2]=A[2],J.sub(r,A,this._start),J.normalize(r,r),c[3*f]=r[0],c[3*f+1]=r[1],c[3*f+2]=r[2],J.add(A,A,t),h[3*f+g]=A[0],h[3*f+g+1]=A[1],h[3*f+g+2]=A[2],c[3*f+g]=r[0],c[3*f+g+1]=r[1],c[3*f+g+2]=r[2]}te.MemoryPool.free(n);for(var d=2*g,p=0;p<l;p++)h[3*p+d]=h[3*p],h[3*p+d+1]=h[3*p+1],h[3*p+d+2]=h[3*p+2],c[3*p+d]=-e[0],c[3*p+d+1]=-e[1],c[3*p+d+2]=-e[2];d=3*l;for(var _=0;_<l;_++)h[3*_+d]=h[3*_+g],h[3*_+d+1]=h[3*_+g+1],h[3*_+d+2]=h[3*_+g+2],c[3*_+d]=e[0],c[3*_+d+1]=e[1],c[3*_+d+2]=e[2];J.MemoryPool.free(t),J.MemoryPool.free(e),J.MemoryPool.free(r),s.change(),u.change()}});var fi=gi,Ai=function(){be.call(this),this._text="",this._position=J.new(),this._size=Z.TEXT_SIZE,this._font=void 0,this._changed=!0};(Ai.prototype=Object.create(be.prototype)).constructor=Ai,Object.assign(Ai.prototype,{setText:function(t){Jt.isStringType(t)&&this._text!==t&&(this._text=t,this._changed=!0)},setFont:function(t){this._font!==t&&(this._font=t,this.setStateSet(t.getStateSet()),this._changed=!0)},setSize:function(t){Jt.isNumberType(t)&&(this._size=t)},setColor:function(){},setPosition:function(t){J.copy(this._position,t)},setMode:function(){},setAlignment:function(){},reset:function(){if(this._changed&&void 0!==this._font){var t=this._text.length;if(0!==t){for(var e=[],r=.7*this._size,n=0;n<t;n++)e.push(n*r,this._size,0,n*r,0,0,(n+1)*r,this._size,0,(n+1)*r,0,0);var i=new we(we.ARRAY_BUFFER,new Float32Array(e),3);this.setBufferArray("Vertex",i);var a=new Float32Array(this._font.numberUV(this._text)),o=new we(we.ARRAY_BUFFER,a,2);this.setBufferArray("Texture",o);for(var s=[],h=0;h<t;h++)s.push(4*h,4*h+1,4*h+3,4*h+3,4*h+2,4*h);var u=new we(we.ELEMENT_ARRAY_BUFFER,new Int8Array(s),1);this.setPrimitive(new Re(Me.TRIANGLES,u)),this._changed=!1}}},update:function(t,e){var r=J.MemoryPool.alloc(),n=e.getUp();if(J.sub(r,e.getEye(),this._position),0!==J.normalize(r,r)){var i=J.MemoryPool.alloc();J.cross(i,n,r),J.normalize(i,i);var a=te.MemoryPool.alloc();te.set(a,i[0],i[1],i[2],0,n[0],n[1],n[2],0,r[0],r[1],r[2],0,this._position[0],this._position[1],this._position[2],1),te.multiply(t,t,a),te.MemoryPool.free(a),J.MemoryPool.free(i)}J.MemoryPool.free(r)}}),Ai.typeID=Ai.prototype.typeID=p.TEXT_TYPE;var di=Ai,pi=function(t){si.call(this,t),this._startGeom=void 0,this._endGeom=void 0,this._lineGeom=void 0,this._lengthText=void 0,this._length=0,this._Xlength=0,this._Ylength=0,this._Zlength=0};(pi.prototype=Object.create(si.prototype)).constructor=pi,Object.assign(pi.prototype,{type:function(){return L.DOT},points:function(){var t=[],e=J.new();J.copy(e,this._startGeom.getCenter()),t.push(e);var r=J.new();return J.copy(r,this._endGeom.getCenter()),t.push(r),t},load:function(t){this._startGeom=new li(t[0],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineGeom=new fi(ai.CYLINDER_RADIUS,t[0],t[1],ai.CYLINDER_TESSELLATION),this._lineGeom.setName(ai.LINE_NAME),this._lineGeom.setReference(this),this._lineGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.DOT_LINE_COLOR)),this._root.addChild(this._lineGeom),this._endGeom=new li(t[1],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText),this._finished=!0,this._count=2,this.update()},getLength:function(){return this._length},getXLength:function(){return this._Xlength},getYLength:function(){return this._Ylength},getZLength:function(){return this._Zlength},setStartPos:function(t){this._startGeom.setCenter(t),this._lineGeom.setStart(t),this.update()},setEndPos:function(t){this._lineGeom.setEnd(t),this._endGeom.setCenter(t),this.update()},click:function(t){var e=t.getPoint();return 0===this._count?(this._startGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineGeom=new fi(ai.CYLINDER_RADIUS,e,e,ai.CYLINDER_TESSELLATION),this._lineGeom.setName(ai.LINE_NAME),this._lineGeom.setReference(this),this._lineGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.DOT_LINE_COLOR)),this._root.addChild(this._lineGeom),this._endGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText)):(this.setEndPos(e),this._finished=!0,this.update()),this._count++,!0},move:function(t){var e=t.getPoint();this.setEndPos(e)},drag:function(t,e){var r=e.getPoint();t===this._startGeom?this.setStartPos(r):t===this._endGeom?this.setEndPos(r):this._lineGeom},update:function(){var t=J.MemoryPool.alloc();J.sub(t,this._endGeom.getCenter(),this._startGeom.getCenter()),this._length=J.len(t)*F.MILLIMETER_PER_METER,this._Xlength=Math.abs(t[0])*F.MILLIMETER_PER_METER,this._Ylength=Math.abs(t[1])*F.MILLIMETER_PER_METER,this._Zlength=Math.abs(t[2])*F.MILLIMETER_PER_METER,J.add(t,this._endGeom.getCenter(),this._startGeom.getCenter()),J.scale(t,t,.5),this._lengthText.setPosition(t),this._lengthText.setText(this._length.toFixed(3)),J.MemoryPool.free(t)},intersectPoint:function(t){return J.sqrDist(this._startGeom.getCenter(),t)<ai.SHPERE_RADIUS_SQUARE?this._startGeom:J.sqrDist(this._endGeom.getCenter(),t)<ai.SHPERE_RADIUS_SQUARE?this._endGeom:void 0},unhighlight:function(t){t.getName()===ai.POINT_NAME?t.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)):t.getName()===ai.LINE_NAME&&t.setStateSet(this._viewer.getStateset().getPureColor(ai.DOT_LINE_COLOR))},valid:function(t){return!0}});var _i=pi,Ci=function(t){si.call(this,t),this._startGeom=void 0,this._endGeom=void 0,this._middleGeom=void 0,this._lineSMGeom=void 0,this._lineMEGeom=void 0,this._angleText=void 0,this._angle=0,this._lengthSM=0,this._lengthME=0};(Ci.prototype=Object.create(si.prototype)).constructor=Ci,Object.assign(Ci.prototype,{type:function(){return L.ANGLE},points:function(){var t=[],e=J.new();J.copy(e,this._startGeom.getCenter()),t.push(e);var r=J.new();J.copy(r,this._middleGeom.getCenter()),t.push(r);var n=J.new();return J.copy(n,this._endGeom.getCenter()),t.push(n),t},load:function(t){this._startGeom=new li(t[0],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineSMGeom=new fi(ai.CYLINDER_RADIUS,t[0],t[1],ai.CYLINDER_TESSELLATION),this._lineSMGeom.setName(ai.LINE_NAME),this._lineSMGeom.setReference(this),this._lineSMGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.ANGLE_LINE_COLOR)),this._root.addChild(this._lineSMGeom),this._middleGeom=new li(t[1],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._middleGeom.setName(ai.POINT_NAME),this._middleGeom.setReference(this),this._middleGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._middleGeom),this._lineMEGeom=new fi(ai.CYLINDER_RADIUS,t[1],t[2],ai.CYLINDER_TESSELLATION),this._lineMEGeom.setName(ai.LINE_NAME),this._lineMEGeom.setReference(this),this._lineMEGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.ANGLE_LINE_COLOR)),this._root.addChild(this._lineMEGeom),this._endGeom=new li(t[2],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this._angleText=new di,this._angleText.setName(ai.TEXT_NAME),this._angleText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._angleText),this._finished=!0,this._count=3,this.update()},getAngle:function(){return this._angle},getSMLength:function(){return this._lengthSM},getMELength:function(){return this._lengthME},setStartPos:function(t){this._startGeom.setCenter(t),this._lineSMGeom.setStart(t),this.update()},setEndPos:function(t){this._lineMEGeom.setEnd(t),this._endGeom.setCenter(t),this.update()},setMiddlePos:function(t){this._middleGeom.setCenter(t),this._lineSMGeom.setEnd(t),this._lineMEGeom&&(this._lineMEGeom.setStart(t),this.update())},click:function(t){var e=t.getPoint();if(0===this._count)this._startGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineSMGeom=new fi(ai.CYLINDER_RADIUS,e,e,ai.CYLINDER_TESSELLATION),this._lineSMGeom.setName(ai.LINE_NAME),this._lineSMGeom.setReference(this),this._lineSMGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.ANGLE_LINE_COLOR)),this._root.addChild(this._lineSMGeom),this._middleGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._middleGeom.setName(ai.POINT_NAME),this._middleGeom.setReference(this),this._middleGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._middleGeom),this._angleText=new di,this._angleText.setName(ai.TEXT_NAME),this._angleText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._angleText);else if(1===this._count){if(J.equals(this._startGeom.getCenter(),e,ai.SHPERE_RADIUS))return!1;this._middleGeom.setCenter(e),this._lineSMGeom.setEnd(e),this._lineMEGeom=new fi(ai.CYLINDER_RADIUS,e,e,ai.CYLINDER_TESSELLATION),this._lineMEGeom.setName(ai.LINE_NAME),this._lineMEGeom.setReference(this),this._lineMEGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.ANGLE_LINE_COLOR)),this._root.addChild(this._lineMEGeom),this._endGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this.update()}else if(2===this._count){if(J.equals(this._startGeom.getCenter(),e,ai.SHPERE_RADIUS))return!1;if(J.equals(this._middleGeom.getCenter(),e,ai.SHPERE_RADIUS))return!1;this._lineMEGeom.setEnd(e),this._endGeom.setCenter(e),this._finished=!0,this.update()}return this._count++,!0},move:function(t){var e=t.getPoint();1===this._count?this.setMiddlePos(e):2===this._count&&this.setEndPos(e)},drag:function(t,e){var r=e.getPoint();t===this._startGeom?this.setStartPos(r):t===this._endGeom?this.setEndPos(r):t===this._middleGeom?this.setMiddlePos(r):t===this._lineSMGeom||this._lineMEGeom},update:function(){var t=J.MemoryPool.alloc();J.sub(t,this._startGeom.getCenter(),this._middleGeom.getCenter()),this._lengthSM=J.normalize(t,t)*F.MILLIMETER_PER_METER;var e=J.MemoryPool.alloc();J.sub(e,this._endGeom.getCenter(),this._middleGeom.getCenter()),this._lengthME=J.normalize(e,e)*F.MILLIMETER_PER_METER;var r=J.dot(t,e);this._angle=F.radian_to_degree(Math.acos(r)),this._angleText.setPosition(this._middleGeom.getCenter()),this._angleText.setText(this._angle.toFixed(2)),J.MemoryPool.free(t),J.MemoryPool.free(e)},intersectPoint:function(t){for(var e=this._root._children.length,r=0;r<e;r++){var n=this._root._children[r];if(n.getName()===ai.POINT_NAME&&J.sqrDist(n.getCenter(),t)<ai.SHPERE_RADIUS_SQUARE)return n}},unhighlight:function(t){t.getName()===ai.POINT_NAME?t.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)):t.getName()===ai.LINE_NAME&&t.setStateSet(this._viewer.getStateset().getPureColor(ai.ANGLE_LINE_COLOR))}});var Ii=Ci,mi=function(t){si.call(this,t),this._points=[],this._lines=[],this._lengthText=void 0,this._lastPoint=void 0,this._lastLine=void 0};(mi.prototype=Object.create(si.prototype)).constructor=mi,Object.assign(mi.prototype,{type:function(){return L.LENGTH},points:function(){for(var t=[],e=this._points.length,r=0;r<e;r++){var n=this._points[r],i=J.new();J.copy(i,n.getCenter()),t.push(i)}return t},load:function(t){for(var e=t.length,r=0;r<e-1;r++){var n=new li(t[r],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION);n.setName(ai.POINT_NAME),n.setReference(this),n.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(n),this._points.push(n);var i=new fi(ai.CYLINDER_RADIUS,t[r],t[r+1],ai.CYLINDER_TESSELLATION);i.setName(ai.LINE_NAME),i.setReference(this),i.setStateSet(this._viewer.getStateset().getPureColor(ai.LENGTH_LINE_COLOR)),this._root.addChild(i),this._lines.push(i);var a=new li(t[r+1],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION);a.setName(ai.POINT_NAME),a.setReference(this),a.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(a),this._points.push(a)}this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText),this._finished=!0,this._count=e,this.update()},click:function(t){var e=t.getPoint();if(0===this._count){var r=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION);r.setName(ai.POINT_NAME),r.setReference(this),r.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(r),this._points.push(r),this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText)}else{if(!this.valid(e))return!1;this._lastPoint.setCenter(e),this._points.push(this._lastPoint),this._lastLine.setEnd(e),this._lines.push(this._lastLine),this.update()}var n=new fi(ai.CYLINDER_RADIUS,e,e,ai.CYLINDER_TESSELLATION);n.setName(ai.LINE_NAME),n.setReference(this),n.setStateSet(this._viewer.getStateset().getPureColor(ai.LENGTH_LINE_COLOR)),this._root.addChild(n),this._lastLine=n;var i=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION);return i.setName(ai.POINT_NAME),i.setReference(this),i.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(i),this._lastPoint=i,this._count++,!0},move:function(t){var e=t.getPoint();this._lastPoint.setCenter(e),this._lastLine.setEnd(e),this.update()},drag:function(t,e){for(var r=e.getPoint(),n=this._points.length,i=0;i<n;i++){var a=this._points[i];a===t&&(a.setCenter(r),0===i?this._lines[i].setStart(r):i===n-1?this._lines[i-1].setEnd(r):(this._lines[i-1].setEnd(r),this._lines[i].setStart(r)))}this.update()},finish:function(){return 1!==this._count&&(this._root.removeChild(this._lastPoint),this._root.removeChild(this._lastLine),this._lastPoint.releaseGLObjects(),this._lastLine.releaseGLObjects(),this._lastPoint=void 0,this._lastLine=void 0,this._finished=!0,this.update(),!0)},update:function(){for(var t=J.MemoryPool.alloc(),e=0,r=this._points.length,n=0;n<r-1;n++)J.sub(t,this._points[n].getCenter(),this._points[n+1].getCenter()),e+=J.len(t);this._lastPoint?(J.sub(t,this._points[n].getCenter(),this._lastPoint.getCenter()),e+=J.len(t),this._lengthText.setPosition(this._lastPoint.getCenter())):this._lengthText.setPosition(this._points[n].getCenter()),e*=F.MILLIMETER_PER_METER,this._lengthText.setText(e.toFixed(3)),J.MemoryPool.free(t)},intersectPoint:function(t){for(var e=this._points.length,r=0;r<e;r++)if(J.sqrDist(this._points[r].getCenter(),t)<ai.SHPERE_RADIUS_SQUARE)return this._points[r]},unhighlight:function(t){t.getName()===ai.POINT_NAME?t.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)):t.getName()===ai.LINE_NAME&&t.setStateSet(this._viewer.getStateset().getPureColor(ai.LENGTH_LINE_COLOR))},valid:function(t){for(var e=this._points.length,r=0;r<e;r++)if(J.sqrDist(this._points[r].getCenter(),t)<ai.SHPERE_RADIUS_SQUARE)return!1;return!0}});var vi=mi,yi=function(t,e,r,n){ui.call(this,n),this._radius=1,t&&(this._radius=t),this._center=J.new(),e&&J.copy(this._center,e),this._arrow=J.new(),r&&J.copy(this._arrow,r),this._vertices=void 0,this.init()};(yi.prototype=Object.create(ui.prototype)).constructor=ui,Object.assign(yi.prototype,{setValue:function(t,e,r){this._radius=t,J.copy(this._center,e),J.copy(this._arrow,r),this.reset()},setCenter:function(t){J.copy(this._center,t),this.reset()},setArrow:function(t){J.copy(this._arrow,t),this.reset()},setRadius:function(t){this._radius=t,this.reset()},init:function(){var t=this._tessellation,e=F._2_PI/t,r=3*t;this._vertices=new Float32Array(r);var n=new Float32Array(3*r),i=new Float32Array(3*r),a=[],o=new we(we.ARRAY_BUFFER,n,3);this.setBufferArray("Vertex",o);var s=new we(we.ARRAY_BUFFER,i,3);this.setBufferArray("Normal",s);for(var h=0;h<t;h++)this._vertices[3*h]=Math.cos(e*h),this._vertices[3*h+1]=Math.sin(e*h),this._vertices[3*h+2]=0;for(var u=0;u<t;u++)u<t-1?(a.push(u),a.push(u+1),a.push(t+1+u),a.push(u),a.push(t+1+u),a.push(t+u)):(a.push(u),a.push(0),a.push(t),a.push(u),a.push(t),a.push(t+u));for(var c=2*t,l=3*t,g=c;g<l;g++)g>c&&g<l-1&&(a.push(g+1),a.push(g),a.push(0));var f=new we(we.ELEMENT_ARRAY_BUFFER,new Uint8Array(a),1);this.setPrimitive(new Re(Me.TRIANGLES,f)),this.reset()},reset:function(){var t=J.MemoryPool.alloc(),e=J.MemoryPool.alloc(),r=J.MemoryPool.alloc();J.sub(t,this._arrow,this._center),0===J.normalize(e,t)&&(J.set(t,0,0,1),J.set(e,0,0,1));var n=te.MemoryPool.alloc();if(Math.abs(Math.abs(e[2])-1)<F.EPSILON)te.identity(n);else{var i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc();J.set(i,0,0,1),J.cross(a,i,e);var o=J.angle(i,e);te.fromRotation(n,o,a),J.MemoryPool.free(i),J.MemoryPool.free(a)}te.setTranslation(n,this._center);for(var s=this.getBufferArray("Vertex"),h=s.getArrayBuffer(),u=this.getBufferArray("Normal"),c=u.getArrayBuffer(),l=this._tessellation,g=3*l,f=0;f<l;f++){var A=[this._vertices[3*f],this._vertices[3*f+1],this._vertices[3*f+2]];J.scale(A,A,this._radius),J.transformMat4(A,A,n),h[3*f]=A[0],h[3*f+1]=A[1],h[3*f+2]=A[2],J.sub(r,A,this._center),J.normalize(r,r),c[3*f]=r[0],c[3*f+1]=r[1],c[3*f+2]=r[2],J.add(A,A,t),h[3*f+g]=this._arrow[0],h[3*f+g+1]=this._arrow[1],h[3*f+g+2]=this._arrow[2],c[3*f+g]=r[0],c[3*f+g+1]=r[1],c[3*f+g+2]=r[2]}te.MemoryPool.free(n);for(var d=2*g,p=0;p<l;p++)h[3*p+d]=h[3*p],h[3*p+d+1]=h[3*p+1],h[3*p+d+2]=h[3*p+2],c[3*p+d]=-e[0],c[3*p+d+1]=-e[1],c[3*p+d+2]=-e[2];J.MemoryPool.free(t),J.MemoryPool.free(e),J.MemoryPool.free(r),s.change(),u.change()}});var Ei=yi,wi=function(t){si.call(this,t),this._startGeom=void 0,this._endGeom=void 0,this._endLabel=void 0,this._lineGeom=void 0,this._lengthText=void 0,this._length=0,this._Xlength=0,this._Ylength=0,this._Zlength=0,this._intersected=!1};wi.INVALID_LENGTH=4e3,(wi.prototype=Object.create(si.prototype)).constructor=wi,Object.assign(wi.prototype,{type:function(){return L.DISTANCE},points:function(){var t=[],e=J.new();J.copy(e,this._startGeom.getCenter()),t.push(e);var r=J.new();return J.copy(r,this._endGeom.getCenter()),t.push(r),t},load:function(t){this._startGeom=new li(t[0],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineGeom=new fi(ai.CYLINDER_RADIUS,t[0],t[1],ai.CYLINDER_RADIUS),this._lineGeom.setName(ai.LINE_NAME),this._lineGeom.setReference(this),this._lineGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.DOT_LINE_COLOR)),this._root.addChild(this._lineGeom),this._endGeom=new li(t[1],ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText),this._finished=!0,this._count=2,this._intersected=!0,this.update()},intersect:function(t,e){var r=this._viewer.getComponentGraph().getSceneRoot().getBoundingSphere().getRadius(),n=J.MemoryPool.alloc(),i=J.MemoryPool.alloc();J.add(n,t,e),J.scaleAndAdd(i,t,e,r);var a=[];if(this._viewer.getComponentActor().linesegmentIntersect(a,n,i,fr.COLLISION),0===a.length)J.scaleAndAdd(i,t,e,wi.INVALID_LENGTH),this._lineGeom.setValue(ai.CYLINDER_RADIUS,t,i),J.scaleAndAdd(n,i,e,ai.CONE_HEIGHT),this._endLabel.setValue(ai.CONE_RADIUS,i,n),this._endLabel.setMask(1),this._endGeom.setMask(0),this._intersected=!1;else{var o=a[0].getPoint();this._lineGeom.setValue(ai.CYLINDER_RADIUS,t,o),this._endLabel.setMask(0),this._endGeom.setCenter(o),this._endGeom.setMask(1),this._intersected=!0}return J.MemoryPool.free(n),J.MemoryPool.free(i),this._intersected},click:function(t){var e=t.getPoint(),r=t.getNormal();if(0===this._count)this._startGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._startGeom.setName(ai.POINT_NAME),this._startGeom.setReference(this),this._startGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._startGeom),this._lineGeom=new fi(ai.CYLINDER_RADIUS,e,e,ai.CYLINDER_RADIUS),this._lineGeom.setName(ai.LINE_NAME),this._lineGeom.setReference(this),this._lineGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.DISTANCE_LINE_COLOR)),this._root.addChild(this._lineGeom),this._endGeom=new li(e,ai.SHPERE_RADIUS,ai.SHPERE_TESSELLATION),this._endGeom.setName(ai.POINT_NAME),this._endGeom.setReference(this),this._endGeom.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)),this._root.addChild(this._endGeom),this._endLabel=new Ei(ai.CONE_RADIUS,e,e,ai.CONE_TESSELLATION),this._endLabel.setName(ai.ARROW_NAME),this._endLabel.setReference(this),this._endLabel.setStateSet(this._viewer.getStateset().getPureColor(ai.ARROW_COLOR)),this._root.addChild(this._endLabel),this._lengthText=new di,this._lengthText.setName(ai.TEXT_NAME),this._lengthText.setFont(this._viewer.getStateset().getFont()),this._root.addChild(this._lengthText),this.intersect(e,r);else if(1===this._count){if(!this.intersect(e,r))return!1;this._finished=!0,this.update()}return this._count++,!0},move:function(t){var e=t.getPoint(),r=t.getNormal();this._startGeom.setCenter(e),this.intersect(e,r),this.update()},update:function(){if(this._intersected){var t=J.MemoryPool.alloc();J.sub(t,this._endGeom.getCenter(),this._startGeom.getCenter()),this._length=J.len(t)*F.MILLIMETER_PER_METER,this._Xlength=Math.abs(t[0])*F.MILLIMETER_PER_METER,this._Ylength=Math.abs(t[1])*F.MILLIMETER_PER_METER,this._Zlength=Math.abs(t[2])*F.MILLIMETER_PER_METER,J.add(t,this._endGeom.getCenter(),this._startGeom.getCenter()),J.scale(t,t,.5),this._lengthText.setMask(1),this._lengthText.setPosition(t),this._lengthText.setText(this._length.toFixed(3)),J.MemoryPool.free(t)}else this._length=NaN,this._Xlength=NaN,this._Ylength=NaN,this._Zlength=NaN,this._lengthText.setMask(0)},intersectPoint:function(t){return J.sqrDist(this._startGeom.getCenter(),t)<ai.SHPERE_RADIUS_SQUARE?this._startGeom:J.sqrDist(this._endGeom.getCenter(),t)<ai.SHPERE_RADIUS_SQUARE?this._endGeom:void 0},unhighlight:function(t){t.getName()===ai.POINT_NAME?t.setStateSet(this._viewer.getStateset().getPureColor(ai.POINT_COLOR)):t.getName()===ai.LINE_NAME&&t.setStateSet(this._viewer.getStateset().getPureColor(ai.DISTANCE_LINE_COLOR))}});var Si=wi,bi=function(){ge.call(this),this._switches=[]};(bi.prototype=Object.create(ge.prototype)).constructor=bi,Object.assign(bi.prototype,{addChild:function(t,e){ge.prototype.addChild.call(this,t,e),t&&this._switches.push(!1)},clearChildren:function(){ge.prototype.clearChildren.call(this),this._switches.length=0},removeChild:function(t){var e=ge.prototype.removeChild.call(this,t);void 0!==e&&this._switches.splice(e,1)},traverseChildren:function(t){for(var e=this._children.length,r=0;r<e;r++)this._switches[r]&&this._children[r].accept(t)},setSwitchValue:function(t,e){t<this._switches.length&&(this._switches[t]=e)},setAllSwitchesOn:function(){for(var t=this._switches.length,e=0;e<t;e++)this._switches[e]=!0},setAllSwitchesOff:function(){for(var t=this._switches.length,e=0;e<t;e++)this._switches[e]=!1},setSingleSwitchOn:function(t){for(var e=this._switches.length,r=0;r<e;r++)this._switches[r]=!1;this.setSwitchValue(t,!0)},setSingleSwitchOff:function(t){for(var e=this._switches.length,r=0;r<e;r++)this._switches[r]=!0;this.setSwitchValue(t,!1)},readBlob:function(t){ge.prototype.readBlob.call(this,t)}}),bi.typeID=bi.prototype.typeID=p.SWITCH_TYPE;var Ti=bi,Mi=function(t){this._viewer=t,this._switch=void 0};Object.assign(Mi.prototype,{create:function(){this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.CURSOR_MODULE);var t=this._sceneGraph.getSceneRoot();t.setName("CursorSwitch");var e=new Zt;e.addAttribute(Lr.createNavigateAssist.call(this)),e.addAttribute(new Tr(Tr.LEQUAL,0,.1)),e.addAttribute(new tn),t.setStateSet(e),this._drawActor=this._viewer.getRenderer().createModuleActor($e.CURSOR_MODULE);var r=new Sr;r.setViewport(new Xn(0,0,0,0));var n=te.MemoryPool.alloc();te.identity(n),r.setModelViewMatrix(n),r.setProjectionMatrix(n),te.MemoryPool.free(n),r.setClearMask(0),this._drawActor.setBaseCamera(r),this._switch=new Ti,t.addChild(this._switch),this._drawActor.setSceneRoot(t),this._viewer.getFactory().getResource().getCursor().load(this.loadCallback.bind(this))},destroy:function(){this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.CURSOR_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.CURSOR_MODULE),this._viewer.getFactory().getResource().getNavigate().unload(),this._switch=void 0,this._viewer.requestRedraw()},createGeometry:function(t){var e=new be,r=new Float32Array([-.6,-.6,.6,-.6,.6,.6,.6,.6,-.6,.6,-.6,-.6]),n=new we(we.ARRAY_BUFFER,r,2);e.setBufferArray("Vertex",n);var i=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),a=new we(we.ARRAY_BUFFER,i,2);e.setBufferArray("Texture",a),e.setPrimitive(new Oe(Me.TRIANGLES,0,6));var o=new Jr;o._target=Jr.TEXTURE_2D,o.setInternalFormat(Jr.RGBA),o._magFilter=Jr.LINEAR,o._minFilter=Jr.LINEAR,o._wrapS=Jr.CLAMP_TO_EDGE,o._wrapT=Jr.CLAMP_TO_EDGE,o.setImage(t),e.getStateSet(!0).addAttribute(o,Mt.OVERRIDE),this._switch.addChild(e)},loadCallback:function(t){this.createGeometry(t[0]),this.createGeometry(t[1]),this._switch.setAllSwitchesOff(),this._viewer.requestRedraw()},place:function(t,e){this._drawActor.getBaseCamera().getViewport().setViewport(t-30,e-30,60,60)},switchoff:function(){this._switch.setAllSwitchesOff()},normal:function(){this._switch.setSingleSwitchOn(0)},pickup:function(){this._switch.setSingleSwitchOn(1)}});var Pi=Mi,Ri=0,xi=1,Oi=3,Ni=5,Li=function(){this._point=J.new(),this._normal=J.new(),this._type=Ri};Object.assign(Li.prototype,{getPoint:function(){return this._point},getNormal:function(){return this._normal},getType:function(){return this._type}});var Di=function(t){_r.call(this,t),this._cursorSwitch=new Pi(this._viewer),this._capturePoint=new Li,this._intersectGeom=void 0,this._measureNodes=new Map,this._currentNode=void 0};(Di.prototype=Object.create(_r.prototype)).constructor=Di,Object.assign(Di.prototype,{create:function(){this._cursorSwitch.create(),this._sceneGraph=this._viewer.getScenery().createModuleGraph($e.MEASURE_MODULE);var t=this._sceneGraph.getSceneRoot();t.setName("Measure");var e=new Zt;e.addAttribute(Lr.createColorDefault.call(this)),e.addAttribute(new Qt([1,1,1,1])),e.addAttribute(new Tr(Tr.LESS,.1,.2)),t.setStateSet(e),this._drawActor=this._viewer.getRenderer().createModuleActor($e.MEASURE_MODULE),this._drawActor.setSceneRoot(t)},destroy:function(){this._cursorSwitch.destroy(),this._sceneGraph=this._viewer.getScenery().resetModuleGraph($e.MEASURE_MODULE),this._drawActor=this._viewer.getRenderer().resetModuleActor($e.MEASURE_MODULE),this._currentNode=void 0,this._viewer.requestRedraw()},update:function(){this._adaptor.getConfig().getMeasureType()===L.VIEW&&(this._cursorSwitch.switchoff(),this._viewer.requestRedraw()),this._intersectGeom=void 0,this.cancel()},cancel:function(){this._currentNode&&(this._currentNode.release(),this._sceneGraph.getSceneRoot().removeChild(this._currentNode.root()),this._currentNode=void 0,this._viewer.requestRedraw())},finish:function(){this._currentNode&&this._currentNode.finish()&&(this.addMeasureNode(this._currentNode.ID(),this._currentNode),this._currentNode=void 0,this._viewer.requestRedraw())},save:function(t){this._measureNodes.forEach(function(e,r){var n={};n.ID=r,n.type=e.type(),n.points=e.points(),t.push(n)})},load:function(t){this.clearMeasureNodes();for(var e=t.length,r=0;r<e;r++){var n=t[r],i=this.createMeasureNode(n.type);this._sceneGraph.getSceneRoot().addChild(i.root()),i.root().setID(n.ID),this.addMeasureNode(n.ID,i),i.load(n.points)}this._viewer.requestRedraw()},addMeasureNode:function(t,e){this._measureNodes.set(t,e)},removeMeasureNode:function(t){var e=this._measureNodes.get(t);e&&(e.release(),this._sceneGraph.getSceneRoot().removeChild(e.root())),this._measureNodes.delete(t)},clearMeasureNodes:function(){this.cancel(),this._measureNodes.forEach(function(t){t.release()}),this._sceneGraph.getSceneRoot().clearChildren(),this._measureNodes.clear()},getMeasureNode:function(t){return this._measureNodes.get(t)},getMeasureNodes:function(){return this._measureNodes},singlePick:function(t,e){var r=!1,n=J.MemoryPool.alloc(),i=J.MemoryPool.alloc();this._camera.computeScreenToWorldNearFarPoint(t,e,n,i);var a=[];if(this._drawActor.linesegmentIntersect(a,n,i,fr.SELECTION),0!==a.length){var o=a[0];this._intersectGeom=o.getDrawable().getGeometry(),this._intersectGeom.getReference().highlight(this._intersectGeom),r=!0}return J.MemoryPool.free(n),J.MemoryPool.free(i),r},pickPush:function(t){return this._adaptor.getConfig().getMeasureType()!==L.VIEW&&(this._intersectGeom?this._dragGeometry=!0:(this.clickMeasureNode(this._capturePoint),this._dragGeometry=!1,this._viewer.requestRedraw()),t.preventDefault(),!0)},mouseChanged:function(t){if(this._adaptor.getConfig().getMeasureType()===L.VIEW)return!1;var e=this.getPositionRelativeToCanvas(t,!1);this._cursorSwitch.place(e[0],e[1]),e[0]=this._camera.getNormalizedX(e[0]),e[1]=this._camera.getNormalizedY(e[1]);var r=[];this.singleIntersect(e[0],e[1],r)?(this._cursorSwitch.normal(),this.measureNodeCaptrue(r[0])?this._cursorSwitch.pickup():(this.revertMeasureNode(),this.geoemtryVertexCapture(r[0])?this._cursorSwitch.pickup():(J.copy(this._capturePoint._point,r[0].getPoint()),J.copy(this._capturePoint._normal,r[0].getNormal()),this._capturePoint._type=xi)),this._dragGeometry?this._intersectGeom&&this._intersectGeom.getReference().drag(this._intersectGeom,this._capturePoint):this._currentNode&&this._currentNode.move(this._capturePoint)):(this._cursorSwitch.switchoff(),this._capturePoint._type=Ri,this.revertMeasureNode());return this._viewer.requestRedraw(),t.preventDefault(),!0},pickDrag:function(t){return this.mouseChanged(t)},mouseMove:function(t){return this.mouseChanged(t)},pickRelease:function(t){if(this._adaptor.getConfig().getMeasureType()===L.VIEW)return!1;if(this._dragGeometry){if(this._leftClick)this.clickMeasureNode(this._capturePoint),this._viewer.requestRedraw();else if(this._intersectGeom)this._intersectGeom.getReference().drag(this._intersectGeom,this._capturePoint);this._dragGeometry=!1}return t.preventDefault(),!0},measureNodeCaptrue:function(t){var e=t.getPoint();J.copy(this._capturePoint._normal,t.getNormal());var r=!0,n=!1,i=void 0;try{for(var a,o=this._measureNodes[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=nr()(a.value,2),h=(s[0],s[1].intersectPoint(e));if(h){if(this._capturePoint._type=Oi,this._dragGeometry){if(this._intersectGeom===h)continue;return J.copy(this._capturePoint._point,h.getCenter()),!0}return J.copy(this._capturePoint._point,h.getCenter()),this._intersectGeom!==h&&(this.revertMeasureNode(),this._intersectGeom=h,this._intersectGeom.getReference().highlight(this._intersectGeom)),!0}}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}return!1},geoemtryVertexCapture:function(t){var e=!1;J.copy(this._capturePoint._normal,t.getNormal());for(var r=t.getLocalPoint(),n=t.getDrawable().getGeometry().getBufferArray("Vertex").getArrayBuffer(),i=n.length,a=J.MemoryPool.alloc(),o=J.MemoryPool.alloc(),s=0;s<i;s+=3)if(J.set(a,n[s],n[s+1],n[s+2]),J.sub(o,a,r),J.sqrLen(o)<Z.MEASURE_CAPTURE_MAX_DISTANCE_SQUARE){var h=t.getDrawable().getTransform();J.transformMat4(this._capturePoint._point,a,h),this._capturePoint._type=Ni,e=!0;break}return J.MemoryPool.free(a),J.MemoryPool.free(o),e},revertMeasureNode:function(){this._dragGeometry||this._intersectGeom&&(this._intersectGeom.getReference().unhighlight(this._intersectGeom),this._intersectGeom=void 0)},clickMeasureNode:function(t){if(void 0===this._currentNode){if(t._type===Ri)return;this._currentNode=this.createMeasureNode(),this._sceneGraph.getSceneRoot().addChild(this._currentNode.root())}this._currentNode.click(t),this._currentNode.finished()&&(this.addMeasureNode(this._currentNode.ID(),this._currentNode),this._currentNode=void 0)},createMeasureNode:function(t){switch(void 0===t&&(t=this._adaptor.getConfig().getMeasureType()),t){case L.DOT:return new _i(this._viewer);case L.DISTANCE:return new Si(this._viewer);case L.ANGLE:return new Ii(this._viewer);case L.LENGTH:return new vi(this._viewer)}}}),Di.prototype[_r.KEYBORAD_PUSH]=function(t){return"KeyX"===t.code?(this.finish(),!0):"KeyC"===t.code&&(this.cancel(),!0)};var Fi=Di,Bi=function(){this._stateset=void 0,this._parent=void 0,this._children={},this._depth=0};Bi.create=function(){return new Bi},Bi.prototype={getStateSet:function(){return this._stateset},setStateSet:function(t){this._stateset=t},getParent:function(){return this._parent},reset:function(){this._stateset=void 0,this._parent=void 0,this._children={},this._depth=0},addStateBinChild:function(t){t._parent=this,t._depth=this._depth+1;var e=t._stateset.getID();this._children[e]=t},addStateSetChild:function(t){var e=t.getID(),r=this._children[e];if(r)return r;var n=new Bi;return n._parent=this,n._depth=this._depth+1,n._stateset=t,this._children[e]=n,n},removeStateBinChild:function(t){var e=t._stateset.getID(),r=this._children[e];r&&(r.parent=void 0,delete this._children[e])},removeStateSetChild:function(t){var e=t.getID(),r=this._children[e];r&&(r.parent=void 0,delete this._children[e])},clearChildren:function(){this._children={}}},Bi.moveStateBin=function(t,e,r){if(r!==e)if(void 0!==r)if(void 0!==e){if(e._parent===r._parent)return void 0!==e._stateset&&t.popStateSet(),void(void 0!==r._stateset&&t.pushStateSet(r._stateset));for(;e._depth>r._depth;)void 0!==e._stateset&&t.popStateSet(),e=e._parent;for(var n=[];r._depth>e._depth;)void 0!==r._stateset&&n.push(r._stateset),r=r._parent;for(;e!==r;)void 0!==e._stateset&&t.popStateSet(),e=e._parent,void 0!==r._stateset&&n.push(r._stateset),r=r._parent;for(var i=n.length-1;i>=0;--i)t.pushStateSet(n[i])}else{var a=[];do{void 0!==r._stateset&&a.push(r._stateset),r=r._parent}while(r);for(var o=a.length-1;o>=0;--o)t.pushStateSet(a[o])}else do{void 0!==e._stateset&&t.popStateSet(),e=e._parent}while(e)};var Ui=Bi,Gi=function(t){this._drawActor=t,this._geometry=void 0,this._transform=void 0,this._statebin=void 0,this._curStatebin=void 0,this._depth=0,this._boundingBox=void 0,this._boundingSphere=void 0};Gi.prototype={setGeometry:function(t,e){this._geometry=t,this._transform=e},getGeometry:function(){return this._geometry},getTransform:function(){return this._transform},setStateBin:function(t){this._statebin=t},getStateBin:function(){return this._statebin},getCurrentStateBin:function(){return this._curStatebin},getDepth:function(){return this._depth},reset:function(){this._geometry=void 0,this._transform=void 0,this._statebin=void 0,this._curStatebin=void 0,this._depth=0,this._boundingBox=void 0,this._boundingSphere=void 0},valid:function(){return!this._drawActor.getBaseCamera().isBoundingBoxCulled(this.getBoundingBox())},isTransparent:function(){return!1},computeDepth:function(){var t=this._drawActor.getBaseCamera().getModelViewMatrix(),e=J.MemoryPool.alloc();this._depth=this.distanceZ(this.getBoundingBox().getCenter(e),t),J.MemoryPool.free(e)},distanceZ:function(t,e){return-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+e[14])},getBoundingBox:function(){return void 0===this._boundingBox&&(this._boundingBox=new ie,this._boundingBox.copy(this._geometry.getBoundingBox(!0)),this._transform&&this._boundingBox.transformMat4(this._transform)),this._boundingBox},getBoundingSphere:function(){if(void 0===this._boundingSphere){this._boundingSphere=new oe;var t=this.getBoundingBox();this._boundingSphere.expandByBoundingBox(t)}return this._boundingSphere},getRadius:function(){return this.getBoundingSphere().getRadius()},draw:function(t,e){var r,n,i=this._statebin,a=i.getStateSet(),o=i.getParent();void 0!==e?(n=(r=e._statebin).getParent())!==o?(Ui.moveStateBin(t,n,o),t.applyStateSet(a)):r!==i&&t.applyStateSet(a):(Ui.moveStateBin(t,void 0,o),t.applyStateSet(a));var s=this._drawActor.getBaseCamera();return t.applyModelMatrix(this._transform,s.getModelViewMatrix(),s.getProjectionMatrix()),this._geometry.draw(t),!0}};var ki=Gi,Vi=function(){Ir.call(this),this._transformMatrixStack=[]};(Vi.prototype=Object.create(Ir.prototype)).constructor=Vi,Object.assign(Vi.prototype,{reset:function(){},pushTransformMatrix:function(t){this._transformMatrixStack.push(t)},popTransformMatrix:function(){this._transformMatrixStack.pop()},getTransformMatrixStack:function(){return this._transformMatrixStack},getCurrentTransformMatrix:function(){return this._transformMatrixStack[this._transformMatrixStack.length-1]}});var Hi=Vi,Yi=function(){ge.call(this),this._rootTransform=te.new()};(Yi.prototype=Object.create(ge.prototype)).constructor=Yi,Object.assign(Yi.prototype,{getMatrix:function(){return this._rootTransform},reset:function(){this._parents.length=0,this._mask=-1,this.clearChildren(),this._boundingBox&&this._boundingBox.reset(),this._boundingSphere&&this._boundingSphere.reset()},readBlob:function(t){ge.prototype.readBlob.call(this,t)}}),Yi.typeID=Yi.prototype.typeID=p.SCENEROOT_TYPE;var ji=Yi,Xi=function(){this._drawable=void 0,this._primitiveIndex=void 0};Object.assign(Xi.prototype,{getDrawable:function(){return this._drawable}});var Qi=function(){Xi.call(this),this._ratio=0,this._point=J.new(),this._normal=J.create(1,0,0),this._localPoint=J.new()};(Qi.prototype=Object.create(Xi.prototype)).constructor=Qi,Object.assign(Qi.prototype,{getRatio:function(){return this._ratio},getPoint:function(){return this._point},getNormal:function(){return this._normal},getLocalPoint:function(){return this._localPoint}});var Wi=function(){Xi.call(this),this._points=[],this._pointNumber=0};(Wi.prototype=Object.create(Xi.prototype)).constructor=Wi,Object.assign(Wi.prototype,{});var zi=function(){fr.call(this),this._orginStart=J.new(),this._orginEnd=J.new(),this._orginThreshold=0,this._start=J.new(),this._end=J.new(),this._threshold=0,this._direction=J.new(),this._length=0,this._inverseLength=0};zi.new=function(){return new zi},zi.MemoryPool=new U(zi.new);var qi=function(t,e){return t.getRatio()-e.getRatio()};(zi.prototype=Object.create(fr.prototype)).constructor=zi,Object.assign(zi.prototype,{sort:function(){return this._intersections.sort(qi),this._intersections},reset:function(){fr.prototype.reset.call(this),J.set(this._orginStart,0,0,0),J.set(this._orginEnd,0,0,0),this._orginThreshold=0,J.set(this._start,0,0,0),J.set(this._end,0,0,0),this._threshold=0,J.set(this._direction,0,0,0),this._length=0,this._inverseLength=0},initialize:function(t,e){J.copy(this._orginStart,t),J.copy(this._orginEnd,e),J.copy(this._start,t),J.copy(this._end,e)},intersect:function(t){if(this.enter(t)&&t.getBoundingBox().intersectLineSegment(this._orginStart,this._orginEnd)){this._drawable=t;var e=t.getGeometry(),r=e.getBufferArray("Vertex");if(this._vertices=r.getArrayBuffer(),this._vertices){var n=e.getPrimitive();if(n){var i=t.getTransform();if(this._transform!==i){this._transform=i,te.getNormalMat4(this._normalTransform,i);var a=te.MemoryPool.alloc();if(te.invert(a,i),this._orginThreshold>0){var o=this._start;te.getScale(o,a);var s=o[0],h=o[1],u=o[2];this._threshold=this._orginThreshold*(s>h?s>u?s:u:h>u?h:u)}J.transformMat4(this._start,this._orginStart,a),J.transformMat4(this._end,this._orginEnd,a),J.sub(this._direction,this._end,this._start),this._length=J.length(this._direction),this._inverseLength=this._length<=F.EPSILON?0:1/this._length,J.scale(this._direction,this._direction,this._inverseLength),te.MemoryPool.free(a)}n.operate(this)}}}},intersectPoint:function(t){var e=J.MemoryPool.alloc();J.sub(e,t,this._start);var r=J.MemoryPool.alloc();J.sub(r,this._end,this._start);var n=J.dot(e,r)*this._inverseLength*this._inverseLength,i=void 0;return(n<0?J.sqrLen(e):n>1?J.sqrDist(t,this._end):J.sqrLen(J.scaleAndAdd(e,e,r,-n)))>this._threshold*this._threshold||(i=new Qi,J.scaleAndAdd(i._localPoint,this._start,r,n),J.transformMat4(i._point,i._localPoint,this._transform),i._ratio=n),J.MemoryPool.free(e),J.MemoryPool.free(r),i},intersectLine:function(t,e){var r=J.MemoryPool.alloc();J.sub(r,e,t);var n=J.MemoryPool.alloc();J.sub(n,this._end,this._start);var i=J.MemoryPool.alloc();J.sub(i,t,this._start);var a,o,s=J.dot(r,r),h=J.dot(r,n),u=J.dot(n,n),c=J.dot(r,i),l=J.dot(n,i),g=s*u-h*h,f=g,A=g;g<F.EPSILON?(a=0,f=1,o=l,A=u):(o=s*l-h*c,(a=h*l-u*c)<0?(a=0,o=l,A=u):a>f&&(a=f,o=l+h,A=u)),o<0?(o=0,-c<0?a=0:-c>s?a=f:(a=-c,f=s)):o>A&&(o=A,-c+h<0?a=0:-c+h>s?a=f:(a=-c+h,f=s));var d=Math.abs(a)<F.EPSILON?0:a/f,p=Math.abs(o)<F.EPSILON?0:o/A,_=J.MemoryPool.alloc(),C=J.MemoryPool.alloc();J.scaleAndAdd(_,t,r,d),J.scaleAndAdd(C,this._start,n,p);var I=J.sqrDist(_,C);J.MemoryPool.free(_),J.MemoryPool.free(C);var m=void 0;return I>this._threshold*this._threshold||(m=new Qi,J.copy(m._localPoint,C),J.transformMat4(m._point,m._localPoint,this._transform),m._ratio=p),J.MemoryPool.free(r),J.MemoryPool.free(n),J.MemoryPool.free(i),m},intersectTriangle:function(t,e,r){var n=J.MemoryPool.alloc();J.sub(n,r,t);var i=J.MemoryPool.alloc();J.sub(i,e,t);var a=J.MemoryPool.alloc();J.cross(a,this._direction,n);var o=void 0,s=J.dot(a,i);if(Math.abs(s)>F.EPSILON){var h=1/s,u=J.MemoryPool.alloc();J.sub(u,this._start,t);var c=J.dot(a,u)*h;if(c<0||c>1);else{var l=J.MemoryPool.alloc();J.cross(l,u,i);var g=J.dot(l,this._direction)*h;if(g<0||c+g>1);else{var f=J.dot(l,n)*h;if(f<F.EPSILON||f>this._length);else{o=new Qi;var A=1-c-g,d=c,p=g,_=f*this._inverseLength,C=t[0]*A+e[0]*d+r[0]*p,I=t[1]*A+e[1]*d+r[1]*p,m=t[2]*A+e[2]*d+r[2]*p;J.set(o._localPoint,C,I,m),J.transformMat4(o._point,o._localPoint,this._transform),J.cross(o._normal,i,n),J.normalize(o._normal,o._normal),J.transformMat4(o._normal,o._normal,this._normalTransform),o._ratio=_}}J.MemoryPool.free(l)}J.MemoryPool.free(u)}return J.MemoryPool.free(i),J.MemoryPool.free(n),J.MemoryPool.free(a),o},intersectBoundingBox:function(t){return t.intersectLineSegment(this._orginStart,this._orginEnd)}});var Ji=zi,Ki=function(){fr.call(this),this._originPlanes=[],this._currentPlanes=[],this._planeMask=0,this._candidates=[],this._boundaryLines=[]};Ki.new=function(){return new Ki},Ki.MemoryPool=new U(Ki.new),(Ki.prototype=Object.create(fr.prototype)).constructor=Ki,Object.assign(Ki.prototype,{reset:function(){fr.prototype.reset.call(this),this._originPlanes.length=0,this._currentPlanes.length=0,this._planeMask=0,this._candidates.length=0,this._boundaryLines.length=0},initialize:function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r],i=re.new();this._originPlanes.push(re.copy(i,n));var a=re.new();this._currentPlanes.push(re.copy(a,n)),this._planeMask<<=1,this._planeMask|=1}},intersect:function(t){if(this.enter(t)&&t.getBoundingBox().intersectPlanes(this._originPlanes)){this._intersectFlag=!1,this._drawable=t;var e=t.getGeometry(),r=e.getBufferArray("Vertex");if(this._vertices=r.getArrayBuffer(),this._vertices){var n=e.getPrimitive();if(n){var i=t.getTransform();if(this._transform!==i){this._transform=i;for(var a=this._originPlanes.length,o=0;o<a;o++){var s=this._originPlanes[o],h=this._currentPlanes[o]=this._currentPlanes[o]||re.new();re.copy(h,s),re.transformMat4(h,i)}this._boundaryLines.length=0}n.operate(this)}}}},intersectPoint:function(t){for(var e=this._currentPlanes.length,r=0;r<e;++r)if(re.distanceToVertex(this._currentPlanes[r],t)<0)return;var n=J.new();J.copy(n,t),n._planeMask=this._planeMask,n._intersectPtMask=!1;var i=new Wi;return i._points.push(n),i._pointNumber++,i},intersectLine:function(t,e){var r,n,i=1,a=0;this._candidates.length=0;for(var o=!0,s=!0,h=this._currentPlanes.length,u=0;u<h;++u,i<<=1){var c=this._currentPlanes[u],l=(r=re.distanceToVertex(c,t))<0,g=(n=re.distanceToVertex(c,e))<0;if(l&&g)return;if(l||g){l&&(o=!1),g&&(s=!1);var f=J.new();r<F.EPSILON?J.copy(f,t):n<F.EPSILON?J.copy(f,e):l&&!g?(J.sub(f,t,e),J.scaleAndAdd(f,t,f,r/(n-r))):!l&&g&&(J.sub(f,e,t),J.scaleAndAdd(f,t,f,r/(r-n))),f._planeMask=i,f._intersectPtMask=!0,this._candidates.push(f)}else a|=i}if(this._planeMask===a){var A=J.new();J.copy(A,t),A._planeMask=this._planeMask,A._intersectPtMask=!1,this._candidates.push(A);var d=J.new();J.copy(d,e),d._planeMask=this._planeMask,d._intersectPtMask=!1,this._candidates.push(d)}else{if(this.checkCandidates(a)>0){if(o){var p=J.new();J.copy(p,t),p._planeMask=this._planeMask,p._intersectPtMask=!1,this._candidates.push(p)}if(s){var _=J.new();J.copy(_,e),_._planeMask=this._planeMask,_._intersectPtMask=!1,this._candidates.push(_)}}}return this.createIntersection()},intersectTriangle:function(t,e,r){var n,i,a,o=!0,s=!0,h=!0;this._candidates.length=0;for(var u=1,c=0,l=this._currentPlanes.length,g=0;g<l;++g,u<<=1){var f=this._currentPlanes[g],A=(n=re.distanceToVertex(f,t))<0,d=(i=re.distanceToVertex(f,e))<0,p=(a=re.distanceToVertex(f,r))<0;if(A&&d&&p)return;if(A||d||p){if(A&&(o=!1),d&&(s=!1),p&&(h=!1),A&&!d){var _=J.new();J.sub(_,e,t),J.scaleAndAdd(_,e,_,i/(i-n)),_._planeMask=u,this._candidates.push(_)}else if(!A&&d){var C=J.new();J.sub(C,e,t),J.scaleAndAdd(C,t,C,n/(n-i)),C._planeMask=u,this._candidates.push(C)}if(d&&!p){var I=J.new();J.sub(I,e,r),J.scaleAndAdd(I,r,I,a/(a-i)),I._planeMask=u,this._candidates.push(I)}else if(!d&&p){var m=J.new();J.sub(m,r,e),J.scaleAndAdd(m,e,m,i/(i-a)),m._planeMask=u,this._candidates.push(m)}if(p&&!A){var v=J.new();J.sub(v,r,t),J.scaleAndAdd(v,t,v,n/(n-a)),v._planeMask=u,this._candidates.push(v)}else if(!p&&A){var y=J.new();J.sub(y,t,r),J.scaleAndAdd(y,r,y,a/(a-n)),y._planeMask=u,this._candidates.push(y)}}else c|=u}if(this._planeMask===c){var E=J.new();J.copy(E,t),E._planeMask=this._planeMask,E._intersectPtMask=!1,this._candidates.push(E),E=J.new(),J.copy(E,e),E._planeMask=this._planeMask,E._intersectPtMask=!1,this._candidates.push(E),E=J.new(),J.copy(E,r),E._planeMask=this._planeMask,E._intersectPtMask=!1,this._candidates.push(E)}else{if(0===this._candidates.length&&l<3)return;if(this.checkCandidates(c)>0){if(o){var w=J.new();J.copy(w,t),w._planeMask=this._planeMask,w._intersectPtMask=!1,this._candidates.push(w)}if(s){var S=J.new();J.copy(S,e),S._planeMask=this._planeMask,S._intersectPtMask=!1,this._candidates.push(S)}if(h){var b=J.new();J.copy(b,r),b._planeMask=this._planeMask,b._intersectPtMask=!1,this._candidates.push(b)}}else{this._candidates.length=0,this.getPolytopeLines();var T=J.MemoryPool.alloc();J.sub(T,e,t);var M=J.MemoryPool.alloc();J.sub(M,r,t);for(var P=J.MemoryPool.alloc(),R=J.MemoryPool.alloc(),x=J.MemoryPool.alloc(),O=this._boundaryLines.length,N=0;N<O;N++){var L=this._boundaryLines[N];J.cross(P,L._lineDirection,M);var D=J.dot(T,P);if(!(Math.abs(D)<F.EPSILON)){var B=1/D;J.sub(R,L._linePoint,t);var U=B*J.dot(R,P);if(!(U<0||U>1)){J.cross(x,R,T);var G=B*J.dot(L._lineDirection,x);if(!(G<0||U+G>1)){var k=B*J.dot(M,x),V=J.new();J.scaleAndAdd(V,L._linePoint,L._lineDirection,k),V._planeMask=L._planeMask,V._intersectPtMask=!0,this._candidates.push(V)}}}}J.MemoryPool.free(P),J.MemoryPool.free(R),J.MemoryPool.free(x),J.MemoryPool.free(T),J.MemoryPool.free(M),this.checkCandidates(c)}}return this.createIntersection()},checkCandidates:function(t){for(var e=1,r=this._candidates.length,n=r,i=this._currentPlanes.length,a=0;a<i&&n>0;a++,e<<=1)if(!(e&t))for(var o=this._currentPlanes[a],s=0;s<r;s++){var h=this._candidates[s];if(0!==h._planeMask&&(!(e&h._planeMask)&&re.distanceToVertex(o,h)<F.EPSILON&&(h._planeMask=0,0===--n)))return 0}return n},getPolytopeLines:function(){if(0===this._boundaryLines.length)for(var t=1,e=this._currentPlanes.length,r=0;r<e;++r,t<<=1){var n=this._currentPlanes[r],i=J.MemoryPool.alloc(),a=J.MemoryPool.alloc();J.set(i,n[0],n[1],n[2]),J.scale(a,i,-n[3]);for(var o=t<<1,s=r+1;s<e;++s,o<<=1){var h=this._currentPlanes[s],u=J.MemoryPool.alloc();J.set(u,h[0],h[1],h[2]);var c=J.dot(i,u);if(Math.abs(c)>1-F.EPSILON)J.MemoryPool.free(u);else{var l=J.MemoryPool.alloc(),g=J.new();J.cross(g,i,u),J.cross(l,g,i);var f=-re.distanceToVertex(h,a);if(f/=J.dot(l,u),!Number.isNaN(f)){var A=J.new();J.scaleAndAdd(A,a,l,f);var d={};d._linePoint=A,d._planeMask=t|o,d._lineDirection=g,this._boundaryLines.push(d)}J.MemoryPool.free(l),J.MemoryPool.free(u)}}J.MemoryPool.free(a),J.MemoryPool.free(i)}},createIntersection:function(){for(var t=new Wi,e=this._candidates.length,r=0;r<e;r++){var n=this._candidates[r];if(0!==n._planeMask&&(J.transformMat4(n,n,this._transform),t._points.push(n),t._pointNumber++,t._pointNumber===F.MAX_POLYTOPE_INTERSECTIUON_NUMBER))break}if(0!==t._pointNumber)return t},intersectBoundingBox:function(t){return t.intersectPlanes(this._originPlanes)}});var Zi=Ki,$i=function(t){gt.call(this,gt.TRAVERSE_CHILDREN),Hi.call(this),this._renderer=t,this._baseCamera=this._renderer.getMainCamera(),this._baseState=new Ui,this._sceneRoot=void 0,this._drawables=[],this._drawIndex=0,this._currentStateBin=void 0,this._valid=!0};$i.prototype=Object.create(gt.prototype),Object.assign($i.prototype,Hi.prototype),$i.prototype.constructor=$i,Object.assign($i.prototype,{setBaseCamera:function(t){this._baseCamera=t},getBaseCamera:function(){return this._baseCamera},getBaseStateBin:function(){return this._baseState},getBaseStateSet:function(){return this._baseState.getStateSet()},revertBaseState:function(){this._sceneRoot&&this._baseState.setStateSet(this._sceneRoot.getStateSet())},setSceneRoot:function(t){this._sceneRoot=t},createDrawable:function(){return new ki(this)},addDrawable:function(t){this._drawables.push(t)},getDrawables:function(){return this._drawables},valid:function(t){return void 0!==t&&(this._valid=t),this._valid},apply:function(t){this[t.typeID](t)},pushStateSet:function(t){t&&(this._currentStateBin=this._currentStateBin.addStateSetChild(t))},popStateSet:function(t){t&&(this._currentStateBin=this._currentStateBin.getParent())},pushDrawable:function(t){var e=this.createDrawable();e.setStateBin(this._currentStateBin),e.setGeometry(t,this.getCurrentTransformMatrix()),this.addDrawable(e)},draw:function(t,e){if(!this._valid)return e;this.drawCamera(e);for(var r=void 0,n=this._drawables.length,i=this._drawIndex;i<n;i++){var a=this._drawables[i];a.valid()&&(a.draw(t,r),r=a),this._drawIndex++}return this._baseCamera},drawReset:function(){this._baseCamera.setClearFlag(!1),this._drawIndex=0},drawFinished:function(){return this._drawables.length===this._drawIndex},drawCamera:function(t){if(t!==this._baseCamera){var e=this._renderer.getGLState();if(e.applyAttribute(this._baseCamera.getViewport()),!this._baseCamera.getClearFlag()){this._baseCamera.updateCullFrustum();var r=this._baseCamera.getClearMask();if(0!==r){var n=e.getWebGLContext();if(r&n.COLOR_BUFFER_BIT){var i=this._baseCamera.getClearColor();n.clearColor(i[0],i[1],i[2],i[3])}if(r&n.DEPTH_BUFFER_BIT){var a=this._baseCamera.getClearDepth();n.depthMask(!0),n.clearDepth(a)}n.clear(r)}this._baseCamera.setClearFlag(!0)}}},linesegmentIntersect:function(t,e,r,n,i,a){var o=Ji.MemoryPool.alloc();o.reset(),o.setIntersections(t),o.initialize(e,r),o.setUsageMask(n),o.setOutcomeMask(i),o.setCategoryFilter(a);for(var s=this._drawables.length,h=0;h<s;h++){var u=this._drawables[h];o.intersect(u)}o.sort(),Ji.MemoryPool.free(o)},polytopeIntersect:function(t,e,r,n,i){var a=Zi.MemoryPool.alloc();a.reset(),a.setIntersections(t),a.initialize(e),a.setUsageMask(r),a.setOutcomeMask(n),a.setCategoryFilter(i);for(var o=this._drawables.length,s=0;s<o;s++){var h=this._drawables[s];a.intersect(h)}Zi.MemoryPool.free(a)}}),$i.prototype[ji.typeID]=function(t){this._baseState.clearChildren(),this._baseState.setStateSet(t.getStateSet()),this._currentStateBin=this._baseState,this.pushTransformMatrix(t.getMatrix()),this.traverse(t),this.popTransformMatrix(),this._currentStateBin=void 0},$i.prototype[Ce.typeID]=function(t){var e=this.getCurrentTransformMatrix(),r=void 0;r=e?te.clone(e):te.new(),t.computeLocalToWorldMatrix(r),this.pushTransformMatrix(r);var n=t.getStateSet();this.pushStateSet(n),this.traverse(t),this.popStateSet(n),this.popTransformMatrix()},$i.prototype[Ae.typeID]=function(t){this[ge.typeID](t)},$i.prototype[Ti.typeID]=function(t){this[ge.typeID](t)},$i.prototype[ge.typeID]=function(t){var e=t.getStateSet();this.pushStateSet(e),this.traverse(t),this.popStateSet(e)},$i.prototype[be.typeID]=function(t){var e=t.getStateSet();this.pushStateSet(e),this.pushDrawable(t),this.popStateSet(e)},$i.prototype[di.typeID]=function(t){t.reset();var e=this.getCurrentTransformMatrix(),r=void 0;r=e?te.clone(e):te.new(),t.update(r,this._baseCamera),this.pushTransformMatrix(r);var n=t.getStateSet();this.pushStateSet(n),this.pushDrawable(t),this.popStateSet(n),this.popTransformMatrix()};var ta,ea=$i,ra=r(26),na=r.n(ra),ia=function(){I.call(this),this._parent=void 0,this._children=[],this._leaf=!1};(ia.prototype=Object.create(I.prototype)).constructor=ia,Object.assign(ia.prototype,(ta={reset:function(){I.prototype.reset.call(this),this._parent=void 0,this._children.length=0,this._leaf=!1},setParent:function(t){this._parent=t},getParent:function(){return this._parent}},na()(ta,"setParent",function(t){this._parent=t}),na()(ta,"getChildren",function(){return this._children}),na()(ta,"addChild",function(t){this._children.push(t)}),na()(ta,"contain",function(t){for(var e=this._children.length,r=0;r<e;r++){var n=this._children[r];if(n.getName()===t)return n}}),na()(ta,"isLeaf",function(t){return t&&(this._leaf=t),this._leaf}),ta));var aa=ia,oa=function(){aa.call(this),this._rule=void 0,this._sort=void 0};(oa.prototype=Object.create(aa.prototype)).constructor=oa,Object.assign(oa.prototype,{reset:function(){aa.prototype.reset.call(this),this._rule=void 0,this._sort=void 0},getRule:function(){return this._rule},setRule:function(t){this._rule=t},getSort:function(){return this._sort},setSort:function(t){this._sort=t}});var sa=oa,ha=function(t){this._root=this.create(),this._root.setName("TreeRoot"),this._nodes=new Map,this._rule=t};Object.assign(ha.prototype,{reset:function(){this._root.reset(),this._nodes.clear()},root:function(){return this._root},create:function(){return new sa},update:function(t){for(var e=this._root,r=null,n=this._rule.length,i=0;i<n;i++){var a=this._rule[i],o=t.getKeyValue(a);if(r=e.contain(o))e=r;else{switch(r=this.create(),a){case v.STOREY_NAME:r.setSort(t.getStorey().getElevation());break;case v.DOMAIN_NAME:r.setSort(t.getDomain());break;case v.CATEGORY_NAME:r.setSort(t.getCategory())}r.setRule(a),r.setName(o),e.addChild(r),r.setParent(e),this.ascendingSort(e,r),e=r,this._nodes.set(r.getID(),r)}}return e.isLeaf(!0),e},ascendingSort:function(t,e){for(var r=null,n=!1,i=t.getChildren(),a=i.length,o=0;o<a;o++){var s=i[o];if(n)i[o]=r,r=s;else{var h=s.getSort(),u=e.getSort();h&&u?h>u&&(i[o]=e,r=s,n=!0):s.getName()>e.getName()&&(i[o]=e,r=s,n=!0)}}}});var ua=ha,ca=function(){sa.call(this),this._state=O.CHECKED};(ca.prototype=Object.create(sa.prototype)).constructor=ca,Object.assign(ca.prototype,{reset:function(){sa.prototype.reset.call(this),this._state=O.CHECKED},setState:function(t){this._state=t},getState:function(){return this._state}});var la=ca,ga=function(t,e){ua.call(this,t),this._scenegraph=e};(ga.prototype=Object.create(ua.prototype)).constructor=ga,Object.assign(ga.prototype,{create:function(){return new la},update:function(t){var e=ua.prototype.update.call(this,t.getEntity());e&&(e.addChild(t),t.addDisplayParent(e))},displayNode:function(t){if(t===this._root.getID())return this._root.getState()===O.CHECKED?this.hideRoot():this.showRoot(),!0;var e=this._nodes.get(t);return!!e&&(e.getState()===O.CHECKED?ga.hideChildren(e):ga.showChildren(e),ga.syncParent(e),!0)},hideRoot:function(){ga.hideChildren(this._root)},showRoot:function(){ga.showChildren(this._root)},highlightNode:function(t){if(t===this._root.getID())return this.hightlightChildren(this._root),!0;var e=this._nodes.get(t);return!!e&&(this.hightlightChildren(e),!0)},hightlightChildren:function(t){for(var e=t.isLeaf(),r=t.getChildren(),n=r.length,i=0;i<n;i++){var a=r[i];e?this._scenegraph.highlightEntityBySelect(a,!0):this.hightlightChildren(a)}},saveViewState:function(t){for(var e=this._rule.length,r=0;r<e;r++)t._treeRule.push(this._rule[r].toString());for(var n=this._root.getChildren(),i=n.length,a=0;a<i;a++)this.saveHideNodeViewState(n[a],t._hideNodePaths)},saveHideNodeViewState:function(t,e){var r=t.getState();if(r===O.UNCHECKED){var n=[];n.push(r.getName()),this.saveHidePathViewState(t,n),e.push(n)}else if(r===O.PARTIALLYCHECKED)for(var i=t.getChildren(),a=i.length,o=0;o<a;o++)this.saveHideNodeViewState(i[o],e)},saveHidePathViewState:function(t,e){var r=t.getParent();this._root!==r&&(e.push(r.getName()),this.saveHidePathViewState(r,e))},loadViewState:function(t){for(var e=[],r=this._rule.length,n=0;n<r;n++)e.push(this._rule[n].toString());if(!Jt.compareArray(t._treeRule,e))return!1;this.showRoot();for(var i=t._hideNodePaths.length,a=0;a<i;a++)for(var o=t._hideNodePaths[a],s=this._root.getChildren(),h=s.length,u=0;u<h;u++)this.loadHideNodeViewState(s[u],o);return!0},loadHideNodeViewState:function(t,e){var r=e.length-1;if(t.getName()===e[r])if(e.pop(),0===r)ga.hideChildren(t),ga.syncParent(t);else for(var n=t.getChildren(),i=n.length,a=0;a<i;a++)this.loadHideNodeViewState(n[a],e)}}),ga.hideChildren=function(t){if(t.getState()!==O.UNCHECKED){t.setState(O.UNCHECKED);for(var e=t.isLeaf(),r=t.getChildren(),n=r.length,i=0;i<n;i++){var a=r[i];e?a.displayHide():ga.hideChildren(a)}}},ga.showChildren=function(t){if(t.getState()!==O.CHECKED){t.setState(O.CHECKED);for(var e=t.isLeaf(),r=t.getChildren(),n=r.length,i=0;i<n;i++){var a=r[i];e?a.displayUnhide():ga.showChildren(a)}}},ga.syncParent=function(t){var e=t.getParent();if(void 0!==e){var r=e.getChildren(),n=r.length,i=t.getState();if(i===O.PARTIALLYCHECKED)e.setState(O.PARTIALLYCHECKED);else if(i===O.UNCHECKED){for(var a=0,o=0;o<n;o++)r[o].getState()===O.UNCHECKED&&a++;a===n?e.setState(O.UNCHECKED):e.setState(O.PARTIALLYCHECKED)}else if(i===O.CHECKED){for(var s=0,h=0;h<n;h++)r[h].getState()===O.CHECKED&&s++;s===n?e.setState(O.CHECKED):e.setState(O.PARTIALLYCHECKED)}ga.syncParent(e)}};var fa=ga,Aa=function(){ge.call(this),this._entity=void 0,this._displayParents=[],this._displayHideCount=0,this._assignHided=!1,this._highlighted=!1,this._transparented=!1,this._coverColor=void 0,this._statesets=new Map,this._statesets.set("CoverColor",void 0)};(Aa.prototype=Object.create(ge.prototype)).constructor=Aa,Object.assign(Aa.prototype,{reset:function(){this._displayParents.length=0,this.show(),this.unhighlight(),this.untransparent()},revert:function(){this.show(),this.unhighlight(),this.untransparent()},setEntity:function(t){this._entity=t},getEntity:function(){return this._entity},getUniqueID:function(){return this._entity.getUniqueID()},getStateSets:function(){return this._statesets},clearDisplayParent:function(){this._displayParents.length=0},addDisplayParent:function(t){this._displayParents.push(t)},displayHide:function(){this.isShown()&&this.setMask(0),this._displayHideCount++},displayUnhide:function(){this._displayHideCount>0&&this._displayHideCount--,this.isShown()&&this.setMask(1)},isDisplayShown:function(){return 0===this._displayHideCount},syncShowParent:function(t){if(t.getState()!==O.Checked){for(var e=t.getChildren(),r=e.length,n=0,i=0;i<r;i++){e[i].isDisplayShown()&&n++}r===n?t.setState(O.CHECKED):0===n?t.setState(O.UNCHECKED):t.setState(O.PARTIALLYCHECKED),fa.syncParent(t)}},syncHideParent:function(t){if(t.getState()!==O.UNCHECKED){for(var e=t.getChildren(),r=e.length,n=0,i=0;i<r;i++){e[i].isDisplayShown()&&n++}r===n?t.setState(O.CHECKED):0===n?t.setState(O.UNCHECKED):t.setState(O.PARTIALLYCHECKED),fa.syncParent(t)}},isAssignHided:function(){return this._assignHided},assignHide:function(t){if(this.isShown()&&this.setMask(0),this._assignHided=!0,t){var e=this._displayParents.length;if(e!==this._displayHideCount){this._displayHideCount=e;for(var r=0;r<e;r++)this.syncHideParent(this._displayParents[r])}}},assignUnhide:function(t){if(t){var e=0!==this._displayHideCount;if(this.show(),e)for(var r=this._displayParents.length,n=0;n<r;n++)this.syncShowParent(this._displayParents[n])}else this._assignHided=!1,this.isShown()&&this.setMask(1)},isShown:function(){return 0===this._displayHideCount&&!this._assignHided},show:function(){this.setMask(1),this._assignHided=!1,this._displayHideCount=0},isHightlighted:function(){return this._highlighted},highlight:function(t,e){if(this._highlighted)return!1;if(e){var r=0!==this._displayHideCount;if(this.show(),this.untransparent(),r)for(var n=this._displayParents.length,i=0;i<n;i++)this.syncShowParent(this._displayParents[i])}else{if(!this.isShown())return!1;if(this.isTransparented())return!1}return this._statesets.set("CoverColor",t),this._highlighted=!0,!0},unhighlight:function(){return!!this._highlighted&&(this._highlighted=!1,this._statesets.set("CoverColor",this._coverColor),!0)},isTransparented:function(){return this._transparented},transparent:function(t){return!(!this.isShown()||this._transparented||this._highlighted)&&(this._statesets.set("CoverColor",t),this._transparented=!0,!0)},untransparent:function(){return!!this._transparented&&(this._transparented=!1,this._statesets.set("CoverColor",this._coverColor),!0)},coloring:function(t){this._coverColor=t,this._transparented||this._highlighted||this._statesets.set("CoverColor",this._coverColor)},discoloring:function(){this._coverColor=void 0,this._transparented||this._highlighted||this._statesets.set("CoverColor",this._coverColor)}}),Aa.typeID=Aa.prototype.typeID=p.RENDERENTITY_TYPE;var da=Aa,pa=function(t){ea.call(this,t),this._currentRenderEntity=void 0,this._currentMaterial=void 0,this._isEntityMaterial=!1,this._currentBoundingBox=new ie};(pa.prototype=Object.create(ea.prototype)).constructor=pa,Object.assign(pa.prototype,{pushStateSet:function(t){t&&(this._isEntityMaterial&&t.isMaterialAttribute()?void 0===this._currentMaterial&&(this._currentMaterial=t):this._currentStateBin=this._currentStateBin.addStateSetChild(t))},popStateSet:function(t){t&&(this._isEntityMaterial&&t.isMaterialAttribute()?this._currentMaterial===t&&(this._currentMaterial=void 0):this._currentStateBin=this._currentStateBin.getParent())},pushDrawable:function(t){var e=this.createDrawable();e.setStateBin(this._currentStateBin),e.setGeometry(t,this.getCurrentTransformMatrix()),e.setRenderEntity(this._currentRenderEntity),this._currentMaterial?e.setMaterial(this._currentMaterial):e.setMaterial(Zt.DefaultMaterial),this._currentBoundingBox.expandByBoundingBox(e.getBoundingBox()),this.addDrawable(e)}}),pa.prototype[ji.typeID]=function(t){ea.prototype[ji.typeID].call(this,t),this._sceneRoot.getBoundingSphere().expandByBoundingBox(this._sceneRoot.getBoundingBox())},pa.prototype[da.typeID]=function(t){this._currentStateBin=this._baseState,this._currentRenderEntity=t,this._currentMaterial=void 0,this._isEntityMaterial=!0,this.traverse(t),this._isEntityMaterial=!1;var e=new ie;e.copy(this._currentBoundingBox),t.setBoundingBox(e),this._sceneRoot.getBoundingBox().expandByBoundingBox(t.getBoundingBox()),this._currentRenderEntity=void 0,this._currentMaterial=void 0,this._currentBoundingBox.reset()},pa.prototype[be.typeID]=function(t){var e=t.getStateSet();this.pushStateSet(e,!0),this.pushDrawable(t),this.popStateSet(e)};var _a=pa,Ca=function(){aa.call(this),this._boundingBox=new ie,this._drawables=[],this._valid=!0};Ca.MAXDRAWABLE=1e3,(Ca.prototype=Object.create(aa.prototype)).constructor=Ca,Object.assign(Ca.prototype,{reset:function(){aa.prototype.reset.call(this),this._boundingBox.reset(),this._drawables.length=0},drawReset:function(){this._valid=!0},valid:function(t){return void 0!==t&&(this._valid=t),this._valid},getDrawables:function(){return this._drawables},addDrawable:function(t){this._drawables.push(t),t.setOctreeNode(this),this._boundingBox.expandByBoundingBox(t.getBoundingBox())},clearDrawables:function(){this._drawables.length=0},getBoundingBox:function(){return this._boundingBox}});var Ia=Ca,ma=function(){this._root=new Ia};Object.assign(ma.prototype,{reset:function(){this._root.reset()},drawReset:function(t){void 0===t&&(t=this._root),t.drawReset();var e=t.getChildren();l=e.length;for(var r=0;r<l;r++){var n=e[r];this.drawReset(n)}},root:function(){return this._root},create:function(t){this.reset();for(var e=t.length,r=0;r<e;r++)this._root.addDrawable(t[r]);e<Ia.MAXDRAWABLE||this.split(this._root)},split:function(t){for(var e=this.splitBoundingBox(t.getBoundingBox()),r=[],n=0;n<9;n++){var i=new Ia;r.push(i)}for(var a=t.getDrawables(),o=!1,s=a.length,h=0;h<s;h++){var u=a[h];o=!1;for(var c=0;c<8;c++){if(e[c].containsBoundingBox(u.getBoundingBox())){r[c].addDrawable(u),o=!0;break}}o||r[8].addDrawable(u)}t.clearDrawables();for(var l=0;l<8;l++){var g=r[l],f=g.getDrawables().length;f>0&&(t.addChild(g),g.setParent(t),f>Ia.MAXDRAWABLE&&this.split(g))}var A=r[8],d=A.getDrawables().length;if(d>0){if(t.addChild(A),A.setParent(t),d===s)return;d>Ia.MAXDRAWABLE&&this.split(A)}},splitBoundingBox:function(t){var e=J.MemoryPool.alloc();t.getCenter(e);var r=t.getMin(),n=t.getMax(),i=[],a=new ie;return a.setMinValue(r[0],r[1],r[2]),a.setMaxValue(e[0],e[1],e[2]),i.push(a),(a=new ie).setMinValue(e[0],r[1],r[2]),a.setMaxValue(n[0],e[1],e[2]),i.push(a),(a=new ie).setMinValue(r[0],e[1],r[2]),a.setMaxValue(e[0],n[1],e[2]),i.push(a),(a=new ie).setMinValue(e[0],e[1],r[2]),a.setMaxValue(n[0],n[1],e[2]),i.push(a),(a=new ie).setMinValue(r[0],r[1],e[2]),a.setMaxValue(e[0],e[1],n[2]),i.push(a),(a=new ie).setMinValue(e[0],r[1],e[2]),a.setMaxValue(n[0],e[1],n[2]),i.push(a),(a=new ie).setMinValue(r[0],e[1],e[2]),a.setMaxValue(e[0],n[1],n[2]),i.push(a),(a=new ie).setMinValue(e[0],e[1],e[2]),a.setMaxValue(n[0],n[1],n[2]),i.push(a),J.MemoryPool.free(e),i}});var va=ma,ya=function(t){ki.call(this,t),this._renderEntity=void 0,this._material=void 0};(ya.prototype=Object.create(ki.prototype)).constructor=ya,Object.assign(ya.prototype,{reset:function(){ki.prototype.reset.call(this),this._renderEntity=void 0},setRenderEntity:function(t){this._renderEntity=t},getRenderEntity:function(){return this._renderEntity},setMaterial:function(t){this._material=t},getMaterial:function(){return this._material},shown:function(){return this._renderEntity.isShown()},valid:function(){return!!this._renderEntity.isShown()&&!this._drawActor.getBaseCamera().isBoundingBoxCulled(this.getBoundingBox())},isTransparent:function(){var t=this,e=!1,r=!1;if(this._statebin.clearChildren(),this._curStatebin=this._statebin,void 0!==this._renderEntity){var n=this._renderEntity.getStateSets();0!==n.size&&n.forEach(function(n){if(n){var i=n.getMaterialAttribute();i&&(r=!0,e=i.isTransparent()),t._curStatebin=t._curStatebin.addStateSetChild(n)}})}if(this._material&&!r){this._curStatebin=this._curStatebin.addStateSetChild(this._material);var i=this._material.getMaterialAttribute();i&&(e=i.isTransparent())}return e},draw:function(t,e){var r=this._curStatebin,n=r.getStateSet(),i=r.getParent();if(void 0!==e){var a=e.getCurrentStateBin(),o=a.getStateSet(),s=a.getParent();s!==i?(Ui.moveStateBin(t,s,i),t.applyStateSet(n)):o!==n&&t.applyStateSet(n)}else Ui.moveStateBin(t,void 0,i),t.applyStateSet(n);var h=this._drawActor.getBaseCamera();t.applyModelMatrix(this._transform,h.getModelViewMatrix(),h.getProjectionMatrix()),this._geometry.draw(t)}});var Ea=ya,wa=function(t){Ea.call(this,t),this._octreeNode=void 0};(wa.prototype=Object.create(Ea.prototype)).constructor=wa,Object.assign(wa.prototype,{reset:function(){Ea.prototype.reset.call(this),this._octreeNode=void 0},setOctreeNode:function(t){this._octreeNode=t},getOctreeNode:function(){return this._octreeNode},valid:function(){if(!this._renderEntity.isShown())return!1;if(!this._octreeNode.valid())return!1;var t=this._drawActor.getClipBox();return!(t&&!this.getBoundingBox().intersectBoundingBox(t))&&!this._drawActor.getBaseCamera().isBoundingBoxCulled(this.getBoundingBox())},computePixelSize:function(){}});var Sa=wa,ba=function(){da.call(this),this._relation=void 0};(ba.prototype=Object.create(da.prototype)).constructor=ba,Object.assign(ba.prototype,{setRelation:function(t){this._relation=t},getRelation:function(){return this._relation}}),ba.typeID=ba.prototype.typeID=p.RENDERCOMPONENT_TYPE;var Ta=ba,Ma=function(){Zi.call(this),this._boundingBox=void 0};(Ma.prototype=Object.create(Zi.prototype)).constructor=Ma,Object.assign(Ma.prototype,{reset:function(){Zi.prototype.reset.call(this),this._boundingBox=void 0},initialize:function(t){this._boundingBox=t;var e=re.create(1,0,0,-t.getXMin());this._originPlanes.push(e);var r=re.new();this._currentPlanes.push(re.copy(r,e)),e=re.create(-1,0,0,t.getXMax()),this._originPlanes.push(e),r=re.new(),this._currentPlanes.push(re.copy(r,e)),e=re.create(0,1,0,-t.getYMin()),this._originPlanes.push(e),r=re.new(),this._currentPlanes.push(re.copy(r,e)),e=re.create(0,-1,0,t.getYMax()),this._originPlanes.push(e),r=re.new(),this._currentPlanes.push(re.copy(r,e)),e=re.create(0,0,1,-t.getZMin()),this._originPlanes.push(e),r=re.new(),this._currentPlanes.push(re.copy(r,e)),e=re.create(0,0,-1,t.getZMax()),this._originPlanes.push(e),r=re.new(),this._currentPlanes.push(re.copy(r,e)),this._planeMask=1118481},intersectBoundingBox:function(t){return t.intersectBoundingBox(this._boundingBox)}});var Pa=Ma,Ra=function(t){_a.call(this,t),this._drawOcTree=new va,this._clipBox=void 0},xa=function(t,e){return e.getRadius()-t.getRadius()};(Ra.prototype=Object.create(_a.prototype)).constructor=Ra,Object.assign(Ra.prototype,{setClipBox:function(t){this._clipBox=t},getClipBox:function(){return this._clipBox},createDrawable:function(){return new Sa(this)},valid:function(t){return void 0!==t&&(this._valid=t,this._renderer.getTransparentActor().valid(t)),this._valid},update:function(){this._drawables.length=0,this._drawOcTree.reset(),this.apply(this._sceneRoot),this._drawables.sort(xa),this._drawOcTree.create(this._drawables)},draw:function(t,e){if(!this._valid)return e;if(this._renderer.isFrameTimeOut())return e;0===this._drawIndex&&this.updateProjectionNearFar(),this.drawCamera(e);for(var r=void 0,n=this._drawables.length,i=this._drawIndex;i<n;i++){var a=this._drawables[i];if(a.valid()&&(a.isTransparent()?this._renderer.getTransparentActor().addDrawable(a):(a.draw(t,r),r=a)),this._drawIndex++,this._renderer.isFrameTimeOut())break}return this._baseCamera},drawReset:function(){_a.prototype.drawReset.call(this),this.ocTreeCullTraverse(this._drawOcTree.root())},ocTreeCullTraverse:function(t,e){var r=e,n=t.getBoundingBox();r&&this._clipBox&&(r=n.intersectBoundingBox(this._clipBox)),r&&(r=this._baseCamera.isBoundingBoxCulled(n)),t.valid(r);for(var i=t.getChildren(),a=i.length,o=0;o<a;o++){var s=i[o];this.ocTreeCullTraverse(s,r)}},updateProjectionNearFar:function(){var t=this._drawOcTree.root().getBoundingBox();if(t.valid()){this._baseCamera.updateBoundingBoxNearFarCorner();var e=J.MemoryPool.alloc();t.getCorner(this._baseCamera._boundingBoxFarCorner,e);var r=this._baseCamera.distancePointToEye(e),n=5e-4*r;n<10&&(n=10),this._baseCamera.updateProjectionMatrix(n,r,5e-4)}else this._baseCamera.updateProjectionMatrix(1e3,1e6,5e-4)},linesegmentIntersect:function(t,e,r,n,i,a){var o=new Ji;o.reset(),o.setIntersections(t),o.initialize(e,r),o.setUsageMask(n),o.setOutcomeMask(i),o.setCategoryFilter(a),this.ocTreeIntersectTraverse(this._drawOcTree.root(),o),o.sort()},polytopeIntersect:function(t,e,r,n,i){var a=new Zi;a.reset(),a.setIntersections(t),a.initialize(e),a.setUsageMask(r),a.setOutcomeMask(n),a.setCategoryFilter(i),this.ocTreeIntersectTraverse(this._drawOcTree.root(),a)},boundingBoxIntersect:function(t,e,r,n,i){var a=new Pa;a.reset(),a.setIntersections(t),a.initialize(e),a.setUsageMask(r),a.setOutcomeMask(n),a.setCategoryFilter(i),this.ocTreeIntersectTraverse(this._drawOcTree.root(),a)},ocTreeIntersectTraverse:function(t,e){if(e.intersectBoundingBox(t.getBoundingBox())){for(var r=t.getDrawables(),n=r.length,i=0;i<n;i++){var a=r[i];e.intersect(a)}var o=t.getChildren();n=o.length;for(var s=0;s<n;s++){var h=o[s];this.ocTreeIntersectTraverse(h,e)}}}}),Ra.prototype[Ta.typeID]=function(t){this[da.typeID](t);var e=t.getRelation();e&&e.getBoundingBox().expandByBoundingBox(t.getBoundingBox())};var Oa=Ra,Na=function(t){Ea.call(this,t)};(Na.prototype=Object.create(Ea.prototype)).constructor=Na,Object.assign(Na.prototype,{reset:function(){Ea.prototype.reset.call(this)}});var La=Na,Da=function(t){_a.call(this,t)};(Da.prototype=Object.create(_a.prototype)).constructor=Da,Object.assign(Da.prototype,{reset:function(){_a.prototype.reset.call(this)},createDrawable:function(){return new La(this)}});var Fa=Da,Ba=function(t){ea.call(this,t)},Ua=function(t,e){return e.getDepth()-t.getDepth()};(Ba.prototype=Object.create(ea.prototype)).constructor=Ba,Object.assign(Ba.prototype,{reset:function(){ea.prototype.reset.call(this)},drawReset:function(){ea.prototype.drawReset.call(this),this._drawables.length=0},addDrawable:function(t){t.computeDepth(),this._drawables.push(t)},distanceZ:function(t,e){return-(t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+e[14])},draw:function(t,e){if(!this._valid)return e;if(this._renderer.isFrameTimeOut())return e;0===this._drawIndex&&this._drawables.sort(Ua),this.drawCamera(e);for(var r=void 0,n=this._drawables.length,i=this._drawIndex;i<n;i++){var a=this._drawables[i];if(a.draw(t,r),r=a,this._drawIndex++,this._renderer.isFrameTimeOut())break}return this._baseCamera}});var Ga=Ba,ka=function(t){ea.call(this,t)};(ka.prototype=Object.create(ea.prototype)).constructor=ka,Object.assign(ka.prototype,{drawReset:function(){this._baseCamera.setClearFlag(!1),this._drawIndex=0,this._drawables.length=0},draw:function(t,e){if(this.apply(this._sceneRoot),!this._valid)return e;this.drawCamera(e);for(var r=void 0,n=this._drawables.length,i=this._drawIndex;i<n;i++){var a=this._drawables[i];a.valid()&&(a.draw(t,r),r=a),this._drawIndex++}return this._baseCamera}});var Va=ka,Ha=function(){bt.call(this),this._format=void 0,this._width=0,this._height=0,this._dirty=!0};Ha.DEPTH_COMPONENT16=33189,(Ha.prototype=Object.create(bt.prototype)).constructor=Ha,Object.assign(Ha.prototype,{resize:function(t,e){t===this._width&&e===this._height||(this._dirty=!0,this._width=t,this._height=e)},getHeight:function(){return this._height},getWidth:function(){return this._width},setFormat:function(t){this._format!==t&&(this._format=t,this._dirty=!0)},apply:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];return!n?(n=e.createRenderbuffer(),this._glcontexts[r]=n,e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,this._format,this._width,this._height),this._dirty=!1):(e.bindRenderbuffer(e.RENDERBUFFER,n),this._dirty&&(e.renderbufferStorage(e.RENDERBUFFER,this._format,this._width,this._height),this._dirty=!1)),n},releaseGLObject:function(t){var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteRenderbuffer(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;GLState.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteRenderbuffer(n),t._glcontexts[id]=void 0)})}});var Ya=Ha,ja=function(t){bt.call(this),this._glstate=t,this._texture=void 0,this._renderbuffer=void 0,this._program=void 0,this._planegeom=void 0,this._viewport=void 0,this._texture2D=void 0,this._stateset=void 0,this.init()};(ja.prototype=Object.create(bt.prototype)).constructor=ja,Object.assign(ja.prototype,{init:function(){var t=this._glstate,e=t.getWebGLContext(),r=t.getContextID(),n=e.canvas.width,i=e.canvas.height;this._texture=new Jr,this._texture._target=Jr.TEXTURE_2D,this._texture.resize(n,i),this._texture.setInternalFormat(Jr.RGB),this._texture._magFilter=Jr.LINEAR,this._texture._minFilter=Jr.LINEAR,this._texture._wrapS=Jr.CLAMP_TO_EDGE,this._texture._wrapT=Jr.CLAMP_TO_EDGE;var a=this._texture.apply(t);this._renderbuffer=new Ya,this._renderbuffer.resize(n,i),this._renderbuffer.setFormat(Ya.DEPTH_COMPONENT16);var o=this._renderbuffer.apply(t),s=e.createFramebuffer();this._glcontexts[r]=s,e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),this._program=Lr.createPlaneTextureFAXX(),this._viewport=new Xn,this._viewport.setViewport(0,0,n,i),this._stateset=new Zt,this._stateset.addAttribute(this._program),this._stateset.addAttribute(this._texture),this._texture2D=new tn,this._texture2D.resize(n,i),this._stateset.addAttribute(this._texture2D),this._stateset.addAttribute(new Tr(Tr.LESS,0,1,!1)),this._planegeom=new be;var h=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),u=new we(we.ARRAY_BUFFER,h,2);this._planegeom.setBufferArray("Vertex",u);var c=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),l=new we(we.ARRAY_BUFFER,c,2);this._planegeom.setBufferArray("Texture",l),this._planegeom.setPrimitive(new Oe(Me.TRIANGLES,0,6))},resize:function(){var t=this._glstate,e=t.getWebGLContext().canvas,r=e.width,n=e.height;this._texture.resize(r,n),this._texture.apply(t),this._renderbuffer.resize(r,n),this._renderbuffer.apply(t),this._viewport.setViewport(0,0,r,n),this._texture2D.resize(r,n)},buffer:function(){var t=this._glstate,e=t.getWebGLContext(),r=t.getContextID();e.bindFramebuffer(e.FRAMEBUFFER,this._glcontexts[r])},draw:function(){var t=this._glstate,e=t.getWebGLContext();e.bindFramebuffer(e.FRAMEBUFFER,null),t.applyAttribute(this._viewport),e.clearColor(0,0,0,1),e.clearDepth(1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t.applyStateSet(this._stateset),this._planegeom.draw(t)},releaseGLObject:function(){var t=this._glstate;this._texture&&this._texture.releaseGLObject(t),this._renderbuffer&&this._renderbuffer.releaseGLObject(t),this._program&&this._program.releaseGLObject(t),this._planegeom&&this._planegeom.releaseGLObject(t);var e=t.getWebGLContext(),r=t.getContextID(),n=this._glcontexts[r];n&&(e.deleteFramebuffer(n),this._glcontexts[r]=void 0)},releaseGLObjects:function(){var t=this;this._texture&&this._texture.releaseGLObjects(),this._renderbuffer&&this._renderbuffer.releaseGLObjects(),this._program&&this._program.releaseGLObjects(),this._planegeom&&this._planegeom.releaseGLObjects(),GLState.gWebGLContexts.forEach(function(e,r){var n=t._glcontexts[r];n&&(e.deleteFramebuffer(n),t._glcontexts[r]=void 0)})}});var Xa=ja,Qa=function(t){this._canvas=t;var e=this._canvas.getContext("webgl",{alpha:!1})||this._canvas.getContext("experimental-webgl",{alpha:!1});this._glstate=new ye(e);var r=this._canvas.width,n=this._canvas.height,i=r/n;this._mainCamera=new Sr,this._mainCamera.setViewport(new Xn(0,0,r,n)),this._mainCamera.setModelViewLookAt(J.create(0,-1e3,0),J.new(),J.create(0,0,1)),this._mainCamera.setProjectionPerspective(F.degree_to_radian(Z.CAMERA_PERSPECTIVE_FOV),i,1e3,1e6),this._frameTimer=new Gn,this._frameTimer1=new Gn,this._redrawflag=!1,this._drawbuffer=new Xa(this._glstate),this._moduleActors=new Map,this._axisgridActor=new Fa(this),this._moduleActors.set($e.AXISGRID_MODULE,this._axisgridActor),this._componentActor=new Oa(this),this._moduleActors.set($e.COMPONENT_MODULE,this._componentActor),this._moduleActors.set($e.CHARACTER_MODULE,null),this._moduleActors.set($e.MEASURE_MODULE,null),this._moduleActors.set($e.MULTIPICK_MODULE,null),this._moduleActors.set($e.NAVIGATE_MODULE,null),this._moduleActors.set($e.CURSOR_MODULE,null),this._transparentActor=new Ga(this),this._moduleActors.set($e.TRANSPARENT_MODULE,this._transparentActor),this._moduleActors.set($e.SECTION_MODULE,null)};Object.assign(Qa.prototype,{getGLState:function(){return this._glstate},getMainCamera:function(){return this._mainCamera},getFrameTimer:function(){return this._frameTimer},isFrameTimeOut:function(){return this._frameTimer.cost()>Z.FRAME_FIX_TIME},getDrawBuffer:function(){return this._drawbuffer},getComponentActor:function(){return this._componentActor},getAxisGridActor:function(){return this._axisgridActor},getTransparentActor:function(){return this._transparentActor},getModuleActor:function(t){return this._moduleActors.get(t)},createModuleActor:function(t){var e=this._moduleActors.get(t);switch(t){case $e.NAVIGATE_MODULE:e=new ea(this);break;case $e.SECTION_MODULE:case $e.MULTIPICK_MODULE:case $e.CHARACTER_MODULE:case $e.MEASURE_MODULE:case $e.CURSOR_MODULE:e=new Va(this)}return this._moduleActors.set(t,e),e},resetModuleActor:function(t){this._moduleActors.get(t);return this._moduleActors.set(t,null),null},drawReset:function(){this._glstate.resetCache(),this._moduleActors.forEach(function(t){t&&t.drawReset()})},drawFinished:function(){return!!this._componentActor.drawFinished()&&this._transparentActor.drawFinished()},draw:function(t){var e=this._glstate;if(this._frameTimer.count(),t){this._frameTimer1.count(),this._redrawflag=!0,this._drawbuffer.buffer(e),this.drawReset();var r=void 0;this._moduleActors.forEach(function(t){t&&(r=t.draw(e,r))}),this._glstate.applyDefault(),this._drawbuffer.draw(e)}else if(this.drawFinished())this._redrawflag&&(console.log(this._frameTimer1.cost()),this._redrawflag=!1);else{this._drawbuffer.buffer(e);var n=this._componentActor.draw(e,void 0);this._transparentActor.draw(e,n),this._glstate.applyDefault(),this._drawbuffer.draw(e)}},update:function(){this._componentActor.update()},flushAllDeletedGLObjects:function(){var t=this._glstate.getWebGLContext();BufferArray.flushDeletedGLBufferArray(t),Program.flushDeletedGLProgram(t),Shader.flushDeletedGLShader(t)}});var Wa=Qa,za=function(t){this._scenery=t,this._sceneRoot=new ji,this._currentRoot=this._sceneRoot,this._statesets=new Map};Object.assign(za.prototype,{setSceneRoot:function(t){this._sceneRoot=t,this._currentRoot=this._sceneRoot},getSceneRoot:function(){return this._sceneRoot},resetSceneRoot:function(){this._sceneRoot.reset(),this._currentRoot=this._sceneRoot},getRootStateSet:function(){return this._sceneRoot.getStateSet()},getBoundingBox:function(){return this._sceneRoot.getBoundingBox()},getBoundingSphere:function(){return this._sceneRoot.getBoundingSphere()},releaseGLObjects:function(){var t=new At;t.setNodeMaskOverride(-1),t.reset(),t.apply(this._sceneRoot)}});var qa=za,Ja=function(t){qa.call(this,t),this._singlePick=!1};(Ja.prototype=Object.create(qa.prototype)).constructor=Ja,Object.assign(Ja.prototype,{isSinglePicked:function(t){return void 0!==t&&(this._singlePick=t),this._singlePick},releaseGLObjects:function(){}});var Ka=Ja,Za=function(){da.call(this)};(Za.prototype=Object.create(da.prototype)).constructor=Za,Object.assign(Za.prototype,{reset:function(){da.prototype.reset.call(this);for(var t=this._children.length,e=0;e<t;e++)this._children[e].reset()},revert:function(){da.prototype.revert.call(this);for(var t=this._children.length,e=0;e<t;e++)this._children[e].revert()},assignHide:function(t){for(var e=this._children.length,r=0;r<e;r++)this._children[r].assignHide(t)},assignUnhide:function(t){for(var e=this._children.length,r=0;r<e;r++)this._children[r].assignUnhide(t)},show:function(){for(var t=this._children.length,e=0;e<t;e++)this._children[e].show()},highlight:function(t,e){if(da.prototype.highlight.call(this,t,e)){for(var r=this._children.length,n=0;n<r;n++)this._children[n].highlight(t,e);return!0}return!1},unhighlight:function(){if(da.prototype.unhighlight.call(this)){for(var t=this._children.length,e=0;e<t;e++)this._children[e].unhighlight();return!0}return!1},transparent:function(t){for(var e=this._children.length,r=0;r<e;r++)this._children[r].transparent(t)},untransparent:function(){for(var t=this._children.length,e=0;e<t;e++)this._children[e].untransparent();return!0},coloring:function(t){da.prototype.coloring.call(this,t);for(var e=this._children.length,r=0;r<e;r++)this._children[r].coloring(t)},discoloring:function(){da.prototype.discoloring.call(this);for(var t=this._children.length,e=0;e<t;e++)this._children[e].discoloring()}}),Za.typeID=Za.prototype.typeID=p.RENDERRELATION_TYPE;var $a=Za,to=function(){this._frontBuffer=[],this._backBuffer=[]};to.prototype={array:function(){return this._frontBuffer},length:function(){return this._frontBuffer.length},index:function(t){return this._frontBuffer[t]},push:function(t){t._index=this._frontBuffer.length,this._frontBuffer.push(t)},clear:function(){for(var t=this._frontBuffer.length,e=0;e<t;e++){var r=this._frontBuffer[e];r&&(r._index=void 0)}this._frontBuffer.length=0,this._backBuffer.length=0},singleRemove:function(t){var e=this._frontBuffer.indexOf(t);-1!==e&&this._frontBuffer.splice(e,1)},multipleRemove:function(t){void 0!==t._index&&(this._frontBuffer[t._index]=void 0),t._index=void 0},sync:function(){for(var t=this._frontBuffer.length,e=0;e<t;e++){var r=this._frontBuffer[e];r&&this._backBuffer.push(r)}this._frontBuffer.length=0;var n=this._frontBuffer;this._frontBuffer=this._backBuffer,this._backBuffer=n}};var eo=to,ro=function(t){Ka.call(this,t),this._sceneRoot.setName("ComponentRoot");var e=new Zt;e.addAttribute(Lr.createSolidDefault.call(this)),e.addAttribute(new Zr),e.addAttribute(new Qt),e.addAttribute(new Tr(Tr.LESS,.2,.9)),e.addAttribute(new Le),this._sceneRoot.setStateSet(e),this._clipBox=void 0,this._singlePick=!0,this._relationPick=!0,this._highlightEntities=new eo,this._highlightBox=new ie,this._highlightSphere=new oe,this._highlightChanged=!1,this._highlightState=new Zt;var r=new Qt(Z.HighlightColor);this._highlightState.addAttribute(r,Mt.OVERRIDE|Mt.PROTECTED),this._displayTrees=[],this._batchEntities=new Map};(ro.prototype=Object.create(Ka.prototype)).constructor=ro,Object.assign(ro.prototype,{openUpdate:function(t,e){var r=this,n=e.getTransform();this._sceneRoot.addChild(n),this._currentRoot=n;var i=t.getAllComponent();0!==i.size&&i.forEach(function(t,n){var i=new Ta;i.setName(n),i.setEntity(t),i.addChild(t.getGeometry()),e.addRenderComponent(n,i),r._currentRoot.addChild(i),r.updateRenderComponent(i)});var a=t.getAllRelation();0!==a.size&&a.forEach(function(t,r){var n=new $a;n.setName(r),n.setEntity(t),e.addRenderRelation(r,n);var i=[];t.getRelComponents(i);for(var a=i.length,o=0;o<a;o++){var s=e.getRenderComponent(i[o].getUniqueID());s&&(n.addChild(s),s.setRelation(n))}})},closeUpdate:function(t){var e=this,r=t.getTransform();this._sceneRoot.addChild(r),this._currentRoot=r,t.getRenderComponents().forEach(function(t){e.updateRenderComponent(t)})},revertEntities:function(){this._scenery._sceneBlock.forEach(function(t){t.getRenderComponents().forEach(function(t){t.revert()}),t.getRenderRelations().forEach(function(t){t.revert()})})},resetEntities:function(){this._scenery._sceneBlock.forEach(function(t){t.getRenderComponents().forEach(function(t){t.reset()}),t.getRenderRelations().forEach(function(t){t.reset()})})},setClipBox:function(t){this._clipBox=t},getBoundingBoxWithClip:function(){return this._clipBox?this._clipBox:this._sceneRoot.getBoundingBox()},getBoundingSphereWithClip:function(){if(this._clipBox){var t=new oe;return t.expandByBoundingBox(this._clipBox),t}return this._sceneRoot.getBoundingSphere()},getRenderComponent:function(t){var e=!0,r=!1,n=void 0;try{for(var i,a=this._scenery._sceneBlock[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=nr()(i.value,2),s=(o[0],o[1].getRenderComponent(t));if(s)return s}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return null},getRenderRelation:function(t){var e=!0,r=!1,n=void 0;try{for(var i,a=this._scenery._sceneBlock[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=nr()(i.value,2),s=(o[0],o[1].getRenderRelation(t));if(s)return s}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return null},getRenderEntity:function(t){var e=this.getRenderComponent(t);return e||((e=this.getRenderRelation(t))||null)},updateRenderComponent:function(t){this._displayTrees.forEach(function(e){e.update(t)})},isRelationPicked:function(t){return void 0!==t&&(this._relationPick=t),this._relationPick},setHighlightColor:function(t){this._highlightState.getAttribute("MaterialColor").setAmbient(t)},revertHighlightColor:function(){this._highlightState.getAttribute("MaterialColor").setAmbient(Z.HighlightColor)},getHighlightEntities:function(){return this._highlightEntities.array()},getHighlightBox:function(){if(this._highlightChanged){this._highlightBox.reset();for(var t=this._highlightEntities.length(),e=0;e<t;e++){var r=this._highlightEntities.index(e);this._highlightBox.expandByBoundingBox(r.getBoundingBox())}this._highlightChanged=!1}return this._highlightBox},getHighlightSphere:function(){return this._highlightSphere.reset(),this._highlightSphere.expandByBoundingBox(this.getHighlightBox()),this._highlightSphere},hasHighlightEntities:function(){return 0!==this._highlightEntities.length()},highlightEntity:function(t,e){t.highlight(this._highlightState,e)&&(this._highlightEntities.push(t),this._highlightChanged=!0)},highlightEntityBySearch:function(t){var e=this.getRenderEntity(t);return!!e&&(this.highlightEntity(e,!0),!0)},highlightEntityBySelect:function(t,e){if(this._relationPick){var r=t.getEntity().getOutmostRelation();if(r){var n=r.getUniqueID(),i=this.getRenderRelation(n);i&&(t=i)}}this.highlightEntity(t,e)},unhighlightEntity:function(t,e){t.unhighlight()&&(e?this._highlightEntities.multipleRemove(t):this._highlightEntities.singleRemove(t),this._highlightChanged=!0)},unhighlightSync:function(){this._highlightEntities.sync()},unhighlightEntities:function(){var t=this._highlightEntities.length();if(0===t)return!1;for(var e=0;e<t;e++)this._highlightEntities.index(e).unhighlight();return this._highlightEntities.clear(),this._highlightBox.reset(),this._highlightSphere.reset(),this._highlightChanged=!0,!0},unhighlightEntityBySelect:function(t,e){if(this._relationPick){var r=t.getEntity().getOutmostRelation();if(r){var n=r.getUniqueID(),i=this.getRenderRelation(n);i&&(t=i)}}this.unhighlightEntity(t,e)},transparentComponents:function(){var t=this;this._scenery._sceneBlock.forEach(function(e){e.getRenderComponents().forEach(function(e){e.transparent(t._scenery._transparentState)})})},untransparentComponents:function(){var t=0;return this._scenery._sceneBlock.forEach(function(e){e.getRenderComponents().forEach(function(e){e.untransparent()&&t++})}),0!==t},createComponentTree:function(t){var e=new fa(t,this);return this._displayTrees.push(e),this._scenery._sceneBlock.forEach(function(t){t.getRenderComponents().forEach(function(t){e.update(t)})}),e},resetComponentTrees:function(){this._displayTrees.forEach(function(t){t.reset()})},displayTreeNode:function(t,e){return e.displayNode(t)},hightlightTreeNode:function(t,e){return e.highlightNode(t)},showTreeRoot:function(t){t?t.showRoot():this._displayTrees.forEach(function(t){t.showRoot()})},hideTreeRoot:function(t){t?t.hideRoot():this._displayTrees.forEach(function(t){t.hideRoot()})},showEachComponents:function(){this._scenery._sceneBlock.forEach(function(t){t.getRenderComponents().forEach(function(t){t.assignUnhide()})})},hideEachComponents:function(){this._scenery._sceneBlock.forEach(function(t){t.getRenderComponents().forEach(function(t){t.assignHide()})})},showAssignEntity:function(t){var e=this.getRenderEntity(t);return!!e&&(e.assignUnhide(!0),!0)},hideAssignEntity:function(t){var e=this.getRenderEntity(t);return!!e&&(e.assignHide(!0),!0)},setBatchEntities1:function(t,e){var r=!0;if(this._batchEntities.has(t)){for(var n=this._batchEntities.get(t).entities,i=n.length,a=0;a<i;a++)n[a].discoloring();r=!1}return value.entities=e,value.color=void 0,this._batchEntities.set(t,value),r},setBatchEntities:function(t,e){var r=!0;if(this._batchEntities.has(t)){for(var n=this._batchEntities.get(t).entities,i=n.length,a=0;a<i;a++)n[a].discoloring();r=!1}var o={};o.guids=e;for(var s=[],h=e.length,u=0;u<h;u++){var c=this.getRenderEntity(e[u]);c&&s.push(c)}return o.entities=s,o.color=void 0,this._batchEntities.set(t,o),r},removeBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t).entities,r=e.length,n=0;n<r;n++)e[n].discoloring();return this._batchEntities.delete(t),!0}return!1},clearBatchEntities:function(){this._batchEntities.forEach(function(t){for(var e=t.entities,r=e.length,n=0;n<r;n++)e[n].discoloring()}),this._batchEntities.clear()},updateBatchEntities:function(){var t=this;this._batchEntities.forEach(function(e){for(var r=[],n=e.guids,i=e.color,a=n.length,o=0;o<a;o++){var s=t.getRenderEntity(n[o]);s&&(s.coloring(i),r.push(s))}e.entities=r})},coloringBatchEntities:function(t,e,r,n,i){if(this._batchEntities.has(t)){var a=new Zt,o=new Qt([e,r,n,i]);if(a.addAttribute(o,Mt.OVERRIDE),o.isTransparent()){var s=new Le(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA);a.addAttribute(s,Mt.OVERRIDE)}var h=this._batchEntities.get(t);h.color=a;for(var u=h.entities,c=u.length,l=0;l<c;l++)u[l].coloring(a);return!0}return!1},discoloringBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t),r=e.entities,n=r.length,i=0;i<n;i++)r[i].discoloring();return e.color.releaseGLObjects(),!0}return!1},highlightBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t).entities,r=e.length,n=0;n<r;n++)this.highlightEntity(e[n],!1);return!0}return!1},unhighlightBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t).entities,r=e.length,n=0;n<r;n++)this.unhighlightEntity(e[n]);return this.unhighlightSync(),!0}return!1},transparentBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t).entities,r=e.length,n=0;n<r;n++)e[n].transparent(this._scenery._transparentState);return!0}return!1},untransparentBatchEntities:function(t){if(this._batchEntities.has(t)){for(var e=this._batchEntities.get(t).entities,r=e.length,n=0;n<r;n++)e[n].untransparent();return!0}return!1},saveViewState:function(t){this._displayTrees.forEach(function(e){var r=t.createDisplaytreeControlState();e.saveViewState(r),t._componentTreeStates.push(r)})},loadViewState:function(t){for(var e=t._componentTreeStates.length,r=0;r<e;r++)for(var n=t._componentTreeStates[r],i=this._displayTrees.length,a=0;a<i&&!this._displayTrees[a].loadViewState(n);a++);}});var no=ro,io=function(t){Ka.call(this,t),this._sceneRoot.setName("AxisgridRoot"),this._singlePick=!1};(io.prototype=Object.create(Ka.prototype)).constructor=io,Object.assign(io.prototype,{});var ao=io,oo=function(){this._transform=new Ce,this._components=new Map,this._relations=new Map,this._axisgrids=new Map};oo.prototype={updateTransform:function(t){this._transform.setMatrix(t)},getTransform:function(){return this._transform},addRenderComponent:function(t,e){e&&this._components.set(t,e)},getRenderComponents:function(){return this._components},getRenderComponent:function(t){return this._components.get(t)},removeRenderComponent:function(t){return this._components.delete(t)},clearRenderComponents:function(){this._components.clear()},getRenderComponentNumber:function(){return this._components.size},addRenderRelation:function(t,e){e&&this._relations.set(t,e)},getRenderRelations:function(){return this._relations},getRenderRelation:function(t){return this._relations.get(t)},removeRenderRelation:function(t){return this._relations.delete(t)},clearRenderRelations:function(){this._relations.clear()},getRenderRelationNumber:function(){return this._relations.size},addRenderAxisgrid:function(t,e){e&&this._axisgrids.set(t,e)},getRenderAxisgrids:function(){return this._axisgrids},getRenderAxisgrid:function(t){return this._axisgrids.get(t)},removeRenderAxisgrid:function(t){return this._axisgrids.delete(t)},clearRenderAxisgrids:function(){this._axisgrids.clear()},getRenderAxisgridNumber:function(){return this._axisgrids.size}};var so=oo,ho=function(){this._sceneBlock=new Map,this._componentGraph=new no(this),this._axisgridGraph=new ao(this),this._moduleGraphs=new Map,this._moduleGraphs.set($e.COMPONENT_MODULE,this._componentGraph),this._moduleGraphs.set($e.AXISGRID_MODULE,this._axisgridGraph),this._moduleGraphs.set($e.NAVIGATE_MODULE,null),this._moduleGraphs.set($e.SECTION_MODULE,null),this._moduleGraphs.set($e.CHARACTER_MODULE,null),this._moduleGraphs.set($e.MULTIPICK_MODULE,null),this._moduleGraphs.set($e.MEASURE_MODULE,null),this._moduleGraphs.set($e.CURSOR_MODULE,null),this._transparentState=new Zt;var t=new Qt(Z.TransparentColor);this._transparentState.addAttribute(t,Mt.OVERRIDE|Mt.PROTECTED);var e=new Le(Le.SRC_ALPHA,Le.ONE_MINUS_SRC_ALPHA);this._transparentState.addAttribute(e,Mt.OVERRIDE|Mt.PROTECTED),this._referenceTranslate=void 0};Object.assign(ho.prototype,{getRenderBlockByProjectName:function(t){var e=!0,r=!1,n=void 0;try{for(var i,a=this._sceneBlock[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=nr()(i.value,2),s=o[0],h=o[1];if(s.getProject().getName()===t)return h}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}},getRenderBlock:function(t){return this._sceneBlock.get(t)},getSceneBlock:function(){return this._sceneBlock},removeRenderBlock:function(t){return this._sceneBlock.delete(t)},clearSceneBlock:function(){this._sceneBlock.clear()},getComponentGraph:function(){return this._componentGraph},getAxisgridGraph:function(){return this._axisgridGraph},getModuleGraph:function(t){return this._moduleGraphs.get(t)},createModuleGraph:function(t){var e=this._moduleGraphs.get(t);return e&&e.releaseGLObjects(),e=new qa(this),this._moduleGraphs.set(t,e),e},resetModuleGraph:function(t){var e=this._moduleGraphs.get(t);return e&&e.releaseGLObjects(),this._moduleGraphs.set(t,null),null},computeTransform:function(t){var e=te.new(),r=t.getProject().getBuilding();if(r){var n=r.getRotation(),i=te.MemoryPool.alloc();te.fromQuat(i,n);var a=te.MemoryPool.alloc(),o=r.getTranslation();if(this._referenceTranslate){var s=J.new_d();J.sub(s,o,this._referenceTranslate),te.fromTranslation(a,s)}else this._referenceTranslate=J.new_d(),J.copy(this._referenceTranslate,o),te.identity(a);te.multiply(e,a,i),te.MemoryPool.free(i),te.MemoryPool.free(a)}else this._referenceTranslate||(this._referenceTranslate=J.new_d());return e},update:function(t,e){var r=this;e===v.OPEN?(this._componentGraph.revertEntities(),this._componentGraph.unhighlightEntities(),this._componentGraph.showTreeRoot(),t.forEach(function(t){var e=r._sceneBlock.get(t);e?(e.clearRenderComponents(),e.clearRenderRelations(),e.clearRenderAxisgrids()):(e=new so,r._sceneBlock.set(t,e)),e.updateTransform(r.computeTransform(t)),r._componentGraph.openUpdate(t,e)}),this._componentGraph.updateBatchEntities()):e===v.CLOSE&&(t.length===this._sceneBlock.size?(this._referenceTranslate=void 0,this._sceneBlock.clear()):t.forEach(function(t){r._sceneBlock.delete(t)}),this._componentGraph.resetEntities(),this._componentGraph.unhighlightEntities(),this._componentGraph.resetSceneRoot(),this._componentGraph.resetComponentTrees(),this._sceneBlock.forEach(function(t){r._componentGraph.closeUpdate(t)}),this._componentGraph.updateBatchEntities())},setTransparency:function(t){var e=W.MemoryPool.alloc();W.copy(e,Z.TransparentColor),e[3]=t,this._transparentState.getAttribute("MaterialColor").setAmbient(e),W.MemoryPool.free(e)},revertTransparency:function(){this._transparentState.getAttribute("MaterialColor").setAmbient(Z.TransparentColor)},saveViewState:function(t){this._sceneBlock.forEach(function(e,r){var n=t.createAssignedControlState(),i=[],a=[];e.getRenderComponents().forEach(function(t,e){t.isAssignHided()?i.push(e):a.push(e)}),i.length>=a.length?(n._componentHideFlag=!1,n._assignedComponents=a):(n._componentHideFlag=!0,n._assignedComponents=i);var o=[],s=[];e.getRenderAxisgrids().forEach(function(t,e){t.isAssignHided()?o.push(e):s.push(e)}),o.length>=s.length?(n._axisgridHideFlag=!1,n._assignedAxisgrids=s):(n._axisgridHideFlag=!0,n._assignedAxisgrids=o),t._assignedControlStates.set(r.getProject().getName(),n)}),this._componentGraph.saveViewState(t)},loadViewState:function(t){this._componentGraph.unhighlightEntities(),this._componentGraph.untransparentComponents();var e=!0,r=!1,n=void 0;try{for(var i,a=t._assignedControlStates[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var o=nr()(i.value,2),s=o[0],h=o[1],u=this.getRenderBlockByProjectName(s);if(u){if(u.assingedControlState=!0,h._componentHideFlag){u.getRenderComponents().forEach(function(t){t.assignUnhide()});for(var c=h._assignedComponents.length,l=0;l<c;l++){var g=this._componentGraph.getRenderComponent(h._assignedComponents[l]);g&&g.assignHide()}}else{u.getRenderComponents().forEach(function(t){t.assignHide()});for(var f=h._assignedComponents.length,A=0;A<f;A++){var d=this._componentGraph.getRenderComponent(h._assignedComponents[A]);d&&d.assignUnhide()}}if(h._axisgridHideFlag){u.getRenderAxisgrids().forEach(function(t){t.assignUnhide()});h._assignedAxisgrids.length}else u.getRenderAxisgrids().forEach(function(t){t.assignHide()})}}}catch(t){r=!0,n=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}this._sceneBlock.forEach(function(t){t.assingedControlState?t.assingedControlState=void 0:(t.getRenderComponents().forEach(function(t){t.assignHide()}),t.getRenderAxisgrids().forEach(function(t){t.assignHide()}))}),this._componentGraph.loadViewState(t)}});var uo=ho,co=function(){I.call(this),this._stateset=void 0,this._uvs=void 0};(co.prototype=Object.create(I.prototype)).constructor=co,Object.assign(co.prototype,{setStateSet:function(t){this._stateset=t},getStateSet:function(){return this._stateset},setImage:function(t){this._stateset.getAttribute("Texture").setImage(t)},setUVs:function(t){this._uvs=t},numberUV:function(t){var e=[];if(this._uvs&&Jt.isStringType(t)&&0!==this._uvs.size)for(var r=t.length,n=0;n<r;n++){var i=this._uvs.get(t[n]);e=e.concat(i)}return e}});var lo=co,go=function(t){this._factory=t,this._pureColors=new Map,this._font=void 0,this.init()};Object.assign(go.prototype,{init:function(){this._font=new lo;var t=new Zt;t.isAutoReleased(!1);var e=new Jr;e._target=Jr.TEXTURE_2D,e.setInternalFormat(Jr.RGBA),e._magFilter=Jr.LINEAR,e._minFilter=Jr.LINEAR,e._wrapS=Jr.CLAMP_TO_EDGE,e._wrapT=Jr.CLAMP_TO_EDGE,e.setImage(null),t.addAttribute(e,Mt.OVERRIDE),t.addAttribute(new tn,Mt.OVERRIDE),t.addAttribute(Lr.createNavigateAssist.call(this),Mt.OVERRIDE),this._font.setStateSet(t),this._factory.getResource().getFont().load(this.loadFontCallback.bind(this))},destory:function(){this.clearPureColors()},matchPureColor:function(t){switch(t){case ni.WHITE:return[1,1,1,1];case ni.RED:return[1,0,0,1];case ni.PINK:return[1,.75,.8,1];case ni.HOTPINK:return[1,.41,.71,1];case ni.BROWN:return[.65,.16,.16,1];case ni.CHOCOLATE:return[.82,.4,.12,1];case ni.DARKRED:return[.55,0,0,1];case ni.INDIANRED:return[.93,.39,.39,1];case ni.PURPLE:return[.5,0,.5,1];case ni.BLUE:return[0,0,1,1];case ni.SKYBLUE:return[.53,.8,1,1];case ni.GREEN:return[0,1,0,1];case ni.CYAN:return[0,1,1,1];case ni.DARKGREEN:return[0,.55,0,1];case ni.YELLOW:return[1,1,0,1];case ni.GOLD:return[1,.84,0,1];case ni.ORANGE:return[1,.5,0,1];case ni.DARKORANGE:return[1,.55,0,1];case ni.SILVER:return[.75,.75,.75,1];case ni.GRAY:return[.5,.5,.5,1];case ni.BLACK:return[0,0,0,1];default:return[1,1,1,1]}},getPureColor:function(t){var e=this._pureColors.get(t);return void 0===e&&((e=new Zt).isAutoReleased(!1),e.addAttribute(new Qt(this.matchPureColor(t))),this._pureColors.set(t,e)),e},clearPureColors:function(){this._pureColors.forEach(function(t){t&&t.releaseGLObjects()}),this._pureColors.clear()},getFont:function(){return this._font},loadFontCallback:function(t){this._font.setImage(t[0]),this._font.setUVs(t[1])}});var fo=go,Ao=r(88),po=r.n(Ao),_o=r(89),Co=r.n(_o),Io=r(90),mo=r.n(Io),vo={CURSOR_NORMAL_PNG:po.a,CURSOR_PICKUP_PNG:Co.a,NUMBER_TEXT_PNG:mo.a};Object.freeze(vo);var yo=vo,Eo=function(){this._images=new Map,this._destruct=!0,this._promises=[],this._datas=[]};Eo.prototype={loadImage:function(t,e){var r=new Promise(function(r,n){e.onload=function(){r("load")},e.onerror=function(){n("error")},e.src=t});this._promises.push(r)},newImage:function(t){var e=this._images.get(t);return void 0===e?((e=new Image)._refcount=1,this._images.set(t,e),this.loadImage(t,e)):e._refcount++,e},deleteImage:function(t){var e=this._images.get(t);void 0!==e&&(e._refcount--,this._destruct&&0===e._refcount&&(e.src="",this._images.delete(t)))}};var wo=function(){Eo.call(this)};(wo.prototype=Object.create(Eo.prototype)).constructor=wo,Object.assign(wo.prototype,{load:function(t,e){var r=this;this._datas.push(this.newImage(t._frontImage)),this._datas.push(this.newImage(t._backImage)),this._datas.push(this.newImage(t._topImage)),this._datas.push(this.newImage(t._bottomImage)),this._datas.push(this.newImage(t._leftImage)),this._datas.push(this.newImage(t._rightImage)),this._datas.push(this.newImage(t._compassImage)),Promise.all(this._promises).then(function(){e(r._datas),r._promises.length=0,r._datas.length=0},function(){})},unload:function(t){this.deleteImage(t._frontImage),this.deleteImage(t._backImage),this.deleteImage(t._topImage),this.deleteImage(t._bottomImage),this.deleteImage(t._leftImage),this.deleteImage(t._rightImage),this.deleteImage(t._compassImage)}});var So=function(){Eo.call(this),this._geometrys=new Map,this._destruct=!1};(So.prototype=Object.create(Eo.prototype)).constructor=So,Object.assign(So.prototype,{loadGeometry:function(t,e){var r=this,n=new Promise(function(n,i){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer",a.onreadystatechange=function(){4===a.readyState&&(200===a.status?(r.parseGeometry(a.response,e),n("load")):i("error"))},a.send(null)});this._promises.push(n)},parseGeometry:function(t,e){var r=new Nn(t),n=r.readUInt();e._vertexes=r.readFloatArray(n),n=r.readUInt(),e._normals=r.readFloatArray(n),n=r.readUInt(),e._texutures=r.readFloatArray(n)},newGeometry:function(t){var e=this._geometrys.get(t);return void 0===e?((e={})._refcount=1,this._geometrys.set(t,e),this.loadGeometry(t,e)):e._refcount++,e},deleteGeoemtry:function(t){var e=this._geometrys.get(t);void 0!==e&&(e._refcount--,this._destruct&&0===e._refcount&&(e=null,this._geometrys.delete(t)))},load:function(t,e){var r=this;this._datas.push(this.newImage(t._characterImage)),this._datas.push(this.newGeometry(t._characterData)),Promise.all(this._promises).then(function(){e(r._datas),r._promises.length=0,r._datas.length=0},function(){})},unload:function(t){this.deleteImage(t._characterImage),this.deleteGeoemtry(t._characterData)}});var bo=function(){Eo.call(this)};(bo.prototype=Object.create(Eo.prototype)).constructor=bo,Object.assign(bo.prototype,{load:function(t,e){var r=this;this._datas.push(this.newImage(t._normalImage)),this._datas.push(this.newImage(t._pickupImage)),Promise.all(this._promises).then(function(){e(r._datas),r._promises.length=0,r._datas.length=0},function(){})},unload:function(t){this.deleteImage(t._normalImage),this.deleteGeoemtry(t._pickupImage)}});var To=function(){Eo.call(this),this._numberUV=new Map};(To.prototype=Object.create(Eo.prototype)).constructor=To,Object.assign(To.prototype,{initNumberUV:function(){this._numberUV.clear(),this._numberUV.set("0",[0,1,0,.75,.25,1,.25,.75]),this._numberUV.set("1",[0,.75,0,.5,.25,.75,.25,.5]),this._numberUV.set("2",[0,.5,0,.25,.25,.5,.25,.25]),this._numberUV.set("3",[0,.25,0,0,.25,.25,.25,0]),this._numberUV.set("4",[.25,1,.25,.75,.5,1,.5,.75]),this._numberUV.set("5",[.25,.75,.25,.5,.5,.75,.5,.5]),this._numberUV.set("6",[.25,.5,.25,.25,.5,.5,.5,.25]),this._numberUV.set("7",[.25,.25,.25,0,.5,.25,.5,0]),this._numberUV.set("8",[.5,1,.5,.75,.75,1,.75,.75]),this._numberUV.set("9",[.5,.75,.5,.5,.75,.75,.75,.5]),this._numberUV.set(".",[.5,.5,.5,.25,.75,.5,.75,.25]),this._numberUV.set("°",[.5,.25,.5,0,.75,.25,.75,0])},load:function(t,e){var r=this;this._datas.push(this.newImage(t._numberImage)),this._datas.push(this._numberUV),Promise.all(this._promises).then(function(){r.initNumberUV(),e(r._datas),r._promises.length=0,r._datas.length=0},function(){})},unload:function(t){this.deleteImage(t._numberImage),this._destruct&&this._numberUV.clear()}});var Mo=function(){this._navigate=new wo,this._character=new So,this._cursor=new bo,this._font=new To};Mo.prototype={navigate:function(){return this._navigate},character:function(){return this._character},cursor:function(){return this._cursor},font:function(){return this._font}};var Po=new Mo,Ro=function(){};Ro.prototype={set:function(){},load:function(){},unload:function(){}};var xo=function(){Ro.call(this),this._frontImage=void 0,this._backImage=void 0,this._topImage=void 0,this._bottomImage=void 0,this._leftImage=void 0,this._rightImage=void 0,this._compassImage=void 0};(xo.prototype=Object.create(Ro.prototype)).constructor=xo,Object.assign(xo.prototype,{set:function(t,e,r,n,i,a,o){return void 0!==t&&void 0!==e&&void 0!==i&&void 0!==a&&void 0!==r&&void 0!==n&&void 0!==o&&(this._frontImage=t,this._backImage=e,this._topImage=r,this._bottomImage=n,this._leftImage=i,this._rightImage=a,this._compassImage=o,!0)},load:function(t){Po.navigate().load(this,t)},unload:function(){void 0!==this._frontImage&&void 0!==this._backImage&&void 0!==this._topImage&&void 0!==this._bottomImage&&void 0!==this._leftImage&&void 0!==this._rightImage&&void 0!==this._compassImage&&Po.navigate().unload(this)}});var Oo=function(){Ro.call(this),this._characterImage=void 0,this._characterData=void 0};(Oo.prototype=Object.create(Ro.prototype)).constructor=Oo,Object.assign(Oo.prototype,{set:function(t,e){return void 0!==e&&void 0!==t&&(this._characterImage=e,this._characterData=t,!0)},load:function(t){Po.character().load(this,t)},unload:function(){Po.character().unload(this)}});var No=function(){Ro.call(this),this._normalImage=yo.CURSOR_NORMAL_PNG,this._pickupImage=yo.CURSOR_PICKUP_PNG};(No.prototype=Object.create(Ro.prototype)).constructor=No,Object.assign(No.prototype,{set:function(t,e){return void 0!==t&&void 0!==e&&(this._normalImage=t,this._pickupImage=e,!0)},load:function(t){Po.cursor().load(this,t)},unload:function(){Po.cursor().unload(this)}});var Lo=function(){Ro.call(this),this._callback=void 0,this._numberImage=yo.NUMBER_TEXT_PNG};(Lo.prototype=Object.create(Ro.prototype)).constructor=Lo,Object.assign(Lo.prototype,{set:function(t){return void 0!==t&&(this._callback?(Po.font().unload(this),this._numberImage=t,Po.font().load(this,this._callback)):this._numberImage=t,!0)},load:function(t){this._callback=t,Po.font().load(this,t)},unload:function(){Po.font().unload(this)}});var Do=function(){this._navigate=new xo,this._character=new Oo,this._cursor=new No,this._font=new Lo};Object.assign(Do.prototype,{getNavigate:function(){return this._navigate},getCharacter:function(){return this._character},getCursor:function(){return this._cursor},getFont:function(){return this._font}});var Fo=Do,Bo=function(){this._resource=new Fo,this._stateset=new fo(this)};Object.assign(Bo.prototype,{getResource:function(){return this._resource},getStateset:function(){return this._stateset}});var Uo=Bo,Go=function(t){this._canvas=t;var e=window.devicePixelRatio||1;this._canvas.width=Math.floor(this._canvas.clientWidth*e),this._canvas.height=Math.floor(this._canvas.clientHeight*e),this._renderer=new Wa(t),this._scenery=new uo,this._factory=new Uo,this._requestRedraw=!0};Go.prototype={getDrawCanvas:function(){return this._canvas},getFactory:function(){return this._factory},getStateset:function(){return this._factory.getStateset()},getResource:function(){return this._factory.getResource()},getRenderer:function(){return this._renderer},getMainCamera:function(){return this._renderer.getMainCamera()},getComponentActor:function(){return this._renderer.getComponentActor()},getAxisGridActor:function(){return this._renderer.getAxisGridActor()},getScenery:function(){return this._scenery},getComponentGraph:function(){return this._scenery.getComponentGraph()},getAxisgridGraph:function(){return this._scenery.getAxisgridGraph()},requestRedraw:function(){this._requestRedraw=!0},acceptRedraw:function(){this._requestRedraw=!1},needToFrame:function(){return this._requestRedraw},update:function(t,e){this._scenery.update(t,e),this._renderer.update()}};var ko=Go,Vo=0,Ho=1,Yo=2,jo=3,Xo=function(t){this._canvas=t,this._viewer=new ko(t),this._synclist=[$e.ROAMING_FUNCTION,$e.SECTION_FUNCTION,$e.NAVIGATE_FUCNTION,$e.ENGINE_FUNCTION],this._operations=new Map,this._operations.set($e.ENGINE_FUNCTION,void 0),this._operations.set($e.NAVIGATE_FUCNTION,void 0),this._operations.set($e.MINIMAP_FUCNTION,void 0),this._operations.set($e.PUSHPIN_FUCNTION,void 0),this._operations.set($e.SECTION_FUNCTION,void 0),this._operations.set($e.MEASURE_FUNCTION,void 0),this._operations.set($e.ROAMING_FUNCTION,void 0),this._timer=new Gn,this._config=new Bn,this._callbacks=new Map,this._requestid=0,this._fullscreenFlag=!1,this._mouseType=Vo,this.initEvent()};Object.assign(Xo.prototype,{initEvent:function(){this._windowEvents=["resize"],this._mouseEvents=["mousedown","mousemove","mouseup","mouseout","wheel","contextmenu"],this._keyboardEvents=["keydown","keyup"],this._touchEvents=["touchstart","touchmove","touchend","touchenter","touchleave","touchcancel"],this._glcontextEvents=["webglcontextlost","webglcontextrestored"],this.addEventListeners()},getViewer:function(){return this._viewer},getTimer:function(){return this._timer},getConfig:function(){return this._config},getEvents:function(){return this._events},getOperation:function(t){return this._operations.get(t)},createOperation:function(t){var e=this._operations.get(t);if(e)return e;switch(t){case $e.ENGINE_FUNCTION:e=new Vn(this);break;case $e.NAVIGATE_FUCNTION:e=new Wn(this);break;case $e.SECTION_FUNCTION:e=new ei(this);break;case $e.MEASURE_FUNCTION:e=new Fi(this);break;default:return e}return e.create(),this._operations.set(t,e),e},setOperation:function(t,e){var r=this._operations.get(t);r!==e&&(r&&r.destroy(),e.create(),this._operations.set(t,e))},resetOperation:function(t){var e=this._operations.get(t);e&&(e.destroy(),this._operations.set(t,void 0))},addViewCallback:function(t,e){return void 0===this._callbacks.get(t)&&(this._callbacks.set(t,e),!0)},removeViewCallback:function(t){return this._callbacks.delete(t)},clearViewCallback:function(){this._callbacks.clear()},getViewCallbacks:function(){return this._callbacks},frame:function(){this._requestid=requestAnimationFrame(this.frame.bind(this)),this._timer.count();for(var t=this._synclist.length,e=0;e<t;e++){var r=this._synclist[e],n=this._operations.get(r);n&&n.sync()}this._timer.sync()},screenShot:function(){return this._canvas.toDataURL()},fullscreen:function(){this._fullscreenFlag?this.exitFullScreen():this.enterFullScreen()},enterFullScreen:function(){this._canvas.requestFullscreen?this._canvas.requestFullscreen():this._canvas.mozRequestFullScreen?this._canvas.mozRequestFullScreen():this._canvas.webkitRequestFullScreen&&this._canvas.webkitRequestFullScreen()},exitFullScreen:function(){document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},addEventListeners:function(){for(var t="",e=this._windowEvents.length,r=0;r<e;r++)this[t=this._windowEvents[r]]&&window.addEventListener(t,this[t].bind(this),!1);e=this._mouseEvents.length;for(var n=0;n<e;n++)this[t=this._mouseEvents[n]]&&this._canvas.addEventListener(t,this[t].bind(this),!1);e=this._keyboardEvents.length;for(var i=0;i<e;i++)this[t=this._keyboardEvents[i]]&&document.addEventListener(t,this[t].bind(this),!1);document.addEventListener("fullscreenchange",this[t].bind(this),!1),document.addEventListener("mozfullscreenchange",this[t].bind(this),!1),document.addEventListener("webkitfullscreenchange",this[t].bind(this),!1),e=this._touchEvents.length;for(var a=0;a<e;a++)this[t=this._touchEvents[a]]&&this._canvas.addEventListener(t,this[t].bind(this),!1);e=this._glcontextEvents.length;for(var o=0;o<e;o++)this[t=this._glcontextEvents[o]]&&this._canvas.addEventListener(t,this[t].bind(this),!1)},removeEventListeners:function(){for(var t="",e=this._windowEvents.length,r=0;r<e;r++)this[t=this._windowEvents[r]]&&window.removeEventListener(t,this[t].bind(this),!1);e=this._mouseEvents.length;for(var n=0;n<e;n++)this[t=this._mouseEvents[n]]&&this._canvas.removeEventListener(t,this[t].bind(this),!1);e=this._keyboardEvents.length;for(var i=0;i<e;i++)this[t=this._keyboardEvents[i]]&&document.removeEventListener(t,this[t].bind(this),!1);document.removeEventListener("fullscreenchange",this[t].bind(this),!1),document.removeEventListener("mozfullscreenchange",this[t].bind(this),!1),document.removeEventListener("webkitfullscreenchange",this[t].bind(this),!1),e=this._touchEvents.length;for(var a=0;a<e;a++)this[t=this._touchEvents[a]]&&this._canvas.removeEventListener(t,this[t].bind(this),!1);e=this._glcontextEvents.length;for(var o=0;o<e;o++)this[t=this._glcontextEvents[o]]&&this._canvas.removeEventListener(t,this[t].bind(this),!1)},resize:function(t){var e=window.devicePixelRatio||1;this._canvas.width=Math.floor(this._canvas.clientWidth*e),this._canvas.height=Math.floor(this._canvas.clientHeight*e),this._operations.forEach(function(e){e&&e.resize(t)})},mousedown:function(t){var e=this._operations.values();if(0===t.button){this._mouseType=Ho;var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s[_r.MOUSE_LEFTPUSH](t))break}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else if(1===t.button){this._mouseType=Yo;var h=!0,u=!1,c=void 0;try{for(var l,g=e[Symbol.iterator]();!(h=(l=g.next()).done);h=!0){var f=l.value;if(f&&f[_r.MOUSE_MIDDLEPUSH](t))break}}catch(t){u=!0,c=t}finally{try{h||null==g.return||g.return()}finally{if(u)throw c}}}else if(2===t.button){this._mouseType=jo;var A=!0,d=!1,p=void 0;try{for(var _,C=e[Symbol.iterator]();!(A=(_=C.next()).done);A=!0){var I=_.value;if(I&&I[_r.MOUSE_RIGHTPUSH](t))break}}catch(t){d=!0,p=t}finally{try{A||null==C.return||C.return()}finally{if(d)throw p}}}},mousemove:function(t){var e=this._operations.values();if(this._mouseType===Ho){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s[_r.MOUSE_LEFTDRAG](t))break}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else if(this._mouseType===Yo){var h=!0,u=!1,c=void 0;try{for(var l,g=e[Symbol.iterator]();!(h=(l=g.next()).done);h=!0){var f=l.value;if(f&&f[_r.MOUSE_MIDDLEDRAG](t))break}}catch(t){u=!0,c=t}finally{try{h||null==g.return||g.return()}finally{if(u)throw c}}}else if(this._mouseType===jo){var A=!0,d=!1,p=void 0;try{for(var _,C=e[Symbol.iterator]();!(A=(_=C.next()).done);A=!0){var I=_.value;if(I&&I[_r.MOUSE_RIGHTDRAG](t))break}}catch(t){d=!0,p=t}finally{try{A||null==C.return||C.return()}finally{if(d)throw p}}}else if(this._mouseType===Vo){var m=!0,v=!1,y=void 0;try{for(var E,w=e[Symbol.iterator]();!(m=(E=w.next()).done);m=!0){var S=E.value;if(S&&S[_r.MOUSE_MOVE](t))break}}catch(t){v=!0,y=t}finally{try{m||null==w.return||w.return()}finally{if(v)throw y}}}},mouseup:function(t){var e=this._operations.values();if(0===t.button){var r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s[_r.MOUSE_LEFTRELEASE](t))break}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}}else if(1===t.button){var h=!0,u=!1,c=void 0;try{for(var l,g=e[Symbol.iterator]();!(h=(l=g.next()).done);h=!0){var f=l.value;if(f&&f[_r.MOUSE_MIDDLERELEASE](t))break}}catch(t){u=!0,c=t}finally{try{h||null==g.return||g.return()}finally{if(u)throw c}}}else if(2===t.button){var A=!0,d=!1,p=void 0;try{for(var _,C=e[Symbol.iterator]();!(A=(_=C.next()).done);A=!0){var I=_.value;if(I&&I[_r.MOUSE_RIGHTRELEASE](t))break}}catch(t){d=!0,p=t}finally{try{A||null==C.return||C.return()}finally{if(d)throw p}}}this._mouseType=Vo},mouseout:function(t){this._mouseType=Vo;var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.MOUSE_OUTSIDE](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},wheel:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;if(s&&s[_r.MOUSE_WHEELSCROLL](t))break}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},keydown:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.KEYBORAD_PUSH](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},keyup:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.KEYBORAD_RELEASE](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},contextmenu:function(t){t.preventDefault()},touchstart:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.TOUCH_START](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},touchmove:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.TOUCH_MOVE](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},touchend:function(t){var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.TOUCH_END](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},webglcontextlost:function(t){console.log("webgl context lost!");var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.WEBGLCONTEXT_LOST](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},webglcontextrestored:function(t){console.log("webgl context restored!");var e=this._operations.values(),r=!0,n=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var s=a.value;s&&s[_r.WEBGLCONTEXT_RESTORED](t)}}catch(t){n=!0,i=t}finally{try{r||null==o.return||o.return()}finally{if(n)throw i}}},fullscreenchange:function(){this._fullscreenFlag=document.fullscreen},mozfullscreenchange:function(){this._fullscreenFlag=document.mozFullScreen},webkitfullscreenchange:function(){this._fullscreenFlag=document.webkitIsFullScreen}});var Qo=Xo,Wo=function(t){this._canvas=t,this._adaptor=new Qo(t),this._engine=this._adaptor.createOperation($e.ENGINE_FUNCTION),this._control=new ar(this._adaptor),this._setting=new pn(this._adaptor),this._assist=new er(this._adaptor),this._roaming=new gn(this._adaptor),this._section=new An(this._adaptor),this._growth=new ur(this._adaptor),this._measure=new sr(this._adaptor),this._compare=new Cn(this._adaptor),this._datacore=void 0,this._adaptor.frame()};Wo.checkWebGLsupport=function(t){return!!(t.getContext("webgl",{alpha:!1,preserveDrawingBuffer:!0})||t.getContext("experimental-webgl",{alpha:!1}))||(console.log("Failed to get WebGL context.Your browser or device may not support WebGL."),!1)},Wo.checkWebGL2support=function(t){return!!(t.getContext("webgl2",{alpha:!1,preserveDrawingBuffer:!0})||t.getContext("experimental-webgl",{alpha:!1}))||(console.log("Failed to get WebGL2 context.Your browser or device may not support WebGL2."),!1)},Wo.prototype={getViewControl:function(){return this._control},getViewSetting:function(){return this._setting},getViewAssist:function(){return this._assist},getViewRoaming:function(){return this._roaming},getViewSection:function(){return this._section},getViewMeasure:function(){return this._measure},getViewGrowth:function(){return this._growth},bindDataCore:function(t){return t!==this._datacore&&(this._datacore&&(this._datacore.detachViewCore(this),this._adaptor.getViewer().update(this._datacore.getModelers(),v.CLOSE)),this._datacore=t,this._datacore&&(this._datacore.attachViewCore(this),this._adaptor.getViewer().update(this._datacore.getModelers(),v.OPEN)),this._control.update(),this._section.update(),this._roaming.reset(),!0)},update:function(t,e){this._datacore&&(e===v.OPEN?this._adaptor.getViewer().update(t,v.OPEN):e===v.CLOSE&&this._adaptor.getViewer().update(t,v.CLOSE),this._control.update(),this._section.update(),this._roaming.reset())},saveViewState:function(t){var e=new Tn,r=this._adaptor.getViewer().getMainCamera(),n=e.getCameraState();if(J.copy(n._eye,r._eye),J.copy(n._center,r._center),J.copy(n._up,r._up),Jt.isNumberType(t)){if(t&P.CONTROL){var i=e.getControlState(!0);this._control.saveViewState(i)}if(t&P.ROAMING){var a=e.getRoamingState(!0);this._roaming.saveViewState(a)}if(t&P.SECTION){var o=e.getSectionState(!0);this._section.saveViewState(o)}if(t&P.MEASURE){var s=e.getMeasureState(!0);this._measure.saveViewState(s)}}var h=new xn(e);return h.writeViewStream(),h.concatBuffers()},loadViewState:function(t){if(t instanceof ArrayBuffer){var e=new Dn(t).readViewStream();if(e){var r=e.getCameraState(),n=this._adaptor.getViewer().getMainCamera();J.copy(n._eye,r._eye),J.copy(n._center,r._center),J.copy(n._up,r._up),n.updateModelViewMatrix();var i=e.getControlState();i&&this._control.loadViewState(i);var a=e.getRoamingState();a&&this._roaming.loadViewState(a);var o=e.getSectionState();o&&this._section.loadViewState(o);var s=e.getMeasureState();return s&&this._measure.loadViewState(s),this._adaptor.getViewer().requestRedraw(),!0}return!1}return!1},screenShot:function(){return this._adaptor.screenShot()},fullScreen:function(){this._adaptor.fullscreen()},addViewCallback:function(t,e){return this._adaptor.addViewCallback(t,e)},removeViewCallback:function(t){return this._adaptor.removeViewCallback(t)},clearViewCallback:function(){this._adaptor.clearViewCallback()},test:function(){(this._canvas.getContext("webgl",{alpha:!1})||this._canvas.getContext("experimental-webgl",{alpha:!1})).getExtension("WEBGL_lose_context").loseContext()}};var zo=Wo,qo=function(t){this._viewID=t};qo.prototype={highlightEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().highlightEntities(t)},unhighlightEntities:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().unhighlightEntities()},transparentComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().transparentComponents()},untransparentComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().untransparentComponents()},setBatchEntities:function(t,e){var r=Xe.ViewManager[this._viewID];if(r)return r.getViewControl().setBatchEntities(t,e)},removeBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return t?e.getViewControl().removeBatchEntities(t):(e.getViewControl().clearBatchEntities(),!0)},coloringBatchEntities:function(t,e,r,n,i){var a=Xe.ViewManager[this._viewID];if(a)return a.getViewControl().coloringBatchEntities(t,e,r,n,i)},discoloringBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().discoloringBatchEntities(t)},highlightBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().highlightBatchEntities(t)},unhighlightBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().unhighlightBatchEntities(t)},transparentBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().transparentBatchEntities(t)},untransparentBatchEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().untransparentBatchEntities(t)},showComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().showComponents()},showEachComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().showEachComponents()},hideEachComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().hideEachComponents()},hideSelectComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().hideSelectComponents()},hideUnselectComponents:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewControl().hideUnselectComponents()},showAssignEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().showAssignEntities(t)},hideAssignEntities:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().hideAssignEntities(t)},createComponentTree:function(t,e){var r=Xe.ViewManager[this._viewID];if(r)return r.getViewControl().createComponentTree(t,e)},displayTreeNode:function(t,e){var r=Xe.ViewManager[this._viewID];if(r)return r.getViewControl().displayTreeNode(t,e)},showTreeRoot:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().showTreeRoot(t)},hideTreeRoot:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewControl().hideTreeRoot(t)},hightlightTreeNode:function(t,e){var r=Xe.ViewManager[this._viewID];if(r)return r.getViewControl().hightlightTreeNode(t,e)}};var Jo=qo,Ko=function(t){this._viewID=t};Ko.prototype={openPersonRoaming:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().openPersonRoaming()},setPersonResource:function(t,e){var r=Xe.ViewManager[this._viewID];r&&r.getViewRoaming().setPersonResource(t,e)},setPersonSpeed:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().setPersonSpeed(t)},closePersonRoaming:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().closePersonRoaming()},isThirdPersonOpened:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().isThirdPersonOpened(t)},isGravityFallOpened:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().isGravityFallOpened(t)},isCollisionDetectOpened:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().isCollisionDetectOpened(t)},setLeftMouseOperation:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().setLeftMouseOperation(t)},getRoamingState:function(){var t=Xe.ViewManager[this._viewID];if(t){var e={};return t.getViewRoaming().getViewState(e),e}return{}},revertHomePosition:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().revertHomePosition()},zoomInPosition:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().zoomInPosition()},zoomOutPosition:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().zoomOutPosition()},locateSelectEntities:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewRoaming().locateSelectEntities()},locateAssignEntities:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewRoaming().locateAssignEntities(t)},getSelectEntities:function(){var t=Xe.ViewManager[this._viewID];return t?t.getViewRoaming().getHighlightEntities():[]},getSelectParameters:function(){var t=Xe.ViewManager[this._viewID];return t?t.getViewRoaming().getSelectParameters():[]}};var Zo=Ko,$o=function(t){this._viewID=t};$o.prototype={setBackgroundColor:function(t,e,r,n){var i=Xe.ViewManager[this._viewID];if(i)return i.getViewSetting().setBackgroundColor(t,e,r,n)},getBackgroundColor:function(){var t=Xe.ViewManager[this._viewID];if(t)return t.getViewSetting().getBackgroundColor()},revertBackgroundColor:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSetting().revertBackgroundColor()},setTransparency:function(t){var e=Xe.ViewManager[this._viewID];if(e)return e.getViewSetting().setTransparency(t)},revertTransparency:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSetting().revertTransparency()},setHomeEyePosition:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewSetting().setHomeEyePosition(t)}};var ts=$o,es=function(t){this._viewID=t};es.prototype={openNavigateAssist:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewAssist().openNavigateAssist()},closeNavigateAssist:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewAssist().closeNavigateAssist()},setNavigateProperty:function(t,e,r){var n=Xe.ViewManager[this._viewID];n&&n.getViewAssist().setNavigateProperty(t,e,r)},setNavigateResource:function(t,e,r,n,i,a,o){var s=Xe.ViewManager[this._viewID];s&&s.getViewAssist().setNavigateResource(t,e,r,n,i,a,o)},getAssistState:function(){var t=Xe.ViewManager[this._viewID];return t?t.getViewAssist().getAssistState():{}}};var rs=es,ns=function(t){this._viewID=t};ns.prototype={openCubeSection:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSection().openCubeSection()},closeCubeSection:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSection().closeCubeSection()},resetCubeSection:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSection().resetCubeSection()},showCubeSection:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSection().showCubeSection()},hideCubeSection:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewSection().hideCubeSection()},getSectionState:function(){var t=Xe.ViewManager[this._viewID];if(t){var e={};return t.getViewSection().getViewState(e),e}return{}}};var is=ns,as=function(t){this._viewID=t};as.prototype={openMeasure:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewMeasure().openMeasure()},closeMeasure:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewMeasure().closeMeasure()},finishMeasure:function(){var t=Xe.ViewManager[this._viewID];t&&t.getViewMeasure().finishMeasure()},setMeasureType:function(t){var e=Xe.ViewManager[this._viewID];e&&e.getViewMeasure().setMeasureType(t)},getMeasureState:function(){var t=Xe.ViewManager[this._viewID];if(t){var e={};return t.getViewMeasure().getViewState(e),e}return{}}};var os=as,ss=function(t){zo.checkWebGLsupport(t)?(Xe.ViewID++,Xe.ViewManager[Xe.ViewID]=new zo(t),this._viewID=Xe.ViewID):this._viewID=-1,this._control=new Jo(this._viewID),this._roaming=new Zo(this._viewID),this._setting=new ts(this._viewID),this._assist=new rs(this._viewID),this._section=new is(this._viewID),this._measure=new os(this._viewID)};ss.prototype={bindWINDData:function(t){if(t){var e=Xe.ViewManager[this._viewID];if(e){var r=Xe.DataManager[t._dataID];if(r)return e.bindDataCore(r)}}else{var n=Xe.ViewManager[this._viewID];if(n)return n.bindDataCore(void 0)}return!1},saveWINDViewState:function(t){var e=Xe.ViewManager[this._viewID];console.log(e);if(e)return e.saveViewState(t)},loadWINDViewState:function(t){var e=Xe.ViewManager[this._viewID];return!!e&&e.loadViewState(t)},screenShot:function(){var t=Xe.ViewManager[this._viewID];if(t)return t.screenShot()},fullScreen:function(){var t=Xe.ViewManager[this._viewID];t&&t.fullScreen()},addWINDViewCallback:function(t,e){var r=Xe.ViewManager[this._viewID];return!!r&&r.addViewCallback(t,e)},removeWINDViewCallback:function(t){var e=Xe.ViewManager[this._viewID];return!!e&&e.removeViewCallback(t)},clearWINDViewCallback:function(){var t=Xe.ViewManager[this._viewID];t&&t.clearViewCallback()},getWINDViewControl:function(){return this._control},getWINDViewRoaming:function(){return this._roaming},getWINDViewSetting:function(){return this._setting},getWINDViewAssist:function(){return this._assist},getWINDViewSection:function(){return this._section},getWINDViewMeasure:function(){return this._measure},test:function(){var t=Xe.ViewManager[this._viewID];t&&t.test()}};var hs=ss;function us(t){return it.getCategoryName(t)}function cs(t){return rt.getDomainName(t)}r.d(e,"getCategoryName",function(){return us}),r.d(e,"getDomainName",function(){return cs}),r.d(e,"WINDData",function(){return Ke}),r.d(e,"WINDView",function(){return hs}),r.d(e,"ViewStateType",function(){return P}),r.d(e,"CallbackType",function(){return R}),r.d(e,"TreeRuleType",function(){return x}),r.d(e,"CheckState",function(){return O}),r.d(e,"LeftMouseOperation",function(){return N}),r.d(e,"MeasureType",function(){return L})},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,function(t,e){var r,n,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,u=[],c=!1,l=-1;function g(){c&&h&&(c=!1,h.length?u=h.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=s(g);c=!0;for(var e=u.length;e;){for(h=u,u=[];++l<e;)h&&h[l].run();l=-1,e=u.length}h=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function A(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new A(t,e)),1!==u.length||c||s(f)},A.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return e.nextTick(function(){t.apply(null,a)})}}}:t.exports=e}).call(this,r(19))},,function(t,e,r){"use strict";var n=r(20),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var a=r(12);a.inherits=r(7);var o=r(66),s=r(69);a.inherits(l,o);for(var h=i(s.prototype),u=0;u<h.length;u++){var c=h[u];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";var n=r(20),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var a=r(12);a.inherits=r(7);var o=r(73),s=r(76);a.inherits(l,o);for(var h=i(s.prototype),u=0;u<h.length;u++){var c=h[u];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(t){if(!(this instanceof l))return new l(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},,,function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},,,,,function(t,e,r){t.exports=r(123)},,,,,,,function(t,e,r){"use strict";var n=r(109).Duplex,i=r(47),a=r(11).Buffer;function o(t){if(!(this instanceof o))return new o(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);n.call(this)}i.inherits(o,n),o.prototype._offset=function(t){var e,r=0,n=0;if(0===t)return[0,0];for(;n<this._bufs.length;n++){if(t<(e=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,t-r];r=e}},o.prototype._reverseOffset=function(t){for(var e=t[0],r=t[1],n=0;n<e;n++)r+=this._bufs[n].length;return r},o.prototype.append=function(t){var e=0;if(a.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof o)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(a.from(t)));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},o.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},o.prototype.end=function(t){n.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return t||a.alloc(0);if(n<=0)return t||a.alloc(0);var i,o,s=!!t,h=this._offset(r),u=n-r,c=u,l=s&&e||0,g=h[1];if(0===r&&n==this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:a.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(t,l),l+=this._bufs[o].length;return t}if(c<=this._bufs[h[0]].length-g)return s?this._bufs[h[0]].copy(t,e,g,g+c):this._bufs[h[0]].slice(g,g+c);for(s||(t=a.allocUnsafe(u)),o=h[0];o<this._bufs.length;o++){if(!(c>(i=this._bufs[o].length-g))){this._bufs[o].copy(t,l,g,g+c);break}this._bufs[o].copy(t,l,g),l+=i,c-=i,g&&(g=0)}return t},o.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!=r[1]&&(i[0]=i[0].slice(r[1])),new o(i)},o.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},o.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var t=0,e=new o;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},o.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=a.from([t]):"string"==typeof t?t=a.from(t,r):t instanceof o?t=t.slice():a.isBuffer(t)||(t=a.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var n=this._offset(e),i=n[0],s=n[1];i<this._bufs.length;i++){for(var h=this._bufs[i];s<h.length;){if(h.length-s>=t.length){var u=h.indexOf(t,s);if(-1!==u)return this._reverseOffset([i,u]);s=h.length-t.length+1}else{var c=this._reverseOffset([i,s]);if(this._match(c,t))return c;s++}}s=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){o.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(r){return this.slice(r,r+t[e])[e](0)}}(e)}(),t.exports=o},function(t,e,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var h=10;function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,a,o,s;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),o=a[e]),void 0===o)o=a[e]=r,++t._eventsCount;else if("function"==typeof o?o=a[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=o.length,s=h,console&&console.warn&&console.warn(s)}return t}function l(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,t))}.bind(n);return i.listener=r,n.wrapFn=i,i}function g(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):A(i,i.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function A(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var h=i[t];if(void 0===h)return!1;if("function"==typeof h)a(h,this,e);else{var u=h.length,c=A(h,u);for(r=0;r<u;++r)a(c[r],this,e)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,a,o;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===e||r[a].listener===e){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return g(this,t,!0)},s.prototype.rawListeners=function(t){return g(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){"use strict";var n=r(11).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=h,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=l,e=3;break;default:return this.write=g,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function h(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function c(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function g(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},a.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},a.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},,,,,,function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},i=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(s(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=a)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),h=n[r];r<a;h=n[++r])d(h)||!m(h)?o+=" "+h:o+=" "+s(h);return o},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(t,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),A(r)?n.showHidden=r:r&&e._extend(n,r),C(n.showHidden)&&(n.showHidden=!1),C(n.depth)&&(n.depth=2),C(n.colors)&&(n.colors=!1),C(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=h),c(n,t,n.depth)}function h(t,e){var r=s.styles[e];return r?"["+s.colors[r][0]+"m"+t+"["+s.colors[r][1]+"m":t}function u(t,e){return t}function c(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return _(i)||(i=c(t,i,n)),i}var a=function(t,e){if(C(e))return t.stylize("undefined","undefined");if(_(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(p(e))return t.stylize(""+e,"number");if(A(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,r);if(a)return a;var o=Object.keys(r),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),y(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(r);if(0===o.length){if(E(r)){var h=r.name?": "+r.name:"";return t.stylize("[Function"+h+"]","special")}if(I(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return t.stylize(Date.prototype.toString.call(r),"date");if(y(r))return l(r)}var u,m="",w=!1,S=["{","}"];(f(r)&&(w=!0,S=["[","]"]),E(r))&&(m=" [Function"+(r.name?": "+r.name:"")+"]");return I(r)&&(m=" "+RegExp.prototype.toString.call(r)),v(r)&&(m=" "+Date.prototype.toUTCString.call(r)),y(r)&&(m=" "+l(r)),0!==o.length||w&&0!=r.length?n<0?I(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=w?function(t,e,r,n,i){for(var a=[],o=0,s=e.length;o<s;++o)T(e,String(o))?a.push(g(t,e,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(g(t,e,r,n,i,!0))}),a}(t,r,n,s,o):o.map(function(e){return g(t,r,n,s,e,w)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(u,m,S)):S[0]+m+S[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,r,n,i,a){var o,s,h;if((h=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(s=t.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),s||(t.seen.indexOf(h.value)<0?(s=d(r)?c(t,h.value,null):c(t,h.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),C(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function f(t){return Array.isArray(t)}function A(t){return"boolean"==typeof t}function d(t){return null===t}function p(t){return"number"==typeof t}function _(t){return"string"==typeof t}function C(t){return void 0===t}function I(t){return m(t)&&"[object RegExp]"===w(t)}function m(t){return"object"==typeof t&&null!==t}function v(t){return m(t)&&"[object Date]"===w(t)}function y(t){return m(t)&&("[object Error]"===w(t)||t instanceof Error)}function E(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(C(a)&&(a=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=t.pid;o[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else o[r]=function(){};return o[r]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=A,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=p,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=C,e.isRegExp=I,e.isObject=m,e.isDate=v,e.isError=y,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(108);var b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),b[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(7),e._extend=function(t,e){if(!e||!m(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(M&&t[M]){var e;if("function"!=typeof(e=t[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise(function(t,n){e=t,r=n}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(t,n){t?r(t):e(n)});try{t.apply(this,i)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),M&&Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=M,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};e.apply(this,r).then(function(e){t.nextTick(o,null,e)},function(e){t.nextTick(P,e,o)})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(19))},function(t,e,r){"use strict";(function(e){var n=r(8),i=r(126),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,h={adapter:("undefined"!=typeof XMLHttpRequest?s=r(79):void 0!==e&&(s=r(79)),s),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){h.headers[t]={}}),n.forEach(["post","put","patch"],function(t){h.headers[t]=n.merge(a)}),t.exports=h}).call(this,r(19))},,,,,,,,,,,,,,,,,function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(104),i=r(105),a=r(46);function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=g(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|A(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|f(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):g(t,e);if("Buffer"===e.type&&a(e.data))return g(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(c(e),t=s(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function g(t,e){var r=e.length<0?0:0|f(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function A(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(n)return k(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:_(t,e,r,n,i);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,r,n,i){var a,o=1,s=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,h/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var c=-1;for(a=r;a<s;a++)if(u(t,a)===u(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===h)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(r+h>s&&(r=s-h),a=r;a>=0;a--){for(var l=!0,g=0;g<h;g++)if(u(t,a+g)!==u(e,g)){l=!1;break}if(l)return a}return-1}function C(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function I(t,e,r,n){return H(k(e,t.length-r),t,r,n)}function m(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function v(t,e,r,n){return m(t,e,r,n)}function y(t,e,r,n){return H(V(e),t,r,n)}function E(t,e,r,n){return H(function(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function w(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function S(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,o,s,h,u=t[i],c=null,l=u>239?4:u>223?3:u>191?2:1;if(i+l<=r)switch(l){case 1:u<128&&(c=u);break;case 2:128==(192&(a=t[i+1]))&&(h=(31&u)<<6|63&a)>127&&(c=h);break;case 3:a=t[i+1],o=t[i+2],128==(192&a)&&128==(192&o)&&(h=(15&u)<<12|(63&a)<<6|63&o)>2047&&(h<55296||h>57343)&&(c=h);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(h=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&h<1114112&&(c=h)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(t){var e=t.length;if(e<=b)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=b));return r}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return u(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},h.allocUnsafe=function(t){return l(null,t)},h.allocUnsafeSlow=function(t){return l(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=h.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},h.byteLength=A,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return S(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return w(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,i){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=t.slice(e,r),l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return p(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return p(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return C(this,t,e,r);case"utf8":case"utf-8":return I(this,t,e,r);case"ascii":return m(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return y(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=G(t[a]);return i}function R(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function x(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,a){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,a){return a||D(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,a){return a||D(t,0,r,8),i.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var i=e-t;r=new h(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},h.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||x(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},h.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),i.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),i.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||O(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);O(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=h.isBuffer(t)?t:k(new h(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function k(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function V(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(16))},function(t,e,r){"use strict";(function(e,n){var i=r(20);t.exports=I;var a,o=r(46);I.ReadableState=C;r(39).EventEmitter;var s=function(t,e){return t.listeners(e).length},h=r(67),u=r(11).Buffer,c=e.Uint8Array||function(){};var l=r(12);l.inherits=r(7);var g=r(110),f=void 0;f=g&&g.debuglog?g.debuglog("stream"):function(){};var A,d=r(111),p=r(68);l.inherits(I,h);var _=["error","close","destroy","pause","resume"];function C(t,e){t=t||{};var n=e instanceof(a=a||r(22));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(A||(A=r(40).StringDecoder),this.decoder=new A(t.encoding),this.encoding=t.encoding)}function I(t){if(a=a||r(22),!(this instanceof I))return new I(t);this._readableState=new C(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function m(t,e,r,n,i){var a,o=t._readableState;null===e?(o.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,w(t)}(t,o)):(i||(a=function(t,e){var r;n=e,u.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):v(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?v(t,o,e,!1):b(t,o)):v(t,o,e,!1))):n||(o.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function v(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&w(t)),b(t,e)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(t,e){this.push(null),e(t)},I.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),m(this,t,e,!1,r)},I.prototype.unshift=function(t){return m(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){return A||(A=r(40).StringDecoder),this._readableState.decoder=new A(t),this._readableState.encoding=t,this};var y=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=y?t=y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function w(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),R(t)}function b(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function M(t){f("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var a=r.data,o=t>a.length?a.length:t;if(o===a.length?i+=a:i+=a.slice(0,t),0===(t-=o)){o===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=u.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var a=n.data,o=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,o),0===(t-=o)){o===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(o));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(N,e,t))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}I.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):w(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&O(this),null;var n,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(r,e))),null===(n=t>0?x(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&O(this)),null!==n&&this.emit("data",n),n},I.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(t,e){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,e);var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?c:I;function u(e,n){f("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),t.removeListener("close",_),t.removeListener("finish",C),t.removeListener("drain",l),t.removeListener("error",p),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",I),r.removeListener("data",d),g=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){f("onend"),t.end()}a.endEmitted?i.nextTick(h):r.once("end",h),t.on("unpipe",u);var l=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(r);t.on("drain",l);var g=!1;var A=!1;function d(e){f("ondata"),A=!1,!1!==t.write(e)||A||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==L(a.pipes,t))&&!g&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,A=!0),r.pause())}function p(e){f("onerror",e),I(),t.removeListener("error",p),0===s(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",C),I()}function C(){f("onfinish"),t.removeListener("close",_),I()}function I(){f("unpipe"),r.unpipe(t)}return r.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",p),t.once("close",_),t.once("finish",C),t.emit("pipe",r),a.flowing||(f("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=L(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},I.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&w(this):i.nextTick(M,this))}return r},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(f("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<_.length;a++)t.on(_[a],this.emit.bind(this,_[a]));return this._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=x}).call(this,r(16),r(19))},function(t,e,r){t.exports=r(39).EventEmitter},function(t,e,r){"use strict";var n=r(20);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";(function(e,n,i){var a=r(20);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=C;var s,h=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:a.nextTick;C.WritableState=_;var u=r(12);u.inherits=r(7);var c={deprecate:r(71)},l=r(67),g=r(11).Buffer,f=i.Uint8Array||function(){};var A,d=r(68);function p(){}function _(t,e){s=s||r(22),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(a.nextTick(i,n),a.nextTick(w,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),w(t,e))}(t,r,n,e,i);else{var o=y(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||v(t,r),n?h(m,t,r,o,i):m(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(t){if(s=s||r(22),!(A.call(C,this)||this instanceof s))return new C(t);this._writableState=new _(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function I(t,e,r,n,i,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function m(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),w(t,e)}function v(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,h=!0;r;)i[s]=r,r.isBuf||(h=!1),r=r.next,s+=1;i.allBuffers=h,I(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(I(t,e,!1,e.objectMode?1:u.length,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),w(t,e)})}function w(t,e){var r=y(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,a.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}u.inherits(C,l),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!A.call(this,t)||this===C&&(t&&t._writableState instanceof _)}})):A=function(t){return t instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,g.isBuffer(n)||n instanceof f);return s&&!g.isBuffer(t)&&(t=function(t){return g.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=p),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),a.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),a.nextTick(n,o),i=!1),i}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,a){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=g.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=e.objectMode?1:n.length;e.length+=s;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else I(t,e,!1,s,n,i,a);return h}(this,i,s,t,e,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,w(t,e),r&&(e.finished?a.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(19),r(70).setImmediate,r(16))},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(113),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(16))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(16))},function(t,e,r){"use strict";t.exports=o;var n=r(22),i=r(12);function a(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){h(t,e,r)}):h(this,null,null)}function h(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(7),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";(function(e,n){var i=r(20);t.exports=I;var a,o=r(46);I.ReadableState=C;r(39).EventEmitter;var s=function(t,e){return t.listeners(e).length},h=r(74),u=r(11).Buffer,c=e.Uint8Array||function(){};var l=r(12);l.inherits=r(7);var g=r(117),f=void 0;f=g&&g.debuglog?g.debuglog("stream"):function(){};var A,d=r(118),p=r(75);l.inherits(I,h);var _=["error","close","destroy","pause","resume"];function C(t,e){t=t||{};var n=e instanceof(a=a||r(23));this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(A||(A=r(40).StringDecoder),this.decoder=new A(t.encoding),this.encoding=t.encoding)}function I(t){if(a=a||r(23),!(this instanceof I))return new I(t);this._readableState=new C(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),h.call(this)}function m(t,e,r,n,i){var a,o=t._readableState;null===e?(o.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,w(t)}(t,o)):(i||(a=function(t,e){var r;n=e,u.isBuffer(n)||n instanceof c||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(o,e)),a?t.emit("error",a):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):v(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||0!==e.length?v(t,o,e,!1):b(t,o)):v(t,o,e,!1))):n||(o.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function v(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&w(t)),b(t,e)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),I.prototype.destroy=p.destroy,I.prototype._undestroy=p.undestroy,I.prototype._destroy=function(t,e){this.push(null),e(t)},I.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=u.from(t,e),e=""),r=!0),m(this,t,e,!1,r)},I.prototype.unshift=function(t){return m(this,t,null,!0,!1)},I.prototype.isPaused=function(){return!1===this._readableState.flowing},I.prototype.setEncoding=function(t){return A||(A=r(40).StringDecoder),this._readableState.decoder=new A(t),this._readableState.encoding=t,this};var y=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=y?t=y:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function w(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),R(t)}function b(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function M(t){f("readable nexttick read 0"),t.read(0)}function P(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var a=r.data,o=t>a.length?a.length:t;if(o===a.length?i+=a:i+=a.slice(0,t),0===(t-=o)){o===a.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=a.slice(o));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=u.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var a=n.data,o=t>a.length?a.length:t;if(a.copy(r,r.length-t,0,o),0===(t-=o)){o===a.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=a.slice(o));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function O(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(N,e,t))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}I.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?O(this):w(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&O(this),null;var n,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(r,e))),null===(n=t>0?x(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&O(this)),null!==n&&this.emit("data",n),n},I.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(t,e){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,e);var h=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?c:I;function u(e,n){f("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),t.removeListener("close",_),t.removeListener("finish",C),t.removeListener("drain",l),t.removeListener("error",p),t.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",I),r.removeListener("data",d),g=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function c(){f("onend"),t.end()}a.endEmitted?i.nextTick(h):r.once("end",h),t.on("unpipe",u);var l=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(r);t.on("drain",l);var g=!1;var A=!1;function d(e){f("ondata"),A=!1,!1!==t.write(e)||A||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==L(a.pipes,t))&&!g&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,A=!0),r.pause())}function p(e){f("onerror",e),I(),t.removeListener("error",p),0===s(t,"error")&&t.emit("error",e)}function _(){t.removeListener("finish",C),I()}function C(){f("onfinish"),t.removeListener("close",_),I()}function I(){f("unpipe"),r.unpipe(t)}return r.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",p),t.once("close",_),t.once("finish",C),t.emit("pipe",r),a.flowing||(f("pipe resume"),r.resume()),t},I.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=L(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},I.prototype.on=function(t,e){var r=h.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&w(this):i.nextTick(M,this))}return r},I.prototype.addListener=I.prototype.on,I.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(P,t,e))}(this,t)),this},I.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},I.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(f("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause()))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var a=0;a<_.length;a++)t.on(_[a],this.emit.bind(this,_[a]));return this._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=x}).call(this,r(16),r(19))},function(t,e,r){t.exports=r(39).EventEmitter},function(t,e,r){"use strict";var n=r(20);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";(function(e,n,i){var a=r(20);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=C;var s,h=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:a.nextTick;C.WritableState=_;var u=r(12);u.inherits=r(7);var c={deprecate:r(71)},l=r(74),g=r(11).Buffer,f=i.Uint8Array||function(){};var A,d=r(75);function p(){}function _(t,e){s=s||r(23),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(a.nextTick(i,n),a.nextTick(w,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),w(t,e))}(t,r,n,e,i);else{var o=y(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||v(t,r),n?h(m,t,r,o,i):m(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(t){if(s=s||r(23),!(A.call(C,this)||this instanceof s))return new C(t);this._writableState=new _(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function I(t,e,r,n,i,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function m(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),w(t,e)}function v(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,h=!0;r;)i[s]=r,r.isBuf||(h=!1),r=r.next,s+=1;i.allBuffers=h,I(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(I(t,e,!1,e.objectMode?1:u.length,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function y(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),w(t,e)})}function w(t,e){var r=y(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,a.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}u.inherits(C,l),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(t){return!!A.call(this,t)||this===C&&(t&&t._writableState instanceof _)}})):A=function(t){return t instanceof this},C.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},C.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=t,g.isBuffer(n)||n instanceof f);return s&&!g.isBuffer(t)&&(t=function(t){return g.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=p),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),a.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),a.nextTick(n,o),i=!1),i}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,a){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=g.from(e,r));return e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=e.objectMode?1:n.length;e.length+=s;var h=e.length<e.highWaterMark;h||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else I(t,e,!1,s,n,i,a);return h}(this,i,s,t,e,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},C.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},C.prototype._writev=null,C.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,w(t,e),r&&(e.finished?a.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(19),r(70).setImmediate,r(16))},function(t,e,r){"use strict";t.exports=o;var n=r(23),i=r(12);function a(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){h(t,e,r)}):h(this,null,null)}function h(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(7),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(8),i=r(127),a=r(129),o=r(130),s=r(131),h=r(80);t.exports=function(t){return new Promise(function(e,u){var c=t.data,l=t.headers;n.isFormData(c)&&delete l["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",A=t.auth.password||"";l.Authorization="Basic "+btoa(f+":"+A)}if(g.open(t.method.toUpperCase(),a(t.url,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,g.onreadystatechange=function(){if(g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in g?o(g.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:t,request:g};i(e,u,n),g=null}},g.onerror=function(){u(h("Network Error",t,null,g)),g=null},g.ontimeout=function(){u(h("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var d=r(132),p=(t.withCredentials||s(t.url))&&t.xsrfCookieName?d.read(t.xsrfCookieName):void 0;p&&(l[t.xsrfHeaderName]=p)}if("setRequestHeader"in g&&n.forEach(l,function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete l[e]:g.setRequestHeader(e,t)}),t.withCredentials&&(g.withCredentials=!0),t.responseType)try{g.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){g&&(g.abort(),u(t),g=null)}),void 0===c&&(c=null),g.send(c)})}},function(t,e,r){"use strict";var n=r(128);t.exports=function(t,e,r,i,a){var o=new Error(t);return n(o,e,r,i,a)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},,,,,function(t,e,r){"use strict";var n=r(11).Buffer,i=r(106),a=r(38),o=r(115),s=r(121),h=r(122);t.exports=function(t){var e=[],r=[];return{encode:h(e,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:s(r),register:function(t,e,r,o){return i(e,"must have a constructor"),i(r,"must have an encode function"),i(t>=0,"must have a non-negative type"),i(o,"must have a decode function"),this.registerEncoder(function(t){return t instanceof e},function(e){var i=a(),o=n.allocUnsafe(1);return o.writeInt8(t,0),i.append(o),i.append(r(e)),i}),this.registerDecoder(t,o),this},registerEncoder:function(t,r){return i(t,"must have an encode function"),i(r,"must have an encode function"),e.push({check:t,encode:r}),this},registerDecoder:function(t,e){return i(t>=0,"must have a non-negative type"),i(e,"must have a decode function"),r.push({type:t,decode:e}),this},encoder:o.encoder,decoder:o.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:s.IncompleteBufferError}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAAPxJREFUSA3tlmEKwyAMhctgJyjb/Y+wwxR2HPteUegkpkl07Z8K0mqS78VYi9N0t6sqkFJ6os+j9MkiU+Vl0Q+eC/pLdTYYycgsMtviMDI7irJ1iSO+iBaWXkUhwL3yMCMciPL3xG67FwFEYsRPxQPy+Ipi9aQFaPGpuaaxBtZsJviRkyQgzR1xQvZK6IsxO1vXmTclAxH+GIogRfnuPusPk9rVTlwZevmlnlPqSnTbU2luaHE0Ac3WlYQFbPFxJeEBenzVJCKgSMxPEj2AcGw4cJe6m4GAkVefN3jlzPPZvvrAyBvm+Zc9ViuLt7PbldTyypWSafG9ff5SgRW/Pdd65A/vzAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAAGBJREFUSA3tlbERACEMw8LvvzMcfwzg2EUapbYIJxepMme/MfH6XDDlWJwalHlUy6rSIKpTgzKPallVGlz3yKSPOPxYx85nf4Z73FU31jGLu1XZeVTb6rogqrvG7PyY6gOtGRQks+cOSQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAA/Y2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwMTQgNzkuMTU2Nzk3LCAyMDE0LzA4LzIwLTA5OjUzOjAyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpkNDg3OGQyMy0xZDNiLTExZTktYWQ2MS1mZTQxMWY2N2VmYzM8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NDhiNTZkNWQtMThkMy05ZTQ3LWE5ZWQtMTZiNzhhYmUyYzZjPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPkU5MDM0RDg5MzNERTgzMDM0QUE0NDY2Mjk2NUFENzI1PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5OTkxMjM3YS01YzE4LWQ3NGEtOTMzZC00YmIzYWE4YjU4YzM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTktMDEtMjFUMTM6MTc6MzIrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNvbnZlcnRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5mcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+ZGVyaXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6cGFyYW1ldGVycz5jb252ZXJ0ZWQgZnJvbSBpbWFnZS9qcGVnIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NDhiNTZkNWQtMThkMy05ZTQ3LWE5ZWQtMTZiNzhhYmUyYzZjPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTAxLTIxVDEzOjE3OjMyKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo5OTkxMjM3YS01YzE4LWQ3NGEtOTMzZC00YmIzYWE4YjU4YzM8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPkU5MDM0RDg5MzNERTgzMDM0QUE0NDY2Mjk2NUFENzI1PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPkU5MDM0RDg5MzNERTgzMDM0QUE0NDY2Mjk2NUFENzI1PC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE5LTAxLTIxVDEzOjE0OjA5KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDEtMjFUMTM6MTc6MzIrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE5LTAxLTIxVDEzOjE3OjMyKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpJbWFnZVdpZHRoPjEyMDA8L3RpZmY6SW1hZ2VXaWR0aD4KICAgICAgICAgPHRpZmY6SW1hZ2VMZW5ndGg+MTIwMDwvdGlmZjpJbWFnZUxlbmd0aD4KICAgICAgICAgPHRpZmY6Qml0c1BlclNhbXBsZT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGk+ODwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPjg8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT44PC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC90aWZmOkJpdHNQZXJTYW1wbGU+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpTYW1wbGVzUGVyUGl4ZWw+MzwvdGlmZjpTYW1wbGVzUGVyUGl4ZWw+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpFeGlmVmVyc2lvbj4wMjIxPC9leGlmOkV4aWZWZXJzaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj41MTI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTEyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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"},function(t,e,r){var n=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function h(t,e,r,n){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(t,e,r){var n=c;return function(i,a){if(n===g)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return P()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===A)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=g;var h=u(t,e,r);if("normal"===h.type){if(n=r.done?f:l,h.arg===A)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(n=f,r.method="throw",r.arg=h.arg)}}}(t,r,o),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",g="executing",f="completed",A={};function d(){}function p(){}function _(){}var C={};C[a]=function(){return this};var I=Object.getPrototypeOf,m=I&&I(I(M([])));m&&m!==r&&n.call(m,a)&&(C=m);var v=_.prototype=d.prototype=Object.create(C);function y(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(t){var e;this._invoke=function(r,i){function a(){return new Promise(function(e,a){!function e(r,i,a,o){var s=u(t[r],t,i);if("throw"!==s.type){var h=s.arg,c=h.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,a,o)},function(t){e("throw",t,a,o)}):Promise.resolve(c).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,o)})}o(s.arg)}(r,i,e,a)})}return e=e?e.then(a,a):a()}}function w(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method))return A;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=u(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,A;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,A):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,A)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function M(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:e,done:!0}}return p.prototype=v.constructor=_,_.constructor=p,_[s]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(E.prototype),E.prototype[o]=function(){return this},t.AsyncIterator=E,t.async=function(e,r,n,i){var a=new E(h(e,r,n,i));return t.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},y(v),v[s]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=M,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(b),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var h=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(h&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),b(r),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),A}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},,,,,,,,,,,,,function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=u(t),n=r[0],o=r[1],s=new a(function(t,e,r){return 3*(e+r)/4-r}(0,n,o)),h=0,c=o>0?n-4:n,l=0;l<c;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],s[h++]=e>>16&255,s[h++]=e>>8&255,s[h++]=255&e;2===o&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,s[h++]=255&e);1===o&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,s[h++]=e>>8&255,s[h++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(c(t,o,o+16383>s?s:o+16383));1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,h=o.length;s<h;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var i,a,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,h=(1<<s)-1,u=h>>1,c=-7,l=r?i-1:0,g=r?-1:1,f=t[e+l];for(l+=g,a=f&(1<<-c)-1,f>>=-c,c+=s;c>0;a=256*a+t[e+l],l+=g,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+t[e+l],l+=g,c-=8);if(0===a)a=1-u;else{if(a===h)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=u}return(f?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,h,u=8*a-i-1,c=(1<<u)-1,l=c>>1,g=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,A=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+l>=1?g/h:g*Math.pow(2,1-l))*h>=2&&(o++,h/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(e*h-1)*Math.pow(2,i),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&s,f+=A,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;t[r+f]=255&o,f+=A,o/=256,u-=8);t[r+f-A]|=128*d}},function(t,e,r){"use strict";(function(e){var n=r(107);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function a(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=r(47),s=Object.prototype.hasOwnProperty,h=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function l(t){return!a(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var g=t.exports=C,f=/\s*function\s+([^\(\s]*)\s*/;function A(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(f);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function p(t){if(u||!o.isFunction(t))return o.inspect(t);var e=A(t);return"[Function"+(e?": "+e:"")+"]"}function _(t,e,r,n,i){throw new g.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function C(t,e){t||_(t,!0,e,"==",g.ok)}function I(t,e,r,n){if(t===e)return!0;if(a(t)&&a(e))return 0===i(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(l(t)&&l(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=m(t),a=m(e);if(i&&!a||!i&&a)return!1;if(i)return t=h.call(t),e=h.call(e),I(t,e,r);var s,u,c=E(t),l=E(e);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),u=c.length-1;u>=0;u--)if(c[u]!==l[u])return!1;for(u=c.length-1;u>=0;u--)if(s=c[u],!I(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function y(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&_(i,r,"Missing expected exception"+n);var a="string"==typeof n,s=!t&&i&&!r;if((!t&&o.isError(i)&&a&&v(i,r)||s)&&_(i,r,"Got unwanted exception"+n),t&&i&&r&&!v(i,r)||!t&&i)throw i}g.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(p(t.actual),128)+" "+t.operator+" "+d(p(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||_;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=A(e),a=n.indexOf("\n"+i);if(a>=0){var o=n.indexOf("\n",a+1);n=n.substring(o+1)}this.stack=n}}},o.inherits(g.AssertionError,Error),g.fail=_,g.ok=C,g.equal=function(t,e,r){t!=e&&_(t,e,r,"==",g.equal)},g.notEqual=function(t,e,r){t==e&&_(t,e,r,"!=",g.notEqual)},g.deepEqual=function(t,e,r){I(t,e,!1)||_(t,e,r,"deepEqual",g.deepEqual)},g.deepStrictEqual=function(t,e,r){I(t,e,!0)||_(t,e,r,"deepStrictEqual",g.deepStrictEqual)},g.notDeepEqual=function(t,e,r){I(t,e,!1)&&_(t,e,r,"notDeepEqual",g.notDeepEqual)},g.notDeepStrictEqual=function t(e,r,n){I(e,r,!0)&&_(e,r,n,"notDeepStrictEqual",t)},g.strictEqual=function(t,e,r){t!==e&&_(t,e,r,"===",g.strictEqual)},g.notStrictEqual=function(t,e,r){t===e&&_(t,e,r,"!==",g.notStrictEqual)},g.throws=function(t,e,r){y(!0,t,e,r)},g.doesNotThrow=function(t,e,r){y(!1,t,e,r)},g.ifError=function(t){if(t)throw t},g.strict=n(function t(e,r){e||_(e,!0,r,"==",t)},g,{equal:g.strictEqual,deepEqual:g.deepStrictEqual,notEqual:g.notStrictEqual,notDeepEqual:g.notDeepStrictEqual}),g.strict.strict=g.strict;var E=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this,r(16))},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,o,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))i.call(r,u)&&(s[u]=r[u]);if(n){o=n(r);for(var c=0;c<o.length;c++)a.call(r,o[c])&&(s[o[c]]=r[o[c]])}}return s}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){(e=t.exports=r(66)).Stream=e,e.Readable=e,e.Writable=r(69),e.Duplex=r(22),e.Transform=r(72),e.PassThrough=r(114)},function(t,e){},function(t,e,r){"use strict";var n=r(11).Buffer,i=r(112);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,a=n.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=a,i=s,e.copy(r,i),s+=o.data.length,o=o.next;return a},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,a,o,s,h=1,u={},c=!1,l=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){A(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){A(t.data)},n=function(t){a.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){A(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(A,0,t)}:(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&A(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(o+e,"*")}),g.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return u[h]=i,n(h),h++},g.clearImmediate=f}function f(t){delete u[t]}function A(t){if(c)setTimeout(A,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{f(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(16),r(19))},function(t,e,r){"use strict";t.exports=a;var n=r(72),i=r(12);function a(t){if(!(this instanceof a))return new a(t);n.call(this,t)}i.inherits=r(7),i.inherits(a,n),a.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){"use strict";var n=r(116).Transform,i=r(7),a=r(38);function o(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,n.call(this,t),this._msgpack=t.msgpack}function s(t){if(!(this instanceof s))return(t=t||{}).msgpack=this,new s(t);o.call(this,t),this._wrap="wrap"in t&&t.wrap}function h(t){if(!(this instanceof h))return(t=t||{}).msgpack=this,new h(t);o.call(this,t),this._chunks=a(),this._wrap="wrap"in t&&t.wrap}i(o,n),i(s,o),s.prototype._transform=function(t,e,r){var n=null;try{n=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),r()}this.push(n),r()},i(h,o),h.prototype._transform=function(t,e,r){t&&this._chunks.append(t);try{var n=this._msgpack.decode(this._chunks);this._wrap&&(n={value:n}),this.push(n)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?r():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,r):r()},t.exports.decoder=h,t.exports.encoder=s},function(t,e,r){(e=t.exports=r(73)).Stream=e,e.Readable=e,e.Writable=r(76),e.Duplex=r(23),e.Transform=r(77),e.PassThrough=r(120)},function(t,e){},function(t,e,r){"use strict";var n=r(11).Buffer,i=r(119);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,a=n.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,r=a,i=s,e.copy(r,i),s+=o.data.length,o=o.next;return a},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){"use strict";t.exports=a;var n=r(77),i=r(12);function a(t){if(!(this instanceof a))return new a(t);n.call(this,t)}i.inherits=r(7),i.inherits(a,n),a.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){"use strict";var n=r(38);function i(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}r(47).inherits(i,Error),t.exports=function(t){return function(t){t instanceof n||(t=n().append(t));var e=a(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new i};function e(t,e,r){return e>=r+t}function r(t,e){return{value:t,bytesConsumed:e}}function a(t,n){n=void 0===n?0:n;var i=t.length-n;if(i<=0)return null;var a,c,l,g=t.readUInt8(n),f=0;if(!function(t,e){var r=function(t){switch(t){case 196:return 2;case 197:return 3;case 198:return 5;case 199:return 3;case 200:return 4;case 201:return 6;case 202:return 5;case 203:return 9;case 204:return 2;case 205:return 3;case 206:return 5;case 207:return 9;case 208:return 2;case 209:return 3;case 210:return 5;case 211:return 9;case 212:return 3;case 213:return 4;case 214:return 6;case 215:return 10;case 216:return 18;case 217:return 2;case 218:return 3;case 219:return 5;case 222:return 3;default:return-1}}(t);return!(-1!==r&&e<r)}(g,i))return null;switch(g){case 192:return r(null,1);case 194:return r(!1,1);case 195:return r(!0,1);case 204:return r(f=t.readUInt8(n+1),2);case 205:return r(f=t.readUInt16BE(n+1),3);case 206:return r(f=t.readUInt32BE(n+1),5);case 207:for(l=7;l>=0;l--)f+=t.readUInt8(n+l+1)*Math.pow(2,8*(7-l));return r(f,9);case 208:return r(f=t.readInt8(n+1),2);case 209:return r(f=t.readInt16BE(n+1),3);case 210:return r(f=t.readInt32BE(n+1),5);case 211:return r(f=function(t,e){var r=128==(128&t[e]);if(r)for(var n=1,i=e+7;i>=e;i--){var a=(255^t[i])+n;t[i]=255&a,n=a>>8}var o=t.readUInt32BE(e+0),s=t.readUInt32BE(e+4);return(4294967296*o+s)*(r?-1:1)}(t.slice(n+1,n+9),0),9);case 202:return r(f=t.readFloatBE(n+1),5);case 203:return r(f=t.readDoubleBE(n+1),9);case 217:return e(a=t.readUInt8(n+1),i,2)?r(f=t.toString("utf8",n+2,n+2+a),2+a):null;case 218:return e(a=t.readUInt16BE(n+1),i,3)?r(f=t.toString("utf8",n+3,n+3+a),3+a):null;case 219:return e(a=t.readUInt32BE(n+1),i,5)?r(f=t.toString("utf8",n+5,n+5+a),5+a):null;case 196:return e(a=t.readUInt8(n+1),i,2)?r(f=t.slice(n+2,n+2+a),2+a):null;case 197:return e(a=t.readUInt16BE(n+1),i,3)?r(f=t.slice(n+3,n+3+a),3+a):null;case 198:return e(a=t.readUInt32BE(n+1),i,5)?r(f=t.slice(n+5,n+5+a),5+a):null;case 220:return i<3?null:(a=t.readUInt16BE(n+1),o(t,n,a,3));case 221:return i<5?null:(a=t.readUInt32BE(n+1),o(t,n,a,5));case 222:return a=t.readUInt16BE(n+1),s(t,n,a,3);case 223:return a=t.readUInt32BE(n+1),s(t,n,a,5);case 212:return h(t,n,1);case 213:return h(t,n,2);case 214:return h(t,n,4);case 215:return h(t,n,8);case 216:return h(t,n,16);case 199:return a=t.readUInt8(n+1),c=t.readUInt8(n+2),e(a,i,3)?u(t,n,c,a,3):null;case 200:return a=t.readUInt16BE(n+1),c=t.readUInt8(n+3),e(a,i,4)?u(t,n,c,a,4):null;case 201:return a=t.readUInt32BE(n+1),c=t.readUInt8(n+5),e(a,i,6)?u(t,n,c,a,6):null}if(144==(240&g))return o(t,n,a=15&g,1);if(128==(240&g))return s(t,n,a=15&g,1);if(160==(224&g))return e(a=31&g,i,1)?r(f=t.toString("utf8",n+1,n+a+1),a+1):null;if(g>=224)return r(f=g-256,1);if(g<128)return r(g,1);throw new Error("not implemented yet")}function o(t,e,n,i){var o,s=[],h=0;for(e+=i,o=0;o<n;o++){var u=a(t,e);if(!u)return null;s.push(u.value),e+=u.bytesConsumed,h+=u.bytesConsumed}return r(s,i+h)}function s(t,e,n,i){var o,s={},h=0;for(e+=i,o=0;o<n;o++){var u=a(t,e);if(!u)return null;var c=a(t,e+=u.bytesConsumed);if(!c)return null;s[u.value]=c.value,e+=c.bytesConsumed,h+=u.bytesConsumed+c.bytesConsumed}return r(s,i+h)}function h(t,e,r){var n=t.readInt8(e+1);return u(t,e,n,r,2)}function u(e,n,i,a,o){var s,h;if(n+=o,i<0)switch(i){case-1:return function(t,e,n){var i,a=0;switch(e){case 4:i=t.readUInt32BE(0);break;case 8:var o=t.readUInt32BE(0),s=t.readUInt32BE(4);a=o/4,i=(3&o)*Math.pow(2,32)+s;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var h=1e3*i+Math.round(a/1e6);return r(new Date(h),e+n)}(h=e.slice(n,n+a),a,o)}for(s=0;s<t.length;s++){if(i===t[s].type)return h=e.slice(n,n+a),r(t[s].decode(h),o+a)}throw new Error("unable to find ext type "+i)}},t.exports.IncompleteBufferError=i},function(t,e,r){"use strict";var n=r(11).Buffer,i=r(38);function a(t,e){var r,i=!0;return Math.fround&&(i=Math.fround(t)!==t),e&&(i=!0),i?((r=n.allocUnsafe(9))[0]=203,r.writeDoubleBE(t,1)):((r=n.allocUnsafe(5))[0]=202,r.writeFloatBE(t,1)),r}t.exports=function(t,e,r,o){function s(h,u){var c,l,g;if(void 0===h)throw new Error("undefined is not encodable in msgpack!");if((g=h)!=g&&"number"==typeof g)throw new Error("NaN is not encodable in msgpack!");if(null===h)(c=n.allocUnsafe(1))[0]=192;else if(!0===h)(c=n.allocUnsafe(1))[0]=195;else if(!1===h)(c=n.allocUnsafe(1))[0]=194;else if("string"==typeof h)(l=n.byteLength(h))<32?((c=n.allocUnsafe(1+l))[0]=160|l,l>0&&c.write(h,1)):l<=255&&!r?((c=n.allocUnsafe(2+l))[0]=217,c[1]=l,c.write(h,2)):l<=65535?((c=n.allocUnsafe(3+l))[0]=218,c.writeUInt16BE(l,1),c.write(h,3)):((c=n.allocUnsafe(5+l))[0]=219,c.writeUInt32BE(l,1),c.write(h,5));else if(h&&(h.readUInt32LE||h instanceof Uint8Array))h instanceof Uint8Array&&(h=n.from(h)),h.length<=255?((c=n.allocUnsafe(2))[0]=196,c[1]=h.length):h.length<=65535?((c=n.allocUnsafe(3))[0]=197,c.writeUInt16BE(h.length,1)):((c=n.allocUnsafe(5))[0]=198,c.writeUInt32BE(h.length,1)),c=i([c,h]);else if(Array.isArray(h))h.length<16?(c=n.allocUnsafe(1))[0]=144|h.length:h.length<65536?((c=n.allocUnsafe(3))[0]=220,c.writeUInt16BE(h.length,1)):((c=n.allocUnsafe(5))[0]=221,c.writeUInt32BE(h.length,1)),c=h.reduce(function(t,e){return t.append(s(e,!0)),t},i().append(c));else{if(!o&&"function"==typeof h.getDate)return function(t){var e,r=1*t,a=Math.floor(r/1e3),o=1e6*(r-1e3*a);if(o||a>4294967295){(e=n.allocUnsafe(10))[0]=215,e[1]=-1;var s=4*o,h=a/Math.pow(2,32),u=s+h&4294967295,c=4294967295&a;e.writeInt32BE(u,2),e.writeInt32BE(c,6)}else(e=n.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(r/1e3),2);return i().append(e)}(h);if("object"==typeof h)c=function(e){var r,a,o=-1,s=[];for(r=0;r<t.length;r++)if(t[r].check(e)){a=t[r].encode(e);break}if(!a)return null;1==(o=a.length-1)?s.push(212):2===o?s.push(213):4===o?s.push(214):8===o?s.push(215):16===o?s.push(216):o<256?(s.push(199),s.push(o)):o<65536?(s.push(200),s.push(o>>8),s.push(255&o)):(s.push(201),s.push(o>>24),s.push(o>>16&255),s.push(o>>8&255),s.push(255&o));return i().append(n.from(s)).append(a)}(h)||function(t){var e,r,a=[],o=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++o,a.push(s(e,!0)),a.push(s(t[e],!0)));o<16?(r=n.allocUnsafe(1))[0]=128|o:o<65535?((r=n.allocUnsafe(3))[0]=222,r.writeUInt16BE(o,1)):((r=n.allocUnsafe(5))[0]=223,r.writeUInt32BE(o,1));return a.unshift(r),a.reduce(function(t,e){return t.append(e)},i())}(h);else if("number"==typeof h){if(function(t){return t%1!=0}(h))return a(h,e);if(h>=0)if(h<128)(c=n.allocUnsafe(1))[0]=h;else if(h<256)(c=n.allocUnsafe(2))[0]=204,c[1]=h;else if(h<65536)(c=n.allocUnsafe(3))[0]=205,c.writeUInt16BE(h,1);else if(h<=4294967295)(c=n.allocUnsafe(5))[0]=206,c.writeUInt32BE(h,1);else{if(!(h<=9007199254740991))return a(h,!0);(c=n.allocUnsafe(9))[0]=207,function(t,e){for(var r=7;r>=0;r--)t[r+1]=255&e,e/=256}(c,h)}else if(h>=-32)(c=n.allocUnsafe(1))[0]=256+h;else if(h>=-128)(c=n.allocUnsafe(2))[0]=208,c.writeInt8(h,1);else if(h>=-32768)(c=n.allocUnsafe(3))[0]=209,c.writeInt16BE(h,1);else if(h>-214748365)(c=n.allocUnsafe(5))[0]=210,c.writeInt32BE(h,1);else{if(!(h>=-9007199254740991))return a(h,!0);(c=n.allocUnsafe(9))[0]=211,function(t,e,r){var n=r<0;n&&(r=Math.abs(r));var i=r%4294967296,a=r/4294967296;if(t.writeUInt32BE(Math.floor(a),e+0),t.writeUInt32BE(i,e+4),n)for(var o=1,s=e+7;s>=e;s--){var h=(255^t[s])+o;t[s]=255&h,o=h>>8}}(c,1,h)}}}if(!c)throw new Error("not implemented yet");return u?c:c.slice()}return s}},function(t,e,r){"use strict";var n=r(8),i=r(78),a=r(125),o=r(48);function s(t){var e=new a(t),r=i(a.prototype.request,e);return n.extend(r,a.prototype,e),n.extend(r,e),r}var h=s(o);h.Axios=a,h.create=function(t){return s(n.merge(o,t))},h.Cancel=r(82),h.CancelToken=r(138),h.isCancel=r(81),h.all=function(t){return Promise.all(t)},h.spread=r(139),t.exports=h,t.exports.default=h},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,r){"use strict";var n=r(48),i=r(8),a=r(133),o=r(134);function s(t){this.defaults=t,this.interceptors={request:new a,response:new a}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e,r){"use strict";var n=r(8);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(80);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(8);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var a;if(r)a=r(e);else if(n.isURLSearchParams(e))a=e.toString();else{var o=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))}))}),a=o.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(t,e,r){"use strict";var n=r(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,a,o={};return t?(n.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),r=n.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([r]):o[e]?o[e]+", "+r:r}}),o):o}},function(t,e,r){"use strict";var n=r(8);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(8);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(8);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(8),i=r(135),a=r(81),o=r(48),s=r(136),h=r(137);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=h(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return u(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(u(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(8);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(82);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])});